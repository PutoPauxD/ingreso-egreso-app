(self.webpackChunkIngresoEgresoApp=self.webpackChunkIngresoEgresoApp||[]).push([[179],{440:(Me,te,T)=>{"use strict";T.d(te,{nm:()=>bt});var p=T(6351);T(5e3),T(5867);var Ue=T(5861),Ce=T(9681),Ve=T(4859),yt=T(2090),ve=T(1877);const we=new Map,xe={activated:!1,tokenObservers:[]},Ae={initialized:!1,enabled:!1};function ze(Re){return we.get(Re)||xe}function ke(Re,be){we.set(Re,be)}function ht(){return Ae}class gn{constructor(be,Ye,ft,Dt,jt){if(this.operation=be,this.retryPolicy=Ye,this.getWaitDuration=ft,this.lowerBound=Dt,this.upperBound=jt,this.pending=null,this.nextErrorWaitInterval=Dt,Dt>jt)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(be){var Ye=this;return(0,Ue.Z)(function*(){Ye.stop();try{Ye.pending=new yt.BH,yield function Bt(Re){return new Promise(be=>{setTimeout(be,Re)})}(Ye.getNextRun(be)),Ye.pending.resolve(),yield Ye.pending.promise,Ye.pending=new yt.BH,yield Ye.operation(),Ye.pending.resolve(),yield Ye.pending.promise,Ye.process(!0).catch(()=>{})}catch(ft){Ye.retryPolicy(ft)?Ye.process(!1).catch(()=>{}):Ye.stop()}})()}getNextRun(be){if(be)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const Ye=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),Ye}}}const $t=new yt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function on(Re){if(!ze(Re).activated)throw $t.create("use-before-activation",{appName:Re.name})}function Ln(Re,be){return xn.apply(this,arguments)}function xn(){return(xn=(0,Ue.Z)(function*({url:Re,body:be},Ye){const ft={"Content-Type":"application/json"},Dt=Ye.getImmediate({optional:!0});Dt&&(ft["X-Firebase-Client"]=Dt.getPlatformInfoString());const jt={method:"POST",body:JSON.stringify(be),headers:ft};let ir,xr;try{ir=yield fetch(Re,jt)}catch(es){throw $t.create("fetch-network-error",{originalErrorMessage:es.message})}if(200!==ir.status)throw $t.create("fetch-status-error",{httpStatus:ir.status});try{xr=yield ir.json()}catch(es){throw $t.create("fetch-parse-error",{originalErrorMessage:es.message})}const or=xr.ttl.match(/^([\d.]+)(s)$/);if(!or||!or[2]||isNaN(Number(or[1])))throw $t.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${xr.ttl}`});const fi=1e3*Number(or[1]),$i=Date.now();return{token:xr.attestationToken,expireTimeMillis:$i+fi,issuedAtTimeMillis:$i}})).apply(this,arguments)}function tr(Re,be){const{projectId:Ye,appId:ft,apiKey:Dt}=Re.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${Ye}/apps/${ft}:exchangeDebugToken?key=${Dt}`,body:{debug_token:be}}}const $n="firebase-app-check-store";let wn=null;function Yr(){return wn||(wn=new Promise((Re,be)=>{try{const Ye=indexedDB.open("firebase-app-check-database",1);Ye.onsuccess=ft=>{Re(ft.target.result)},Ye.onerror=ft=>{var Dt;be($t.create("storage-open",{originalErrorMessage:null===(Dt=ft.target.error)||void 0===Dt?void 0:Dt.message}))},Ye.onupgradeneeded=ft=>{0===ft.oldVersion&&ft.target.result.createObjectStore($n,{keyPath:"compositeKey"})}}catch(Ye){be($t.create("storage-open",{originalErrorMessage:Ye.message}))}}),wn)}function Et(){return(Et=(0,Ue.Z)(function*(Re,be){const ft=(yield Yr()).transaction($n,"readwrite"),jt=ft.objectStore($n).put({compositeKey:Re,value:be});return new Promise((ir,xr)=>{jt.onsuccess=or=>{ir()},ft.onerror=or=>{var fi;xr($t.create("storage-set",{originalErrorMessage:null===(fi=or.target.error)||void 0===fi?void 0:fi.message}))}})})).apply(this,arguments)}const zn=new ve.Yd("@firebase/app-check");function Cr(Re,be){return(0,yt.hl)()?function rn(Re,be){return function Hn(Re,be){return Et.apply(this,arguments)}(function gr(Re){return`${Re.options.appId}-${Re.name}`}(Re),be)}(Re,be).catch(Ye=>{zn.warn(`Failed to write token to IndexedDB. Error: ${Ye}`)}):Promise.resolve()}function Ee(){return ht().enabled}function Te(){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,Ue.Z)(function*(){const Re=ht();if(Re.enabled&&Re.token)return Re.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Mt={error:"UNKNOWN_ERROR"};function et(Re){return yt.US.encodeString(JSON.stringify(Re),!1)}function tt(Re){return wt.apply(this,arguments)}function wt(){return(wt=(0,Ue.Z)(function*(Re,be=!1){const Ye=Re.app;on(Ye);const ft=ze(Ye);let jt,Dt=ft.token;if(!Dt){const or=yield ft.cachedTokenPromise;or&&ai(or)&&(Dt=or)}if(!be&&Dt&&ai(Dt))return{token:Dt.token};let xr,ir=!1;if(Ee()){ft.exchangeTokenPromise||(ft.exchangeTokenPromise=Ln(tr(Ye,yield Te()),Re.platformLoggerProvider).then(fi=>(ft.exchangeTokenPromise=void 0,fi)),ir=!0);const or=yield ft.exchangeTokenPromise;return yield Cr(Ye,or),ke(Ye,Object.assign(Object.assign({},ft),{token:or})),{token:or.token}}try{ft.exchangeTokenPromise||(ft.exchangeTokenPromise=ft.provider.getToken().then(or=>(ft.exchangeTokenPromise=void 0,or)),ir=!0),Dt=yield ft.exchangeTokenPromise}catch(or){"appCheck/throttled"===or.code?zn.warn(or.message):zn.error(or),jt=or}return Dt?(xr={token:Dt.token},ke(Ye,Object.assign(Object.assign({},ft),{token:Dt})),yield Cr(Ye,Dt)):xr=wr(jt),ir&&Kn(Ye,xr),xr})).apply(this,arguments)}function vn(Re,be){const Ye=ze(Re),ft=Ye.tokenObservers.filter(Dt=>Dt.next!==be);0===ft.length&&Ye.tokenRefresher&&Ye.tokenRefresher.isRunning()&&Ye.tokenRefresher.stop(),ke(Re,Object.assign(Object.assign({},Ye),{tokenObservers:ft}))}function qt(Re){const{app:be}=Re,Ye=ze(be);let ft=Ye.tokenRefresher;ft||(ft=function Mn(Re){const{app:be}=Re;return new gn((0,Ue.Z)(function*(){let ft;if(ft=ze(be).token?yield tt(Re,!0):yield tt(Re),ft.error)throw ft.error}),()=>!0,()=>{const Ye=ze(be);if(Ye.token){let ft=Ye.token.issuedAtTimeMillis+.5*(Ye.token.expireTimeMillis-Ye.token.issuedAtTimeMillis)+3e5;return ft=Math.min(ft,Ye.token.expireTimeMillis-3e5),Math.max(0,ft-Date.now())}return 0},3e4,96e4)}(Re),ke(be,Object.assign(Object.assign({},Ye),{tokenRefresher:ft}))),!ft.isRunning()&&Ye.isTokenAutoRefreshEnabled&&ft.start()}function Kn(Re,be){const Ye=ze(Re).tokenObservers;for(const ft of Ye)try{"EXTERNAL"===ft.type&&null!=be.error?ft.error(be.error):ft.next(be)}catch(Dt){}}function ai(Re){return Re.expireTimeMillis-Date.now()>0}function wr(Re){return{token:et(Mt),error:Re}}class Pn{constructor(be,Ye){this.app=be,this.platformLoggerProvider=Ye}_delete(){const{tokenObservers:be}=ze(this.app);for(const Ye of be)vn(this.app,Ye.next);return Promise.resolve()}}const rt="app-check-internal";!function Le(){(0,Ce._registerComponent)(new Ve.wA("app-check",Re=>function dn(Re,be){return new Pn(Re,be)}(Re.getProvider("app").getImmediate(),Re.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((Re,be,Ye)=>{Re.getProvider(rt).initialize()})),(0,Ce._registerComponent)(new Ve.wA(rt,Re=>function rr(Re){return{getToken:be=>tt(Re,be),addTokenListener:be=>function Nt(Re,be,Ye,ft){const{app:Dt}=Re,jt=ze(Dt),ir={next:Ye,error:ft,type:be};if(ke(Dt,Object.assign(Object.assign({},jt),{tokenObservers:[...jt.tokenObservers,ir]})),jt.token&&ai(jt.token)){const xr=jt.token;Promise.resolve().then(()=>{Ye({token:xr.token}),qt(Re)}).catch(()=>{})}jt.cachedTokenPromise.then(()=>qt(Re))}(Re,"INTERNAL",be),removeTokenListener:be=>vn(Re.app,be)}}(Re.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ce.registerVersion)("@firebase/app-check","0.5.3")}();class bt{constructor(){return(0,p.vb)("app-check")}}"undefined"!=typeof window&&window},1041:(Me,te,T)=>{"use strict";T.d(te,{zQ:()=>ht,ww:()=>Qe,rT:()=>xe,f7:()=>ze,L6:()=>ve,_Q:()=>we,lh:()=>Ae,Qv:()=>yt,nw:()=>ke});var p=T(5e3),L=T(7579),V=T(9646),ue=T(8306),ee=T(8996),le=T(6451),ye=T(4707),ae=T(3099);function ne(xt,Lt,In){let Ot,St=!1;return xt&&"object"==typeof xt?({bufferSize:Ot=1/0,windowTime:Lt=1/0,refCount:St=!1,scheduler:In}=xt):Ot=null!=xt?xt:1/0,(0,ae.B)({connector:()=>new ye.t(Ot,Lt,In),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:St})}var J=T(3900),X=T(576);function re(xt,Lt){return(0,X.m)(Lt)?(0,J.w)(()=>xt,Lt):(0,J.w)(()=>xt)}var je=T(5363),Oe=T(4004),$e=T(590),ot=T(9468),De=T(9300),Fe=T(6351),oe=T(2011),nt=T(9808),Ue=T(440),Ce=T(127);const yt=new p.OlP("angularfire2.auth.use-emulator"),ve=new p.OlP("angularfire2.auth.settings"),we=new p.OlP("angularfire2.auth.tenant-id"),xe=new p.OlP("angularfire2.auth.langugage-code"),Ae=new p.OlP("angularfire2.auth.use-device-language"),ze=new p.OlP("angularfire.auth.persistence"),ke=(xt,Lt,In,Ot,St,gn,Bt,yn)=>(0,oe.cc)(`${xt.name}.auth`,"AngularFireAuth",xt.name,()=>{const $t=Lt.runOutsideAngular(()=>xt.auth());if(In&&$t.useEmulator(...In),Ot&&($t.tenantId=Ot),$t.languageCode=St,gn&&$t.useDeviceLanguage(),Bt)for(const[bn,on]of Object.entries(Bt))$t.settings[bn]=on;return yn&&$t.setPersistence(yn),$t},[In,Ot,St,gn,Bt,yn]);let ht=(()=>{class xt{constructor(In,Ot,St,gn,Bt,yn,$t,bn,on,ln,er,Zn){const Ln=new L.x,xn=(0,V.of)(void 0).pipe((0,je.Q)(Bt.outsideAngular),(0,J.w)(()=>gn.runOutsideAngular(()=>Promise.resolve().then(T.bind(T,3059)))),(0,Oe.U)(()=>(0,oe.on)(In,gn,Ot)),(0,Oe.U)(lr=>ke(lr,gn,yn,bn,on,ln,$t,er)),ne({bufferSize:1,refCount:!1}));if((0,nt.PM)(St))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,V.of)(null);else{xn.pipe((0,$e.P)()).subscribe();const Nn=xn.pipe((0,J.w)(Rt=>Rt.getRedirectResult().then($n=>$n,()=>null)),Fe.iC,ne({bufferSize:1,refCount:!1})),tr=xn.pipe((0,J.w)(Rt=>new ue.y($n=>({unsubscribe:gn.runOutsideAngular(()=>Rt.onAuthStateChanged(nn=>$n.next(nn),nn=>$n.error(nn),()=>$n.complete()))})))),fn=xn.pipe((0,J.w)(Rt=>new ue.y($n=>({unsubscribe:gn.runOutsideAngular(()=>Rt.onIdTokenChanged(nn=>$n.next(nn),nn=>$n.error(nn),()=>$n.complete()))}))));this.authState=Nn.pipe(re(tr),(0,ot.R)(Bt.outsideAngular),(0,je.Q)(Bt.insideAngular)),this.user=Nn.pipe(re(fn),(0,ot.R)(Bt.outsideAngular),(0,je.Q)(Bt.insideAngular)),this.idToken=this.user.pipe((0,J.w)(Rt=>Rt?(0,ee.D)(Rt.getIdToken()):(0,V.of)(null))),this.idTokenResult=this.user.pipe((0,J.w)(Rt=>Rt?(0,ee.D)(Rt.getIdTokenResult()):(0,V.of)(null))),this.credential=(0,le.T)(Nn,Ln,this.authState.pipe((0,De.h)(Rt=>!Rt))).pipe((0,Oe.U)(Rt=>(null==Rt?void 0:Rt.user)?Rt:null),(0,ot.R)(Bt.outsideAngular),(0,je.Q)(Bt.insideAngular))}return(0,oe.pX)(this,xn,gn,{spy:{apply:(lr,Nn,tr)=>{(lr.startsWith("signIn")||lr.startsWith("createUser"))&&tr.then(fn=>Ln.next(fn))}}})}}return xt.\u0275fac=function(In){return new(In||xt)(p.LFG(oe.Dh),p.LFG(oe.xv,8),p.LFG(p.Lbi),p.LFG(p.R0b),p.LFG(Fe.HU),p.LFG(yt,8),p.LFG(ve,8),p.LFG(we,8),p.LFG(xe,8),p.LFG(Ae,8),p.LFG(ze,8),p.LFG(Ue.nm,8))},xt.\u0275prov=p.Yz7({token:xt,factory:xt.\u0275fac,providedIn:"any"}),xt})(),Qe=(()=>{class xt{constructor(){Ce.Z.registerVersion("angularfire",Fe.q4.full,"auth-compat")}}return xt.\u0275fac=function(In){return new(In||xt)},xt.\u0275mod=p.oAB({type:xt}),xt.\u0275inj=p.cJS({providers:[ht]}),xt})()},7407:(Me,te,T)=>{"use strict";T.d(te,{ST:()=>iy,yb:()=>sy});var p=T(5e3),L=T(4986),V=T(8306),ue=T(8996),ee=T(9646),le=T(6351),ye=T(4482),ae=T(5403);function ne(){return(0,ye.e)((i,e)=>{let t,o=!1;i.subscribe((0,ae.x)(e,u=>{const f=t;t=u,o&&e.next([f,u]),o=!0}))})}var we,J=T(8675),X=T(4004),re=T(5026),je=T(1884),Oe=T(9300),$e=T(2011),ot=T(9808),Fe=(T(3059),T(3942)),oe=T(5861),nt=T(9681),Ue=T(4859),Ce=T(1877),Ve=T(2090),yt="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},ve={},xe=xe||{},Ae=yt||self;function ze(){}function ke(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function ht(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var xt="closure_uid_"+(1e9*Math.random()>>>0),Lt=0;function In(i,e,t){return i.call.apply(i.bind,arguments)}function Ot(i,e,t){if(!i)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var u=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(u,o),i.apply(e,u)}}return function(){return i.apply(e,arguments)}}function St(i,e,t){return(St=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?In:Ot).apply(null,arguments)}function gn(i,e){var t=Array.prototype.slice.call(arguments,1);return function(){var o=t.slice();return o.push.apply(o,arguments),i.apply(this,o)}}function Bt(i,e){function t(){}t.prototype=e.prototype,i.Z=e.prototype,i.prototype=new t,i.prototype.constructor=i,i.Vb=function(o,u,f){for(var y=Array(arguments.length-2),O=2;O<arguments.length;O++)y[O-2]=arguments[O];return e.prototype[u].apply(o,y)}}function yn(){this.s=this.s,this.o=this.o}var bn={};yn.prototype.s=!1,yn.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var i=function Qe(i){return Object.prototype.hasOwnProperty.call(i,xt)&&i[xt]||(i[xt]=++Lt)}(this);delete bn[i]}},yn.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const on=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let t=0;t<i.length;t++)if(t in i&&i[t]===e)return t;return-1},ln=Array.prototype.forEach?function(i,e,t){Array.prototype.forEach.call(i,e,t)}:function(i,e,t){const o=i.length,u="string"==typeof i?i.split(""):i;for(let f=0;f<o;f++)f in u&&e.call(t,u[f],f,i)};function Zn(i){return Array.prototype.concat.apply([],arguments)}function Ln(i){const e=i.length;if(0<e){const t=Array(e);for(let o=0;o<e;o++)t[o]=i[o];return t}return[]}function xn(i){return/^[\s\xa0]*$/.test(i)}var fn,lr=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function Nn(i,e){return-1!=i.indexOf(e)}function tr(i,e){return i<e?-1:i>e?1:0}e:{var Rt=Ae.navigator;if(Rt){var $n=Rt.userAgent;if($n){fn=$n;break e}}fn=""}function nn(i,e,t){for(const o in i)e.call(t,i[o],o,i)}function wn(i){const e={};for(const t in i)e[t]=i[t];return e}var Yr="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Rr(i,e){let t,o;for(let u=1;u<arguments.length;u++){for(t in o=arguments[u],o)i[t]=o[t];for(let f=0;f<Yr.length;f++)t=Yr[f],Object.prototype.hasOwnProperty.call(o,t)&&(i[t]=o[t])}}function rn(i){return rn[" "](i),i}rn[" "]=ze;var Dn,i,pr=Nn(fn,"Opera"),Hn=Nn(fn,"Trident")||Nn(fn,"MSIE"),Et=Nn(fn,"Edge"),Pt=Et||Hn,Ht=Nn(fn,"Gecko")&&!(Nn(fn.toLowerCase(),"webkit")&&!Nn(fn,"Edge"))&&!(Nn(fn,"Trident")||Nn(fn,"MSIE"))&&!Nn(fn,"Edge"),gr=Nn(fn.toLowerCase(),"webkit")&&!Nn(fn,"Edge");function zn(){var i=Ae.document;return i?i.documentMode:void 0}e:{var Gr="",Cr=(i=fn,Ht?/rv:([^\);]+)(\)|;)/.exec(i):Et?/Edge\/([\d\.]+)/.exec(i):Hn?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):gr?/WebKit\/(\S+)/.exec(i):pr?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(Cr&&(Gr=Cr?Cr[1]:""),Hn){var nr=zn();if(null!=nr&&nr>parseFloat(Gr)){Dn=String(nr);break e}}Dn=Gr}var pe={};var He=Ae.document&&Hn&&(zn()||parseInt(Dn,10))||void 0,Mt=function(){if(!Ae.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{Ae.addEventListener("test",ze,e),Ae.removeEventListener("test",ze,e)}catch(t){}return i}();function et(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}function tt(i,e){if(et.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var t=this.type=i.type,o=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(Ht){e:{try{rn(e.nodeName);var u=!0;break e}catch(f){}u=!1}u||(e=null)}}else"mouseover"==t?e=i.fromElement:"mouseout"==t&&(e=i.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:wt[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&tt.Z.h.call(this)}}et.prototype.h=function(){this.defaultPrevented=!0},Bt(tt,et);var wt={2:"touch",3:"pen",4:"mouse"};tt.prototype.h=function(){tt.Z.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var Nt="closure_listenable_"+(1e6*Math.random()|0),vn=0;function qt(i,e,t,o,u){this.listener=i,this.proxy=null,this.src=e,this.type=t,this.capture=!!o,this.ia=u,this.key=++vn,this.ca=this.fa=!1}function Mn(i){i.ca=!0,i.listener=null,i.proxy=null,i.src=null,i.ia=null}function Kn(i){this.src=i,this.g={},this.h=0}function ai(i,e){var t=e.type;if(t in i.g){var f,o=i.g[t],u=on(o,e);(f=0<=u)&&Array.prototype.splice.call(o,u,1),f&&(Mn(e),0==i.g[t].length&&(delete i.g[t],i.h--))}}function wr(i,e,t,o){for(var u=0;u<i.length;++u){var f=i[u];if(!f.ca&&f.listener==e&&f.capture==!!t&&f.ia==o)return u}return-1}Kn.prototype.add=function(i,e,t,o,u){var f=i.toString();(i=this.g[f])||(i=this.g[f]=[],this.h++);var y=wr(i,e,o,u);return-1<y?(e=i[y],t||(e.fa=!1)):((e=new qt(e,this.src,f,!!o,u)).fa=t,i.push(e)),e};var Pn="closure_lm_"+(1e6*Math.random()|0),dn={};function rr(i,e,t,o,u){if(o&&o.once)return Un(i,e,t,o,u);if(Array.isArray(e)){for(var f=0;f<e.length;f++)rr(i,e[f],t,o,u);return null}return t=Sr(t),i&&i[Nt]?i.N(e,t,ht(o)?!!o.capture:!!o,u):yr(i,e,t,!1,o,u)}function yr(i,e,t,o,u,f){if(!e)throw Error("Invalid event type");var y=ht(u)?!!u.capture:!!u,O=Pr(i);if(O||(i[Pn]=O=new Kn(i)),(t=O.add(e,t,o,y,f)).proxy)return t;if(o=function _r(){var e=Wr;return function i(t){return e.call(i.src,i.listener,t)}}(),t.proxy=o,o.src=i,o.listener=t,i.addEventListener)Mt||(u=y),void 0===u&&(u=!1),i.addEventListener(e.toString(),o,u);else if(i.attachEvent)i.attachEvent(ui(e.toString()),o);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(o)}return t}function Un(i,e,t,o,u){if(Array.isArray(e)){for(var f=0;f<e.length;f++)Un(i,e[f],t,o,u);return null}return t=Sr(t),i&&i[Nt]?i.O(e,t,ht(o)?!!o.capture:!!o,u):yr(i,e,t,!0,o,u)}function Ar(i,e,t,o,u){if(Array.isArray(e))for(var f=0;f<e.length;f++)Ar(i,e[f],t,o,u);else o=ht(o)?!!o.capture:!!o,t=Sr(t),i&&i[Nt]?(i=i.i,(e=String(e).toString())in i.g&&-1<(t=wr(f=i.g[e],t,o,u))&&(Mn(f[t]),Array.prototype.splice.call(f,t,1),0==f.length&&(delete i.g[e],i.h--))):i&&(i=Pr(i))&&(e=i.g[e.toString()],i=-1,e&&(i=wr(e,t,o,u)),(t=-1<i?e[i]:null)&&Mi(t))}function Mi(i){if("number"!=typeof i&&i&&!i.ca){var e=i.src;if(e&&e[Nt])ai(e.i,i);else{var t=i.type,o=i.proxy;e.removeEventListener?e.removeEventListener(t,o,i.capture):e.detachEvent?e.detachEvent(ui(t),o):e.addListener&&e.removeListener&&e.removeListener(o),(t=Pr(e))?(ai(t,i),0==t.h&&(t.src=null,e[Pn]=null)):Mn(i)}}}function ui(i){return i in dn?dn[i]:dn[i]="on"+i}function Wr(i,e){if(i.ca)i=!0;else{e=new tt(e,this);var t=i.listener,o=i.ia||i.src;i.fa&&Mi(i),i=t.call(o,e)}return i}function Pr(i){return(i=i[Pn])instanceof Kn?i:null}var Wt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Sr(i){return"function"==typeof i?i:(i[Wt]||(i[Wt]=function(e){return i.handleEvent(e)}),i[Wt])}function On(){yn.call(this),this.i=new Kn(this),this.P=this,this.I=null}function lt(i,e){var t,o=i.I;if(o)for(t=[];o;o=o.I)t.push(o);if(i=i.P,o=e.type||e,"string"==typeof e)e=new et(e,i);else if(e instanceof et)e.target=e.target||i;else{var u=e;Rr(e=new et(o,i),u)}if(u=!0,t)for(var f=t.length-1;0<=f;f--){var y=e.g=t[f];u=an(y,o,!0,e)&&u}if(u=an(y=e.g=i,o,!0,e)&&u,u=an(y,o,!1,e)&&u,t)for(f=0;f<t.length;f++)u=an(y=e.g=t[f],o,!1,e)&&u}function an(i,e,t,o){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var u=!0,f=0;f<e.length;++f){var y=e[f];if(y&&!y.ca&&y.capture==t){var O=y.listener,H=y.ia||y.src;y.fa&&ai(i.i,y),u=!1!==O.call(H,o)&&u}}return u&&!o.defaultPrevented}Bt(On,yn),On.prototype[Nt]=!0,On.prototype.removeEventListener=function(i,e,t,o){Ar(this,i,e,t,o)},On.prototype.M=function(){if(On.Z.M.call(this),this.i){var e,i=this.i;for(e in i.g){for(var t=i.g[e],o=0;o<t.length;o++)Mn(t[o]);delete i.g[e],i.h--}}this.I=null},On.prototype.N=function(i,e,t,o){return this.i.add(String(i),e,!1,t,o)},On.prototype.O=function(i,e,t,o){return this.i.add(String(i),e,!0,t,o)};var Bn=Ae.JSON.stringify;function Tr(){var i=yi;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var Yn,qn=new class{constructor(i,e){this.i=i,this.j=e,this.h=0,this.g=null}get(){let i;return 0<this.h?(this.h--,i=this.g,this.g=i.next,i.next=null):i=this.i(),i}}(()=>new Qr,i=>i.reset());class Qr{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function hn(i){Ae.setTimeout(()=>{throw i},0)}function Jr(i,e){Yn||function En(){var i=Ae.Promise.resolve(void 0);Yn=function(){i.then(ge)}}(),ni||(Yn(),ni=!0),yi.add(i,e)}var ni=!1,yi=new class zr{constructor(){this.h=this.g=null}add(e,t){const o=qn.get();o.set(e,t),this.h?this.h.next=o:this.g=o,this.h=o}};function ge(){for(var i;i=Tr();){try{i.h.call(i.g)}catch(t){hn(t)}var e=qn;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}ni=!1}function rt(i,e){On.call(this),this.h=i||1,this.g=e||Ae,this.j=St(this.kb,this),this.l=Date.now()}function Le(i){i.da=!1,i.S&&(i.g.clearTimeout(i.S),i.S=null)}function qe(i,e,t){if("function"==typeof i)t&&(i=St(i,t));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=St(i.handleEvent,i)}return 2147483647<Number(e)?-1:Ae.setTimeout(i,e||0)}function vt(i){i.g=qe(()=>{i.g=null,i.i&&(i.i=!1,vt(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}Bt(rt,On),(we=rt.prototype).da=!1,we.S=null,we.kb=function(){if(this.da){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-i):(this.S&&(this.g.clearTimeout(this.S),this.S=null),lt(this,"tick"),this.da&&(Le(this),this.start()))}},we.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},we.M=function(){rt.Z.M.call(this),Le(this),delete this.g};class bt extends yn{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:vt(this)}M(){super.M(),this.g&&(Ae.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ut(i){yn.call(this),this.h=i,this.g={}}Bt(Ut,yn);var dr=[];function ce(i,e,t,o){Array.isArray(t)||(t&&(dr[0]=t.toString()),t=dr);for(var u=0;u<t.length;u++){var f=rr(e,t[u],o||i.handleEvent,!1,i.h||i);if(!f)break;i.g[f.key]=f}}function de(i){nn(i.g,function(e,t){this.g.hasOwnProperty(t)&&Mi(e)},i),i.g={}}function Q(){this.g=!0}function Vt(i,e,t,o){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Kr(i,e){if(!i.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(i=0;i<t.length;i++)if(Array.isArray(t[i])){var o=t[i];if(!(2>o.length)){var u=o[1];if(Array.isArray(u)&&!(1>u.length)){var f=u[0];if("noop"!=f&&"stop"!=f&&"close"!=f)for(var y=1;y<u.length;y++)u[y]=""}}}return Bn(t)}catch(O){return e}}(i,t)+(o?" "+o:"")})}Ut.prototype.M=function(){Ut.Z.M.call(this),de(this)},Ut.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Q.prototype.Aa=function(){this.g=!1},Q.prototype.info=function(){};var Er={},ji=null;function hr(){return ji=ji||new On}function Zs(i){et.call(this,Er.Ma,i)}function Es(i){const e=hr();lt(e,new Zs(e,i))}function Re(i,e){et.call(this,Er.STAT_EVENT,i),this.stat=e}function be(i){const e=hr();lt(e,new Re(e,i))}function Ye(i,e){et.call(this,Er.Na,i),this.size=e}function ft(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return Ae.setTimeout(function(){i()},e)}Er.Ma="serverreachability",Bt(Zs,et),Er.STAT_EVENT="statevent",Bt(Re,et),Er.Na="timingevent",Bt(Ye,et);var Dt={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},jt={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function ir(){}function or(){}ir.prototype.h=null;var Rs,fi={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function $i(){et.call(this,"d")}function es(){et.call(this,"c")}function _i(){}function Hs(i,e,t,o){this.l=i,this.j=e,this.m=t,this.X=o||1,this.V=new Ut(this),this.P=ts,this.W=new rt(i=Pt?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new ps}function ps(){this.i=null,this.g="",this.h=!1}Bt($i,et),Bt(es,et),Bt(_i,ir),_i.prototype.g=function(){return new XMLHttpRequest},_i.prototype.i=function(){return{}},Rs=new _i;var ts=45e3,pi={},Di={};function gs(i,e,t){i.K=1,i.v=Je(Gn(e)),i.s=t,i.U=!0,ls(i,null)}function ls(i,e){i.F=Date.now(),Oi(i),i.A=Gn(i.v);var t=i.A,o=i.X;Array.isArray(o)||(o=[String(o)]),F(t.h,"t",o),i.C=0,t=i.l.H,i.h=new ps,i.g=fo(i.l,t?e:null,!i.s),0<i.O&&(i.L=new bt(St(i.Ia,i,i.g),i.O)),ce(i.V,i.g,"readystatechange",i.gb),e=i.H?wn(i.H):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.ea(i.A,i.u,i.s,e)):(i.u="GET",i.g.ea(i.A,i.u,null,e)),Es(1),function Be(i,e,t,o,u,f){i.info(function(){if(i.g)if(f)for(var y="",O=f.split("&"),H=0;H<O.length;H++){var q=O[H].split("=");if(1<q.length){var he=q[0];q=q[1];var Ne=he.split("_");y=2<=Ne.length&&"type"==Ne[1]?y+(he+"=")+q+"&":y+(he+"=redacted&")}}else y=null;else y=f;return"XMLHTTP REQ ("+o+") [attempt "+u+"]: "+e+"\n"+t+"\n"+y})}(i.j,i.u,i.A,i.m,i.X,i.s)}function Gs(i){return!!i.g&&"GET"==i.u&&2!=i.K&&i.l.Ba}function Hi(i,e,t){let u,o=!0;for(;!i.I&&i.C<t.length;){if(u=bs(i,t),u==Di){4==e&&(i.o=4,be(14),o=!1),Vt(i.j,i.m,null,"[Incomplete Response]");break}if(u==pi){i.o=4,be(15),Vt(i.j,i.m,t,"[Invalid Chunk]"),o=!1;break}Vt(i.j,i.m,u,null),$r(i,u)}Gs(i)&&u!=Di&&u!=pi&&(i.h.g="",i.C=0),4!=e||0!=t.length||i.h.h||(i.o=1,be(16),o=!1),i.i=i.i&&o,o?0<t.length&&!i.aa&&(i.aa=!0,(e=i.l).g==i&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),To(e),e.L=!0,be(11))):(Vt(i.j,i.m,t,"[Invalid Chunked Response]"),Mr(i),Ws(i))}function bs(i,e){var t=i.C,o=e.indexOf("\n",t);return-1==o?Di:(t=Number(e.substring(t,o)),isNaN(t)?pi:(o+=1)+t>e.length?Di:(e=e.substr(o,t),i.C=o+t,e))}function Oi(i){i.Y=Date.now()+i.P,Gi(i,i.P)}function Gi(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=ft(St(i.eb,i),e)}function jr(i){i.B&&(Ae.clearTimeout(i.B),i.B=null)}function Ws(i){0==i.l.G||i.I||Ho(i.l,i)}function Mr(i){jr(i);var e=i.L;e&&"function"==typeof e.na&&e.na(),i.L=null,Le(i.W),de(i.V),i.g&&(e=i.g,i.g=null,e.abort(),e.na())}function $r(i,e){try{var t=i.l;if(0!=t.G&&(t.g==i||ur(t.i,i)))if(t.I=i.N,!i.J&&ur(t.i,i)&&3==t.G){try{var o=t.Ca.g.parse(e)}catch(q){o=null}if(Array.isArray(o)&&3==o.length){var u=o;if(0==u[0])e:if(t.u)t.ta=u[1],0<t.ta-t.U&&37500>u[2]&&t.N&&0==t.A&&!t.v&&(t.v=ft(St(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<i.F))break e;cr(t),Ns(t)}Ts(t),be(18)}if(1>=Zr(t.i)&&t.ka){try{t.ka()}catch(q){}t.ka=void 0}}else qi(t,11)}else if((i.J||t.g==i)&&cr(t),!xn(e))for(u=t.Ca.g.parse(e),e=0;e<u.length;e++){let q=u[e];if(t.U=q[0],q=q[1],2==t.G)if("c"==q[0]){t.J=q[1],t.la=q[2];const he=q[3];null!=he&&(t.ma=he,t.h.info("VER="+t.ma));const Ne=q[4];null!=Ne&&(t.za=Ne,t.h.info("SVER="+t.za));const it=q[5];null!=it&&"number"==typeof it&&0<it&&(t.K=o=1.5*it,t.h.info("backChannelRequestTimeoutMs_="+o)),o=t;const _t=i.g;if(_t){const At=_t.g?_t.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(At){var f=o.i;!f.g&&(Nn(At,"spdy")||Nn(At,"quic")||Nn(At,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(Ni(f,f.h),f.h=null))}if(o.D){const cn=_t.g?_t.g.getResponseHeader("X-HTTP-Session-Id"):null;cn&&(o.sa=cn,_e(o.F,o.D,cn))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-i.F,t.h.info("Handshake RTT: "+t.O+"ms"));var y=i;if((o=t).oa=ys(o,o.H?o.la:null,o.W),y.J){zi(o.i,y);var O=y,H=o.K;H&&O.setTimeout(H),O.B&&(jr(O),Oi(O)),o.g=y}else ms(o);0<t.l.length&&to(t)}else"stop"!=q[0]&&"close"!=q[0]||qi(t,7);else 3==t.G&&("stop"==q[0]||"close"==q[0]?"stop"==q[0]?qi(t,7):ii(t):"noop"!=q[0]&&t.j&&t.j.wa(q),t.A=0)}Es(4)}catch(q){}}function Ys(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(ke(i)||"string"==typeof i)ln(i,e,void 0);else{if(i.T&&"function"==typeof i.T)var t=i.T();else if(i.R&&"function"==typeof i.R)t=void 0;else if(ke(i)||"string"==typeof i){t=[];for(var o=i.length,u=0;u<o;u++)t.push(u)}else for(u in t=[],o=0,i)t[o++]=u;o=function Is(i){if(i.R&&"function"==typeof i.R)return i.R();if("string"==typeof i)return i.split("");if(ke(i)){for(var e=[],t=i.length,o=0;o<t;o++)e.push(i[o]);return e}for(o in e=[],t=0,i)e[t++]=i[o];return e}(i),u=o.length;for(var f=0;f<u;f++)e.call(void 0,o[f],t&&t[f],i)}}function vi(i,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var o=0;o<t;o+=2)this.set(arguments[o],arguments[o+1])}else if(i)if(i instanceof vi)for(t=i.T(),o=0;o<t.length;o++)this.set(t[o],i.get(t[o]));else for(o in i)this.set(o,i[o])}function wi(i){if(i.i!=i.g.length){for(var e=0,t=0;e<i.g.length;){var o=i.g[e];ns(i.h,o)&&(i.g[t++]=o),e++}i.g.length=t}if(i.i!=i.g.length){var u={};for(t=e=0;e<i.g.length;)ns(u,o=i.g[e])||(i.g[t++]=o,u[o]=1),e++;i.g.length=t}}function ns(i,e){return Object.prototype.hasOwnProperty.call(i,e)}(we=Hs.prototype).setTimeout=function(i){this.P=i},we.gb=function(i){i=i.target;const e=this.L;e&&3==Ki(i)?e.l():this.Ia(i)},we.Ia=function(i){try{if(i==this.g)e:{const he=Ki(this.g);var e=this.g.Da();const Ne=this.g.ba();if(!(3>he)&&(3!=he||Pt||this.g&&(this.h.h||this.g.ga()||na(this.g)))){this.I||4!=he||7==e||Es(8==e||0>=Ne?3:2),jr(this);var t=this.g.ba();this.N=t;t:if(Gs(this)){var o=na(this.g);i="";var u=o.length,f=4==Ki(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Mr(this),Ws(this);var y="";break t}this.h.i=new Ae.TextDecoder}for(e=0;e<u;e++)this.h.h=!0,i+=this.h.i.decode(o[e],{stream:f&&e==u-1});o.splice(0,u),this.h.g+=i,this.C=0,y=this.h.g}else y=this.g.ga();if(this.i=200==t,function dt(i,e,t,o,u,f,y){i.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+u+"]: "+e+"\n"+t+"\n"+f+" "+y})}(this.j,this.u,this.A,this.m,this.X,he,t),this.i){if(this.$&&!this.J){t:{if(this.g){var O,H=this.g;if((O=H.g?H.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!xn(O)){var q=O;break t}}q=null}if(!(t=q)){this.i=!1,this.o=3,be(12),Mr(this),Ws(this);break e}Vt(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,$r(this,t)}this.U?(Hi(this,he,y),Pt&&this.i&&3==he&&(ce(this.V,this.W,"tick",this.fb),this.W.start())):(Vt(this.j,this.m,y,null),$r(this,y)),4==he&&Mr(this),this.i&&!this.I&&(4==he?Ho(this.l,this):(this.i=!1,Oi(this)))}else 400==t&&0<y.indexOf("Unknown SID")?(this.o=3,be(12)):(this.o=0,be(13)),Mr(this),Ws(this)}}}catch(he){}},we.fb=function(){if(this.g){var i=Ki(this.g),e=this.g.ga();this.C<e.length&&(jr(this),Hi(this,i,e),this.i&&4!=i&&Oi(this))}},we.cancel=function(){this.I=!0,Mr(this)},we.eb=function(){this.B=null;const i=Date.now();0<=i-this.Y?(function sn(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Es(3),be(17)),Mr(this),this.o=2,Ws(this)):Gi(this,this.Y-i)},(we=vi.prototype).R=function(){wi(this);for(var i=[],e=0;e<this.g.length;e++)i.push(this.h[this.g[e]]);return i},we.T=function(){return wi(this),this.g.concat()},we.get=function(i,e){return ns(this.h,i)?this.h[i]:e},we.set=function(i,e){ns(this.h,i)||(this.i++,this.g.push(i)),this.h[i]=e},we.forEach=function(i,e){for(var t=this.T(),o=0;o<t.length;o++){var u=t[o],f=this.get(u);i.call(e,f,u,this)}};var Ps=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Wi(i,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,i instanceof Wi){this.g=void 0!==e?e:i.g,N(this,i.j),this.s=i.s,G(this,i.i),P(this,i.m),this.l=i.l,e=i.h;var t=new qr;t.i=e.i,e.g&&(t.g=new vi(e.g),t.h=e.h),Z(this,t),this.o=i.o}else i&&(t=String(i).match(Ps))?(this.g=!!e,N(this,t[1]||"",!0),this.s=_n(t[2]||""),G(this,t[3]||"",!0),P(this,t[4]),this.l=_n(t[5]||"",!0),Z(this,t[6]||"",!0),this.o=_n(t[7]||"")):(this.g=!!e,this.h=new qr(null,this.g))}function Gn(i){return new Wi(i)}function N(i,e,t){i.j=t?_n(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function G(i,e,t){i.i=t?_n(e,!0):e}function P(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function Z(i,e,t){e instanceof qr?(i.h=e,function M(i,e){e&&!i.j&&(Yt(i),i.i=null,i.g.forEach(function(t,o){var u=o.toLowerCase();o!=u&&(ds(this,o),F(this,u,t))},i)),i.j=e}(i.h,i.g)):(t||(e=kn(e,fr)),i.h=new qr(e,i.g))}function _e(i,e,t){i.h.set(e,t)}function Je(i){return _e(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function _n(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function kn(i,e,t){return"string"==typeof i?(i=encodeURI(i).replace(e,Cn),t&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function Cn(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}Wi.prototype.toString=function(){var i=[],e=this.j;e&&i.push(kn(e,Wn,!0),":");var t=this.i;return(t||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(kn(e,Wn,!0),"@"),i.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&i.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&i.push("/"),i.push(kn(t,"/"==t.charAt(0)?mr:Nr,!0))),(t=this.h.toString())&&i.push("?",t),(t=this.o)&&i.push("#",kn(t,Pi)),i.join("")};var Wn=/[#\/\?@]/g,Nr=/[#\?:]/g,mr=/[#\?]/g,fr=/[#\?@]/g,Pi=/#/g;function qr(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function Yt(i){i.g||(i.g=new vi,i.h=0,i.i&&function Ri(i,e){if(i){i=i.split("&");for(var t=0;t<i.length;t++){var o=i[t].indexOf("="),u=null;if(0<=o){var f=i[t].substring(0,o);u=i[t].substring(o+1)}else f=i[t];e(f,u?decodeURIComponent(u.replace(/\+/g," ")):"")}}}(i.i,function(e,t){i.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function ds(i,e){Yt(i),e=R(i,e),ns(i.g.h,e)&&(i.i=null,i.h-=i.g.get(e).length,ns((i=i.g).h,e)&&(delete i.h[e],i.i--,i.g.length>2*i.i&&wi(i)))}function zs(i,e){return Yt(i),e=R(i,e),ns(i.g.h,e)}function F(i,e,t){ds(i,e),0<t.length&&(i.i=null,i.g.set(R(i,e),Ln(t)),i.h+=t.length)}function R(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function at(i){this.l=i||Ge,i=Ae.PerformanceNavigationTiming?0<(i=Ae.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(Ae.g&&Ae.g.Ea&&Ae.g.Ea()&&Ae.g.Ea().Zb),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(we=qr.prototype).add=function(i,e){Yt(this),this.i=null,i=R(this,i);var t=this.g.get(i);return t||this.g.set(i,t=[]),t.push(e),this.h+=1,this},we.forEach=function(i,e){Yt(this),this.g.forEach(function(t,o){ln(t,function(u){i.call(e,u,o,this)},this)},this)},we.T=function(){Yt(this);for(var i=this.g.R(),e=this.g.T(),t=[],o=0;o<e.length;o++)for(var u=i[o],f=0;f<u.length;f++)t.push(e[o]);return t},we.R=function(i){Yt(this);var e=[];if("string"==typeof i)zs(this,i)&&(e=Zn(e,this.g.get(R(this,i))));else{i=this.g.R();for(var t=0;t<i.length;t++)e=Zn(e,i[t])}return e},we.set=function(i,e){return Yt(this),this.i=null,zs(this,i=R(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},we.get=function(i,e){return i&&0<(i=this.R(i)).length?String(i[0]):e},we.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var i=[],e=this.g.T(),t=0;t<e.length;t++){var o=e[t],u=encodeURIComponent(String(o));o=this.R(o);for(var f=0;f<o.length;f++){var y=u;""!==o[f]&&(y+="="+encodeURIComponent(String(o[f]))),i.push(y)}}return this.i=i.join("&")};var Ge=10;function Qt(i){return!!i.h||!!i.g&&i.g.size>=i.j}function Zr(i){return i.h?1:i.g?i.g.size:0}function ur(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function Ni(i,e){i.g?i.g.add(e):i.h=e}function zi(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function Ei(i){if(null!=i.h)return i.i.concat(i.h.D);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const t of i.g.values())e=e.concat(t.D);return e}return Ln(i.i)}function uo(){}function Qs(){this.g=new uo}function Pa(i,e,t){const o=t||"";try{Ys(i,function(u,f){let y=u;ht(u)&&(y=Bn(u)),e.push(o+f+"="+encodeURIComponent(y))})}catch(u){throw e.push(o+"type="+encodeURIComponent("_badmap")),u}}function Ks(i,e,t,o,u){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,u(o)}catch(f){}}function Ds(i){this.l=i.$b||null,this.j=i.ib||!1}function Xr(i,e){On.call(this),this.D=i,this.u=e,this.m=void 0,this.readyState=hs,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}at.prototype.cancel=function(){if(this.i=Ei(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}},uo.prototype.stringify=function(i){return Ae.JSON.stringify(i,void 0)},uo.prototype.parse=function(i){return Ae.JSON.parse(i,void 0)},Bt(Ds,ir),Ds.prototype.g=function(){return new Xr(this.l,this.j)},Ds.prototype.i=function(i){return function(){return i}}({}),Bt(Xr,On);var hs=0;function ta(i){i.j.read().then(i.Sa.bind(i)).catch(i.ha.bind(i))}function rs(i){i.readyState=4,i.l=null,i.j=null,i.A=null,ki(i)}function ki(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(we=Xr.prototype).open=function(i,e){if(this.readyState!=hs)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,ki(this)},we.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.D||Ae).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},we.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,rs(this)),this.readyState=hs},we.Va=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,ki(this)),this.g&&(this.readyState=3,ki(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Ae.ReadableStream&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ta(this)}else i.text().then(this.Ua.bind(this),this.ha.bind(this))},we.Sa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?rs(this):ki(this),3==this.readyState&&ta(this)}},we.Ua=function(i){this.g&&(this.response=this.responseText=i,rs(this))},we.Ta=function(i){this.g&&(this.response=i,rs(this))},we.ha=function(){this.g&&rs(this)},we.setRequestHeader=function(i,e){this.v.append(i,e)},we.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},we.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var t=e.next();!t.done;)i.push((t=t.value)[0]+": "+t[1]),t=e.next();return i.join("\r\n")},Object.defineProperty(Xr.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var Do=Ae.JSON.parse;function ri(i){On.call(this),this.headers=new vi,this.u=i||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Co,this.K=this.L=!1}Bt(ri,On);var Co="",Na=/^https?$/i,Js=["POST","PUT"];function co(i){return"content-type"==i.toLowerCase()}function _a(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,Bo(i),Cs(i)}function Bo(i){i.D||(i.D=!0,lt(i,"complete"),lt(i,"error"))}function Xs(i){if(i.h&&void 0!==xe&&(!i.C[1]||4!=Ki(i)||2!=i.ba()))if(i.v&&4==Ki(i))qe(i.Fa,0,i);else if(lt(i,"readystatechange"),4==Ki(i)){i.h=!1;try{const O=i.ba();e:switch(O){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var o;if(o=0===O){var u=String(i.H).match(Ps)[1]||null;if(!u&&Ae.self&&Ae.self.location){var f=Ae.self.location.protocol;u=f.substr(0,f.length-1)}o=!Na.test(u?u.toLowerCase():"")}t=o}if(t)lt(i,"complete"),lt(i,"success");else{i.m=6;try{var y=2<Ki(i)?i.g.statusText:""}catch(H){y=""}i.j=y+" ["+i.ba()+"]",Bo(i)}}finally{Cs(i)}}}function Cs(i,e){if(i.g){jo(i);const t=i.g,o=i.C[0]?ze:null;i.g=null,i.C=null,e||lt(i,"ready");try{t.onreadystatechange=o}catch(u){}}}function jo(i){i.g&&i.K&&(i.g.ontimeout=null),i.A&&(Ae.clearTimeout(i.A),i.A=null)}function Ki(i){return i.g?i.g.readyState:0}function na(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.J){case Co:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch(e){return null}}function lo(i,e,t){e:{for(o in t){var o=!1;break e}o=!0}o||(t=function ka(i){let e="";return nn(i,function(t,o){e+=o,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof i?null!=t&&encodeURIComponent(String(t)):_e(i,e,t))}function eo(i,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[i]||e}function va(i){this.za=0,this.l=[],this.h=new Q,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=eo("failFast",!1,i),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=eo("baseRetryDelayMs",5e3,i),this.$a=eo("retryDelaySeedMs",1e4,i),this.Ya=eo("forwardChannelMaxRetries",2,i),this.ra=eo("forwardChannelRequestTimeoutMs",2e4,i),this.qa=i&&i.xmlHttpFactory||void 0,this.Ba=i&&i.Yb||!1,this.K=void 0,this.H=i&&i.supportsCrossDomainXhr||!1,this.J="",this.i=new at(i&&i.concurrentRequestLimit),this.Ca=new Qs,this.ja=i&&i.fastHandshake||!1,this.Ra=i&&i.Wb||!1,i&&i.Aa&&this.h.Aa(),i&&i.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&i&&i.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!i||!1!==i.Xb}function ii(i){if(si(i),3==i.G){var e=i.V++,t=Gn(i.F);_e(t,"SID",i.J),_e(t,"RID",e),_e(t,"TYPE","terminate"),ho(i,t),(e=new Hs(i,i.h,e,void 0)).K=2,e.v=Je(Gn(t)),t=!1,Ae.navigator&&Ae.navigator.sendBeacon&&(t=Ae.navigator.sendBeacon(e.v.toString(),"")),!t&&Ae.Image&&((new Image).src=e.v,t=!0),t||(e.g=fo(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Oi(e)}Go(i)}function Ns(i){i.g&&(To(i),i.g.cancel(),i.g=null)}function si(i){Ns(i),i.u&&(Ae.clearTimeout(i.u),i.u=null),cr(i),i.i.cancel(),i.m&&("number"==typeof i.m&&Ae.clearTimeout(i.m),i.m=null)}function ru(i,e){i.l.push(new class{constructor(i,e){this.h=i,this.g=e}}(i.Za++,e)),3==i.G&&to(i)}function to(i){Qt(i.i)||i.m||(i.m=!0,Jr(i.Ha,i),i.C=0)}function Mu(i,e){var t;t=e?e.m:i.V++;const o=Gn(i.F);_e(o,"SID",i.J),_e(o,"RID",t),_e(o,"AID",i.U),ho(i,o),i.o&&i.s&&lo(o,i.o,i.s),t=new Hs(i,i.h,t,i.C+1),null===i.o&&(t.H=i.s),e&&(i.l=e.D.concat(i.l)),e=ra(i,t,1e3),t.setTimeout(Math.round(.5*i.ra)+Math.round(.5*i.ra*Math.random())),Ni(i.i,t),gs(t,o,e)}function ho(i,e){i.j&&Ys({},function(t,o){_e(e,o,t)})}function ra(i,e,t){t=Math.min(i.l.length,t);var o=i.j?St(i.j.Oa,i.j,i):null;e:{var u=i.l;let f=-1;for(;;){const y=["count="+t];-1==f?0<t?(f=u[0].h,y.push("ofs="+f)):f=0:y.push("ofs="+f);let O=!0;for(let H=0;H<t;H++){let q=u[H].h;const he=u[H].g;if(q-=f,0>q)f=Math.max(0,u[H].h-100),O=!1;else try{Pa(he,y,"req"+q+"_")}catch(Ne){o&&o(he)}}if(O){o=y.join("&");break e}}}return i=i.l.splice(0,t),e.D=i,o}function ms(i){i.g||i.u||(i.Y=1,Jr(i.Ga,i),i.A=0)}function Ts(i){return!(i.g||i.u||3<=i.A||(i.Y++,i.u=ft(St(i.Ga,i),Ci(i,i.A)),i.A++,0))}function To(i){null!=i.B&&(Ae.clearTimeout(i.B),i.B=null)}function $o(i){i.g=new Hs(i,i.h,"rpc",i.Y),null===i.o&&(i.g.H=i.s),i.g.O=0;var e=Gn(i.oa);_e(e,"RID","rpc"),_e(e,"SID",i.J),_e(e,"CI",i.N?"0":"1"),_e(e,"AID",i.U),ho(i,e),_e(e,"TYPE","xmlhttp"),i.o&&i.s&&lo(e,i.o,i.s),i.K&&i.g.setTimeout(i.K);var t=i.g;i=i.la,t.K=1,t.v=Je(Gn(e)),t.s=null,t.U=!0,ls(t,i)}function cr(i){null!=i.v&&(Ae.clearTimeout(i.v),i.v=null)}function Ho(i,e){var t=null;if(i.g==e){cr(i),To(i),i.g=null;var o=2}else{if(!ur(i.i,e))return;t=e.D,zi(i.i,e),o=1}if(i.I=e.N,0!=i.G)if(e.i)if(1==o){t=e.s?e.s.length:0,e=Date.now()-e.F;var u=i.C;lt(o=hr(),new Ye(o,t,e,u)),to(i)}else ms(i);else if(3==(u=e.o)||0==u&&0<i.I||!(1==o&&function iu(i,e){return!(Zr(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.l=e.D.concat(i.l),0):1==i.G||2==i.G||i.C>=(i.Xa?0:i.Ya)||(i.m=ft(St(i.Ha,i,e),Ci(i,i.C)),i.C++,0)))}(i,e)||2==o&&Ts(i)))switch(t&&0<t.length&&(e=i.i,e.i=e.i.concat(t)),u){case 1:qi(i,5);break;case 4:qi(i,10);break;case 3:qi(i,6);break;default:qi(i,2)}}function Ci(i,e){let t=i.Pa+Math.floor(Math.random()*i.$a);return i.j||(t*=2),t*e}function qi(i,e){if(i.h.info("Error code "+e),2==e){var t=null;i.j&&(t=null);var o=St(i.jb,i);t||(t=new Wi("//www.google.com/images/cleardot.gif"),Ae.location&&"http"==Ae.location.protocol||N(t,"https"),Je(t)),function ma(i,e){const t=new Q;if(Ae.Image){const o=new Image;o.onload=gn(Ks,t,o,"TestLoadImage: loaded",!0,e),o.onerror=gn(Ks,t,o,"TestLoadImage: error",!1,e),o.onabort=gn(Ks,t,o,"TestLoadImage: abort",!1,e),o.ontimeout=gn(Ks,t,o,"TestLoadImage: timeout",!1,e),Ae.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=i}else e(!1)}(t.toString(),o)}else be(2);i.G=0,i.j&&i.j.va(e),Go(i),si(i)}function Go(i){i.G=0,i.I=-1,i.j&&((0!=Ei(i.i).length||0!=i.l.length)&&(i.i.i.length=0,Ln(i.l),i.l.length=0),i.j.ua())}function ys(i,e,t){let o=function pt(i){return i instanceof Wi?Gn(i):new Wi(i,void 0)}(t);if(""!=o.i)e&&G(o,e+"."+o.i),P(o,o.m);else{const u=Ae.location;o=function Zt(i,e,t,o){var u=new Wi(null,void 0);return i&&N(u,i),e&&G(u,e),t&&P(u,t),o&&(u.l=o),u}(u.protocol,e?e+"."+u.hostname:u.hostname,+u.port,t)}return i.aa&&nn(i.aa,function(u,f){_e(o,f,u)}),t=i.sa,(e=i.D)&&t&&_e(o,e,t),_e(o,"VER",i.ma),ho(i,o),o}function fo(i,e,t){if(e&&!i.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new ri(t&&i.Ba&&!i.qa?new Ds({ib:!0}):i.qa)).L=i.H,e}function Ao(){}function Wo(){if(Hn&&!(10<=Number(He)))throw Error("Environmental error: no available transport.")}function fs(i,e){On.call(this),this.g=new va(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(i?i["X-WebChannel-Client-Profile"]=e.ya:i={"X-WebChannel-Client-Profile":e.ya}),this.g.P=i,(i=e&&e.httpHeadersOverwriteParam)&&!xn(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!xn(e)&&(this.g.D=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new D(this)}function ia(i){$i.call(this);var e=i.__sm__;if(e){e:{for(const t in e){i=t;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function I(){es.call(this),this.status=1}function D(i){this.g=i}(we=ri.prototype).ea=function(i,e,t,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+i);e=e?e.toUpperCase():"GET",this.H=i,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Rs.g(),this.C=function xr(i){return i.h||(i.h=i.i())}(this.u?this.u:Rs),this.g.onreadystatechange=St(this.Fa,this);try{this.F=!0,this.g.open(e,String(i),!0),this.F=!1}catch(f){return void _a(this,f)}i=t||"";const u=new vi(this.headers);o&&Ys(o,function(f,y){u.set(y,f)}),o=function er(i){e:{var e=co;const t=i.length,o="string"==typeof i?i.split(""):i;for(let u=0;u<t;u++)if(u in o&&e.call(void 0,o[u],u,i)){e=u;break e}e=-1}return 0>e?null:"string"==typeof i?i.charAt(e):i[e]}(u.T()),t=Ae.FormData&&i instanceof Ae.FormData,!(0<=on(Js,e))||o||t||u.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),u.forEach(function(f,y){this.g.setRequestHeader(y,f)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{jo(this),0<this.B&&((this.K=function ya(i){return Hn&&function Ee(){return function Vn(i){var e=pe;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=i(9)}(function(){let i=0;const e=lr(String(Dn)).split("."),t=lr("9").split("."),o=Math.max(e.length,t.length);for(let y=0;0==i&&y<o;y++){var u=e[y]||"",f=t[y]||"";do{if(u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],f=/(\d*)(\D*)(.*)/.exec(f)||["","","",""],0==u[0].length&&0==f[0].length)break;i=tr(0==u[1].length?0:parseInt(u[1],10),0==f[1].length?0:parseInt(f[1],10))||tr(0==u[2].length,0==f[2].length)||tr(u[2],f[2]),u=u[3],f=f[3]}while(0==i)}return 0<=i})}()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=St(this.pa,this)):this.A=qe(this.pa,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(f){_a(this,f)}},we.pa=function(){void 0!==xe&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,lt(this,"timeout"),this.abort(8))},we.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,lt(this,"complete"),lt(this,"abort"),Cs(this))},we.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Cs(this,!0)),ri.Z.M.call(this)},we.Fa=function(){this.s||(this.F||this.v||this.l?Xs(this):this.cb())},we.cb=function(){Xs(this)},we.ba=function(){try{return 2<Ki(this)?this.g.status:-1}catch(i){return-1}},we.ga=function(){try{return this.g?this.g.responseText:""}catch(i){return""}},we.Qa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),Do(e)}},we.Da=function(){return this.m},we.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(we=va.prototype).ma=8,we.G=1,we.hb=function(i){try{this.h.info("Origin Trials invoked: "+i)}catch(e){}},we.Ha=function(i){if(this.m)if(this.m=null,1==this.G){if(!i){this.V=Math.floor(1e5*Math.random()),i=this.V++;const u=new Hs(this,this.h,i,void 0);let f=this.s;if(this.P&&(f?(f=wn(f),Rr(f,this.P)):f=this.P),null===this.o&&(u.H=f),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var o=this.l[t];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=ra(this,u,e),_e(t=Gn(this.F),"RID",i),_e(t,"CVER",22),this.D&&_e(t,"X-HTTP-Session-Id",this.D),ho(this,t),this.o&&f&&lo(t,this.o,f),Ni(this.i,u),this.Ra&&_e(t,"TYPE","init"),this.ja?(_e(t,"$req",e),_e(t,"SID","null"),u.$=!0,gs(u,t,null)):gs(u,t,e),this.G=2}}else 3==this.G&&(i?Mu(this,i):0==this.l.length||Qt(this.i)||Mu(this))},we.Ga=function(){if(this.u=null,$o(this),this.$&&!(this.L||null==this.g||0>=this.O)){var i=2*this.O;this.h.info("BP detection timer enabled: "+i),this.B=ft(St(this.bb,this),i)}},we.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,be(10),Ns(this),$o(this))},we.ab=function(){null!=this.v&&(this.v=null,Ns(this),Ts(this),be(19))},we.jb=function(i){i?(this.h.info("Successfully pinged google.com"),be(2)):(this.h.info("Failed to ping google.com"),be(1))},(we=Ao.prototype).xa=function(){},we.wa=function(){},we.va=function(){},we.ua=function(){},we.Oa=function(){},Wo.prototype.g=function(i,e){return new fs(i,e)},Bt(fs,On),fs.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var i=this.g,e=this.l,t=this.h||void 0;i.Wa&&(i.h.info("Origin Trials enabled."),Jr(St(i.hb,i,e))),be(0),i.W=e,i.aa=t||{},i.N=i.X,i.F=ys(i,null,i.W),to(i)},fs.prototype.close=function(){ii(this.g)},fs.prototype.u=function(i){if("string"==typeof i){var e={};e.__data__=i,ru(this.g,e)}else this.v?((e={}).__data__=Bn(i),ru(this.g,e)):ru(this.g,i)},fs.prototype.M=function(){this.g.j=null,delete this.j,ii(this.g),delete this.g,fs.Z.M.call(this)},Bt(ia,$i),Bt(I,es),Bt(D,Ao),D.prototype.xa=function(){lt(this.g,"a")},D.prototype.wa=function(i){lt(this.g,new ia(i))},D.prototype.va=function(i){lt(this.g,new I(i))},D.prototype.ua=function(){lt(this.g,"b")},Wo.prototype.createWebChannel=Wo.prototype.g,fs.prototype.send=fs.prototype.u,fs.prototype.open=fs.prototype.m,fs.prototype.close=fs.prototype.close,Dt.NO_ERROR=0,Dt.TIMEOUT=8,Dt.HTTP_ERROR=6,jt.COMPLETE="complete",or.EventType=fi,fi.OPEN="a",fi.CLOSE="b",fi.ERROR="c",fi.MESSAGE="d",On.prototype.listen=On.prototype.N,ri.prototype.listenOnce=ri.prototype.O,ri.prototype.getLastError=ri.prototype.La,ri.prototype.getLastErrorCode=ri.prototype.Da,ri.prototype.getStatus=ri.prototype.ba,ri.prototype.getResponseJson=ri.prototype.Qa,ri.prototype.getResponseText=ri.prototype.ga,ri.prototype.send=ri.prototype.ea;var $=ve.createWebChannelTransport=function(){return new Wo},me=ve.getStatEventTarget=function(){return hr()},mt=ve.ErrorCode=Dt,en=ve.EventType=jt,ei=ve.Event=Er,Qn=ve.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Ti=ve.FetchXmlHttpFactory=Ds,Fi=ve.WebChannel=or,po=ve.XhrIo=ri;const go="@firebase/firestore";class Li{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Li.UNAUTHENTICATED=new Li(null),Li.GOOGLE_CREDENTIALS=new Li("google-credentials-uid"),Li.FIRST_PARTY=new Li("first-party-uid"),Li.MOCK_USER=new Li("mock-user");let zo="9.6.7";const no=new Ce.Yd("@firebase/firestore");function wa(){return no.logLevel}function Ct(i,...e){if(no.logLevel<=Ce.in.DEBUG){const t=e.map(Ea);no.debug(`Firestore (${zo}): ${i}`,...t)}}function Vr(i,...e){if(no.logLevel<=Ce.in.ERROR){const t=e.map(Ea);no.error(`Firestore (${zo}): ${i}`,...t)}}function ks(i,...e){if(no.logLevel<=Ce.in.WARN){const t=e.map(Ea);no.warn(`Firestore (${zo}): ${i}`,...t)}}function Ea(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch(t){return i}}function b(i="Unexpected state"){const e=`FIRESTORE (${zo}) INTERNAL ASSERTION FAILED: `+i;throw Vr(e),new Error(e)}function v(i,e){i||b()}function C(i,e){return i}const S={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class B extends Ve.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ie{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Ie{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ut{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Li.UNAUTHENTICATED))}shutdown(){}}class Gt{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Jn{constructor(e){this.t=e,this.currentUser=Li.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var o=this;let u=this.i;const f=q=>this.i!==u?(u=this.i,t(q)):Promise.resolve();let y=new ie;this.o=()=>{this.i++,this.currentUser=this.u(),y.resolve(),y=new ie,e.enqueueRetryable(()=>f(this.currentUser))};const O=()=>{const q=y;e.enqueueRetryable((0,oe.Z)(function*(){yield q.promise,yield f(o.currentUser)}))},H=q=>{Ct("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=q,this.auth.addAuthTokenListener(this.o),O()};this.t.onInit(q=>H(q)),setTimeout(()=>{if(!this.auth){const q=this.t.getImmediate({optional:!0});q?H(q):(Ct("FirebaseAuthCredentialsProvider","Auth not yet detected"),y.resolve(),y=new ie)}},0),O()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(o=>this.i!==e?(Ct("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(v("string"==typeof o.accessToken),new Ie(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return v(null===e||"string"==typeof e),new Li(e)}}class un{constructor(e,t,o){this.type="FirstParty",this.user=Li.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const u=e.auth.getAuthHeaderValueForFirstParty([]);u&&this.headers.set("Authorization",u),o&&this.headers.set("X-Goog-Iam-Authorization-Token",o)}}class vr{constructor(e,t,o){this.h=e,this.l=t,this.m=o}getToken(){return Promise.resolve(new un(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Li.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class sr{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class As{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const o=f=>{null!=f.error&&Ct("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${f.error.message}`);const y=f.token!==this.p;return this.p=f.token,Ct("FirebaseAppCheckTokenProvider",`Received ${y?"new":"existing"} token.`),y?t(f.token):Promise.resolve()};this.o=f=>{e.enqueueRetryable(()=>o(f))};const u=f=>{Ct("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=f,this.appCheck.addTokenListener(this.o)};this.g.onInit(f=>u(f)),setTimeout(()=>{if(!this.appCheck){const f=this.g.getImmediate({optional:!0});f?u(f):Ct("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(v("string"==typeof t.token),this.p=t.token,new sr(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class bi{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=o=>this.I(o),this.T=o=>t.writeSequenceNumber(o))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function Ko(i){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let o=0;o<i;o++)t[o]=Math.floor(256*Math.random());return t}bi.A=-1;class Ss{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let o="";for(;o.length<20;){const u=Ko(40);for(let f=0;f<u.length;++f)o.length<20&&u[f]<t&&(o+=e.charAt(u[f]%e.length))}return o}}function Fn(i,e){return i<e?-1:i>e?1:0}function qo(i,e,t){return i.length===e.length&&i.every((o,u)=>t(o,e[u]))}function lc(i){return i+"\0"}class gi{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new B(S.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new B(S.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new B(S.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new B(S.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return gi.fromMillis(Date.now())}static fromDate(e){return gi.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*t));return new gi(t,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Fn(this.nanoseconds,e.nanoseconds):Fn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class An{constructor(e){this.timestamp=e}static fromTimestamp(e){return new An(e)}static min(){return new An(new gi(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function Ou(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function ti(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function kl(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class dc{constructor(e,t,o){void 0===t?t=0:t>e.length&&b(),void 0===o?o=e.length-t:o>e.length-t&&b(),this.segments=e,this.offset=t,this.len=o}get length(){return this.len}isEqual(e){return 0===dc.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof dc?e.forEach(o=>{t.push(o)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,o=this.limit();t<o;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const o=Math.min(e.length,t.length);for(let u=0;u<o;u++){const f=e.get(u),y=t.get(u);if(f<y)return-1;if(f>y)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class kr extends dc{construct(e,t,o){return new kr(e,t,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const o of e){if(o.indexOf("//")>=0)throw new B(S.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);t.push(...o.split("/").filter(u=>u.length>0))}return new kr(t)}static emptyPath(){return new kr([])}}const Fl=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class is extends dc{construct(e,t,o){return new is(e,t,o)}static isValidIdentifier(e){return Fl.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),is.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new is(["__name__"])}static fromServerFormat(e){const t=[];let o="",u=0;const f=()=>{if(0===o.length)throw new B(S.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(o),o=""};let y=!1;for(;u<e.length;){const O=e[u];if("\\"===O){if(u+1===e.length)throw new B(S.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const H=e[u+1];if("\\"!==H&&"."!==H&&"`"!==H)throw new B(S.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=H,u+=2}else"`"===O?(y=!y,u++):"."!==O||y?(o+=O,u++):(f(),u++)}if(f(),y)throw new B(S.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new is(t)}static emptyPath(){return new is([])}}class La{constructor(e){this.fields=e,e.sort(is.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return qo(this.fields,e.fields,(t,o)=>t.isEqual(o))}}class oi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new oi(t)}static fromUint8Array(e){const t=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new oi(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let o=0;o<e.length;o++)t[o]=e.charCodeAt(o);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Fn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}oi.EMPTY_BYTE_STRING=new oi("");const Vd=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Hr(i){if(v(!!i),"string"==typeof i){let e=0;const t=Vd.exec(i);if(v(!!t),t[1]){let u=t[1];u=(u+"000000000").substr(0,9),e=Number(u)}const o=new Date(i);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:ci(i.seconds),nanos:ci(i.nanos)}}function ci(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function qs(i){return"string"==typeof i?oi.fromBase64String(i):oi.fromUint8Array(i)}function qc(i){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==i?void 0:i.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Va(i){const e=i.mapValue.fields.__previous_value__;return qc(e)?Va(e):e}function Ai(i){const e=Hr(i.mapValue.fields.__local_write_time__.timestampValue);return new gi(e.seconds,e.nanos)}class Fs{constructor(e,t,o,u,f,y,O,H){this.databaseId=e,this.appId=t,this.persistenceKey=o,this.host=u,this.ssl=f,this.forceLongPolling=y,this.autoDetectLongPolling=O,this.useFetchStreams=H}}class So{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new So("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof So&&e.projectId===this.projectId&&e.database===this.database}}function Ls(i){return null==i}function xs(i){return 0===i&&1/i==-1/0}function yo(i){return"number"==typeof i&&Number.isInteger(i)&&!xs(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}class Jt{constructor(e){this.path=e}static fromPath(e){return new Jt(kr.fromString(e))}static fromName(e){return new Jt(kr.fromString(e).popFirst(5))}static empty(){return new Jt(kr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===kr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return kr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Jt(new kr(e.slice()))}}const Ud={mapValue:{fields:{__type__:{stringValue:"__max___"}}}};function su(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?qc(i)?4:10:b()}function xo(i,e){if(i===e)return!0;const t=su(i);if(t!==su(e))return!1;switch(t){case 0:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Ai(i).isEqual(Ai(e));case 3:return function(o,u){if("string"==typeof o.timestampValue&&"string"==typeof u.timestampValue&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Hr(o.timestampValue),y=Hr(u.timestampValue);return f.seconds===y.seconds&&f.nanos===y.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return u=e,qs(i.bytesValue).isEqual(qs(u.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return ci(o.geoPointValue.latitude)===ci(u.geoPointValue.latitude)&&ci(o.geoPointValue.longitude)===ci(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return ci(o.integerValue)===ci(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=ci(o.doubleValue),y=ci(u.doubleValue);return f===y?xs(f)===xs(y):isNaN(f)&&isNaN(y)}return!1}(i,e);case 9:return qo(i.arrayValue.values||[],e.arrayValue.values||[],xo);case 10:return function(o,u){const f=o.mapValue.fields||{},y=u.mapValue.fields||{};if(Ou(f)!==Ou(y))return!1;for(const O in f)if(f.hasOwnProperty(O)&&(void 0===y[O]||!xo(f[O],y[O])))return!1;return!0}(i,e);default:return b()}var u}function sa(i,e){return void 0!==(i.values||[]).find(t=>xo(t,e))}function li(i,e){if(i===e)return 0;const t=su(i),o=su(e);if(t!==o)return Fn(t,o);switch(t){case 0:return 0;case 1:return Fn(i.booleanValue,e.booleanValue);case 2:return function(u,f){const y=ci(u.integerValue||u.doubleValue),O=ci(f.integerValue||f.doubleValue);return y<O?-1:y>O?1:y===O?0:isNaN(y)?isNaN(O)?0:-1:1}(i,e);case 3:return ou(i.timestampValue,e.timestampValue);case 4:return ou(Ai(i),Ai(e));case 5:return Fn(i.stringValue,e.stringValue);case 6:return function(u,f){const y=qs(u),O=qs(f);return y.compareTo(O)}(i.bytesValue,e.bytesValue);case 7:return function(u,f){const y=u.split("/"),O=f.split("/");for(let H=0;H<y.length&&H<O.length;H++){const q=Fn(y[H],O[H]);if(0!==q)return q}return Fn(y.length,O.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,f){const y=Fn(ci(u.latitude),ci(f.latitude));return 0!==y?y:Fn(ci(u.longitude),ci(f.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(u,f){const y=u.values||[],O=f.values||[];for(let H=0;H<y.length&&H<O.length;++H){const q=li(y[H],O[H]);if(q)return q}return Fn(y.length,O.length)}(i.arrayValue,e.arrayValue);case 10:return function(u,f){const y=u.fields||{},O=Object.keys(y),H=f.fields||{},q=Object.keys(H);O.sort(),q.sort();for(let he=0;he<O.length&&he<q.length;++he){const Ne=Fn(O[he],q[he]);if(0!==Ne)return Ne;const it=li(y[O[he]],H[q[he]]);if(0!==it)return it}return Fn(O.length,q.length)}(i.mapValue,e.mapValue);default:throw b()}}function ou(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return Fn(i,e);const t=Hr(i),o=Hr(e),u=Fn(t.seconds,o.seconds);return 0!==u?u:Fn(t.nanos,o.nanos)}function _o(i){return Ru(i)}function Ru(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(o){const u=Hr(o);return`time(${u.seconds},${u.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?qs(i.bytesValue).toBase64():"referenceValue"in i?Jt.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(o){let u="[",f=!0;for(const y of o.values||[])f?f=!1:u+=",",u+=Ru(y);return u+"]"}(i.arrayValue):"mapValue"in i?function(o){const u=Object.keys(o.fields||{}).sort();let f="{",y=!0;for(const O of u)y?y=!1:f+=",",f+=`${O}:${Ru(o.fields[O])}`;return f+"}"}(i.mapValue):b();var e}function vo(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function au(i){return!!i&&"integerValue"in i}function Mo(i){return!!i&&"arrayValue"in i}function hc(i){return!!i&&"nullValue"in i}function fc(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function uu(i){return!!i&&"mapValue"in i}function Zo(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return ti(i.mapValue.fields,(t,o)=>e.mapValue.fields[t]=Zo(o)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Zo(i.arrayValue.values[t]);return e}return Object.assign({},i)}class ss{constructor(e){this.value=e}static empty(){return new ss({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let o=0;o<e.length-1;++o)if(t=(t.mapValue.fields||{})[e.get(o)],!uu(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Zo(t)}setAll(e){let t=is.emptyPath(),o={},u=[];e.forEach((y,O)=>{if(!t.isImmediateParentOf(O)){const H=this.getFieldsMap(t);this.applyChanges(H,o,u),o={},u=[],t=O.popLast()}y?o[O.lastSegment()]=Zo(y):u.push(O.lastSegment())});const f=this.getFieldsMap(t);this.applyChanges(f,o,u)}delete(e){const t=this.field(e.popLast());uu(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return xo(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let o=0;o<e.length;++o){let u=t.mapValue.fields[e.get(o)];uu(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},t.mapValue.fields[e.get(o)]=u),t=u}return t.mapValue.fields}applyChanges(e,t,o){ti(t,(u,f)=>e[u]=f);for(const u of o)delete e[u]}clone(){return new ss(Zo(this.value))}}function Pu(i){const e=[];return ti(i.fields,(t,o)=>{const u=new is([t]);if(uu(o)){const f=Pu(o.mapValue).fields;if(0===f.length)e.push(u);else for(const y of f)e.push(u.child(y))}else e.push(u)}),new La(e)}class x{constructor(e,t,o,u,f,y){this.key=e,this.documentType=t,this.version=o,this.readTime=u,this.data=f,this.documentState=y}static newInvalidDocument(e){return new x(e,0,An.min(),An.min(),ss.empty(),0)}static newFoundDocument(e,t,o){return new x(e,1,t,An.min(),o,0)}static newNoDocument(e,t){return new x(e,2,t,An.min(),ss.empty(),0)}static newUnknownDocument(e,t){return new x(e,3,t,An.min(),ss.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ss.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ss.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof x&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new x(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}let k=(()=>{class i{constructor(t,o,u,f){this.indexId=t,this.collectionGroup=o,this.fields=u,this.indexState=f}}return i.UNKNOWN_ID=-1,i})();class K{constructor(e,t){this.fieldPath=e,this.kind=t}}class fe{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new fe(0,We.min())}}class We{constructor(e,t,o){this.readTime=e,this.documentKey=t,this.largestBatchId=o}static min(){return new We(An.min(),Jt.empty(),-1)}}class st{constructor(e,t=null,o=[],u=[],f=null,y=null,O=null){this.path=e,this.collectionGroup=t,this.orderBy=o,this.filters=u,this.limit=f,this.startAt=y,this.endAt=O,this.P=null}}function Tt(i,e=null,t=[],o=[],u=null,f=null,y=null){return new st(i,e,t,o,u,f,y)}function Kt(i){const e=C(i);if(null===e.P){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(o=>{return(u=o).field.canonicalString()+u.op.toString()+_o(u.value);var u}).join(","),t+="|ob:",t+=e.orderBy.map(o=>{return(u=o).field.canonicalString()+u.dir;var u}).join(","),Ls(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(o=>_o(o)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(o=>_o(o)).join(",")),e.P=t}return e.P}function ar(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let u=0;u<i.orderBy.length;u++)if(!Ll(i.orderBy[u],e.orderBy[u]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let u=0;u<i.filters.length;u++)if((t=i.filters[u]).op!==(o=e.filters[u]).op||!t.field.isEqual(o.field)||!xo(t.value,o.value))return!1;var t,o;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Vl(i.startAt,e.startAt)&&Vl(i.endAt,e.endAt)}function Fr(i){return Jt.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}class Ur extends class{}{constructor(e,t,o){super(),this.field=e,this.op=t,this.value=o}static create(e,t,o){return e.isKeyField()?"in"===t||"not-in"===t?this.v(e,t,o):new Br(e,t,o):"array-contains"===t?new wo(e,o):"in"===t?new Oo(e,o):"not-in"===t?new oa(e,o):"array-contains-any"===t?new pc(e,o):new Ur(e,t,o)}static v(e,t,o){return"in"===t?new os(e,o):new Ua(e,o)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.V(li(t,this.value)):null!==t&&su(this.value)===su(t)&&this.V(li(t,this.value))}V(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return b()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Br extends Ur{constructor(e,t,o){super(e,t,o),this.key=Jt.fromName(o.referenceValue)}matches(e){const t=Jt.comparator(e.key,this.key);return this.V(t)}}class os extends Ur{constructor(e,t){super(e,"in",t),this.keys=Ba(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Ua extends Ur{constructor(e,t){super(e,"not-in",t),this.keys=Ba(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Ba(i,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(o=>Jt.fromName(o.referenceValue))}class wo extends Ur{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Mo(t)&&sa(t.arrayValue,this.value)}}class Oo extends Ur{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&sa(this.value.arrayValue,t)}}class oa extends Ur{constructor(e,t){super(e,"not-in",t)}matches(e){if(sa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!sa(this.value.arrayValue,t)}}class pc extends Ur{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Mo(t)||!t.arrayValue.values)&&t.arrayValue.values.some(o=>sa(this.value.arrayValue,o))}}class Yo{constructor(e,t){this.position=e,this.inclusive=t}}class aa{constructor(e,t="asc"){this.field=e,this.dir=t}}function Ll(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}function cu(i,e,t){let o=0;for(let u=0;u<i.position.length;u++){const f=e[u],y=i.position[u];if(o=f.field.isKeyField()?Jt.comparator(Jt.fromName(y.referenceValue),t.key):li(y,t.data.field(f.field)),"desc"===f.dir&&(o*=-1),0!==o)break}return o}function Vl(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!xo(i.position[t],e.position[t]))return!1;return!0}class ua{constructor(e,t=null,o=[],u=[],f=null,y="F",O=null,H=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=o,this.filters=u,this.limit=f,this.limitType=y,this.startAt=O,this.endAt=H,this.D=null,this.C=null}}function gc(i,e,t,o,u,f,y,O){return new ua(i,e,t,o,u,f,y,O)}function Qo(i){return new ua(i)}function mc(i){return!Ls(i.limit)&&"F"===i.limitType}function Zc(i){return!Ls(i.limit)&&"L"===i.limitType}function Ul(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function ca(i){for(const e of i.filters)if(e.S())return e.field;return null}function lu(i){return null!==i.collectionGroup}function Nu(i){const e=C(i);if(null===e.D){e.D=[];const t=ca(e),o=Ul(e);if(null!==t&&null===o)t.isKeyField()||e.D.push(new aa(t)),e.D.push(new aa(is.keyField(),"asc"));else{let u=!1;for(const f of e.explicitOrderBy)e.D.push(f),f.field.isKeyField()&&(u=!0);if(!u){const f=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new aa(is.keyField(),f))}}}return e.D}function Ro(i){const e=C(i);if(!e.C)if("F"===e.limitType)e.C=Tt(e.path,e.collectionGroup,Nu(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const f of Nu(e))t.push(new aa(f.field,"desc"===f.dir?"asc":"desc"));const o=e.endAt?new Yo(e.endAt.position,!e.endAt.inclusive):null,u=e.startAt?new Yo(e.startAt.position,!e.startAt.inclusive):null;e.C=Tt(e.path,e.collectionGroup,t,e.filters,e.limit,o,u)}return e.C}function Bl(i,e,t){return new ua(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function ja(i,e){return ar(Ro(i),Ro(e))&&i.limitType===e.limitType}function If(i){return`${Kt(Ro(i))}|lt:${i.limitType}`}function jl(i){return`Query(target=${function tn(i){let e=i.path.canonicalString();return null!==i.collectionGroup&&(e+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(e+=`, filters: [${i.filters.map(t=>{return`${(o=t).field.canonicalString()} ${o.op} ${_o(o.value)}`;var o}).join(", ")}]`),Ls(i.limit)||(e+=", limit: "+i.limit),i.orderBy.length>0&&(e+=`, orderBy: [${i.orderBy.map(t=>{return`${(o=t).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),i.startAt&&(e+=", startAt: ",e+=i.startAt.inclusive?"b:":"a:",e+=i.startAt.position.map(t=>_o(t)).join(",")),i.endAt&&(e+=", endAt: ",e+=i.endAt.inclusive?"a:":"b:",e+=i.endAt.position.map(t=>_o(t)).join(",")),`Target(${e})`}(Ro(i))}; limitType=${i.limitType})`}function $l(i,e){return e.isFoundDocument()&&function(t,o){const u=o.key.path;return null!==t.collectionGroup?o.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(u):Jt.isDocumentKey(t.path)?t.path.isEqual(u):t.path.isImmediateParentOf(u)}(i,e)&&function(t,o){for(const u of t.explicitOrderBy)if(!u.field.isKeyField()&&null===o.data.field(u.field))return!1;return!0}(i,e)&&function(t,o){for(const u of t.filters)if(!u.matches(o))return!1;return!0}(i,e)&&(o=e,!((t=i).startAt&&!function(u,f,y){const O=cu(u,f,y);return u.inclusive?O<=0:O<0}(t.startAt,Nu(t),o)||t.endAt&&!function(u,f,y){const O=cu(u,f,y);return u.inclusive?O>=0:O>0}(t.endAt,Nu(t),o)));var t,o}function Bd(i){return(e,t)=>{let o=!1;for(const u of Nu(i)){const f=Yc(u,e,t);if(0!==f)return f;o=o||u.field.isKeyField()}return 0}}function Yc(i,e,t){const o=i.field.isKeyField()?Jt.comparator(e.key,t.key):function(u,f,y){const O=f.data.field(u),H=y.data.field(u);return null!==O&&null!==H?li(O,H):b()}(i.field,e,t);switch(i.dir){case"asc":return o;case"desc":return-1*o;default:return b()}}function Qc(i,e){if(i.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xs(e)?"-0":e}}function du(i){return{integerValue:""+i}}function jd(i,e){return yo(e)?du(e):Qc(i,e)}class ku{constructor(){this._=void 0}}function dg(i,e,t){return i instanceof hu?function(o,u){const f={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&(f.fields.__previous_value__=u),{mapValue:f}}(t,e):i instanceof $a?el(i,e):i instanceof Ha?$d(i,e):function(o,u){const f=Xc(o,u),y=Hd(f)+Hd(o.k);return au(f)&&au(o.k)?du(y):Qc(o.O,y)}(i,e)}function Jc(i,e,t){return i instanceof $a?el(i,e):i instanceof Ha?$d(i,e):t}function Xc(i,e){return i instanceof Fu?au(t=e)||(o=t)&&"doubleValue"in o?e:{integerValue:0}:null;var o,t}class hu extends ku{}class $a extends ku{constructor(e){super(),this.elements=e}}function el(i,e){const t=tl(e);for(const o of i.elements)t.some(u=>xo(u,o))||t.push(o);return{arrayValue:{values:t}}}class Ha extends ku{constructor(e){super(),this.elements=e}}function $d(i,e){let t=tl(e);for(const o of i.elements)t=t.filter(u=>!xo(u,o));return{arrayValue:{values:t}}}class Fu extends ku{constructor(e,t){super(),this.O=e,this.k=t}}function Hd(i){return ci(i.integerValue||i.doubleValue)}function tl(i){return Mo(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class yc{constructor(e,t){this.field=e,this.transform=t}}class _c{constructor(e,t){this.version=e,this.transformResults=t}}class Zi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Zi}static exists(e){return new Zi(void 0,e)}static updateTime(e){return new Zi(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Hl(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class vc{}function hg(i,e,t){i instanceof wc?function(o,u,f){const y=o.value.clone(),O=Cf(o.fieldTransforms,u,f.transformResults);y.setAll(O),u.convertToFoundDocument(f.version,y).setHasCommittedMutations()}(i,e,t):i instanceof Lu?function(o,u,f){if(!Hl(o.precondition,u))return void u.convertToUnknownDocument(f.version);const y=Cf(o.fieldTransforms,u,f.transformResults),O=u.data;O.setAll(Ga(o)),O.setAll(y),u.convertToFoundDocument(f.version,O).setHasCommittedMutations()}(i,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Gl(i,e,t){var u;i instanceof wc?function(o,u,f){if(!Hl(o.precondition,u))return;const y=o.value.clone(),O=Wd(o.fieldTransforms,f,u);y.setAll(O),u.convertToFoundDocument(Gd(u),y).setHasLocalMutations()}(i,e,t):i instanceof Lu?function(o,u,f){if(!Hl(o.precondition,u))return;const y=Wd(o.fieldTransforms,f,u),O=u.data;O.setAll(Ga(o)),O.setAll(y),u.convertToFoundDocument(Gd(u),O).setHasLocalMutations()}(i,e,t):Hl(i.precondition,u=e)&&u.convertToNoDocument(An.min())}function Df(i,e){let t=null;for(const o of i.fieldTransforms){const u=e.data.field(o.field),f=Xc(o.transform,u||null);null!=f&&(null==t&&(t=ss.empty()),t.set(o.field,f))}return t||null}function Wl(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(o=e.fieldTransforms,!!(void 0===(t=i.fieldTransforms)&&void 0===o||t&&o&&qo(t,o,(u,f)=>function la(i,e){return i.field.isEqual(e.field)&&(o=e.transform,(t=i.transform)instanceof $a&&o instanceof $a||t instanceof Ha&&o instanceof Ha?qo(t.elements,o.elements,xo):t instanceof Fu&&o instanceof Fu?xo(t.k,o.k):t instanceof hu&&o instanceof hu);var t,o}(u,f))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var t,o}function Gd(i){return i.isFoundDocument()?i.version:An.min()}class wc extends vc{constructor(e,t,o,u=[]){super(),this.key=e,this.value=t,this.precondition=o,this.fieldTransforms=u,this.type=0}}class Lu extends vc{constructor(e,t,o,u,f=[]){super(),this.key=e,this.data=t,this.fieldMask=o,this.precondition=u,this.fieldTransforms=f,this.type=1}}function Ga(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const o=i.data.field(t);e.set(t,o)}}),e}function Cf(i,e,t){const o=new Map;v(i.length===t.length);for(let u=0;u<t.length;u++){const f=i[u],y=f.transform,O=e.data.field(f.field);o.set(f.field,Jc(y,O,t[u]))}return o}function Wd(i,e,t){const o=new Map;for(const u of i){const f=u.transform,y=t.data.field(u.field);o.set(u.field,dg(f,y,e))}return o}class da extends vc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class nl extends vc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class Po{constructor(e){this.count=e}}var Ii,br;function Ec(i){switch(i){default:return b();case S.CANCELLED:case S.UNKNOWN:case S.DEADLINE_EXCEEDED:case S.RESOURCE_EXHAUSTED:case S.INTERNAL:case S.UNAVAILABLE:case S.UNAUTHENTICATED:return!1;case S.INVALID_ARGUMENT:case S.NOT_FOUND:case S.ALREADY_EXISTS:case S.PERMISSION_DENIED:case S.FAILED_PRECONDITION:case S.ABORTED:case S.OUT_OF_RANGE:case S.UNIMPLEMENTED:case S.DATA_LOSS:return!0}}function zl(i){if(void 0===i)return Vr("GRPC error has no .code"),S.UNKNOWN;switch(i){case Ii.OK:return S.OK;case Ii.CANCELLED:return S.CANCELLED;case Ii.UNKNOWN:return S.UNKNOWN;case Ii.DEADLINE_EXCEEDED:return S.DEADLINE_EXCEEDED;case Ii.RESOURCE_EXHAUSTED:return S.RESOURCE_EXHAUSTED;case Ii.INTERNAL:return S.INTERNAL;case Ii.UNAVAILABLE:return S.UNAVAILABLE;case Ii.UNAUTHENTICATED:return S.UNAUTHENTICATED;case Ii.INVALID_ARGUMENT:return S.INVALID_ARGUMENT;case Ii.NOT_FOUND:return S.NOT_FOUND;case Ii.ALREADY_EXISTS:return S.ALREADY_EXISTS;case Ii.PERMISSION_DENIED:return S.PERMISSION_DENIED;case Ii.FAILED_PRECONDITION:return S.FAILED_PRECONDITION;case Ii.ABORTED:return S.ABORTED;case Ii.OUT_OF_RANGE:return S.OUT_OF_RANGE;case Ii.UNIMPLEMENTED:return S.UNIMPLEMENTED;case Ii.DATA_LOSS:return S.DATA_LOSS;default:return b()}}(br=Ii||(Ii={}))[br.OK=0]="OK",br[br.CANCELLED=1]="CANCELLED",br[br.UNKNOWN=2]="UNKNOWN",br[br.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",br[br.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",br[br.NOT_FOUND=5]="NOT_FOUND",br[br.ALREADY_EXISTS=6]="ALREADY_EXISTS",br[br.PERMISSION_DENIED=7]="PERMISSION_DENIED",br[br.UNAUTHENTICATED=16]="UNAUTHENTICATED",br[br.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",br[br.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",br[br.ABORTED=10]="ABORTED",br[br.OUT_OF_RANGE=11]="OUT_OF_RANGE",br[br.UNIMPLEMENTED=12]="UNIMPLEMENTED",br[br.INTERNAL=13]="INTERNAL",br[br.UNAVAILABLE=14]="UNAVAILABLE",br[br.DATA_LOSS=15]="DATA_LOSS";class as{constructor(e,t){this.comparator=e,this.root=t||Vs.EMPTY}insert(e,t){return new as(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Vs.BLACK,null,null))}remove(e){return new as(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Vs.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const o=this.comparator(e,t.key);if(0===o)return t.value;o<0?t=t.left:o>0&&(t=t.right)}return null}indexOf(e){let t=0,o=this.root;for(;!o.isEmpty();){const u=this.comparator(e,o.key);if(0===u)return t+o.left.size;u<0?o=o.left:(t+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,o)=>(e(t,o),!1))}toString(){const e=[];return this.inorderTraversal((t,o)=>(e.push(`${t}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new bc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new bc(this.root,e,this.comparator,!1)}getReverseIterator(){return new bc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new bc(this.root,e,this.comparator,!0)}}class bc{constructor(e,t,o,u){this.isReverse=u,this.nodeStack=[];let f=1;for(;!e.isEmpty();)if(f=t?o(e.key,t):1,u&&(f*=-1),f<0)e=this.isReverse?e.left:e.right;else{if(0===f){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Vs{constructor(e,t,o,u,f){this.key=e,this.value=t,this.color=null!=o?o:Vs.RED,this.left=null!=u?u:Vs.EMPTY,this.right=null!=f?f:Vs.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,o,u,f){return new Vs(null!=e?e:this.key,null!=t?t:this.value,null!=o?o:this.color,null!=u?u:this.left,null!=f?f:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,o){let u=this;const f=o(e,u.key);return u=f<0?u.copy(null,null,null,u.left.insert(e,t,o),null):0===f?u.copy(null,t,null,null,null):u.copy(null,null,null,null,u.right.insert(e,t,o)),u.fixUp()}removeMin(){if(this.left.isEmpty())return Vs.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let o,u=this;if(t(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,t),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===t(e,u.key)){if(u.right.isEmpty())return Vs.EMPTY;o=u.right.min(),u=u.copy(o.key,o.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,t))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Vs.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Vs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw b();const e=this.left.check();if(e!==this.right.check())throw b();return e+(this.isRed()?0:1)}}Vs.EMPTY=null,Vs.RED=!0,Vs.BLACK=!1,Vs.EMPTY=new class{constructor(){this.size=0}get key(){throw b()}get value(){throw b()}get color(){throw b()}get left(){throw b()}get right(){throw b()}copy(i,e,t,o,u){return this}insert(i,e,t){return new Vs(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class di{constructor(e){this.comparator=e,this.data=new as(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,o)=>(e(t),!1))}forEachInRange(e,t){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const u=o.getNext();if(this.comparator(u.key,e[1])>=0)return;t(u.key)}}forEachWhile(e,t){let o;for(o=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new rl(this.data.getIterator())}getIteratorFrom(e){return new rl(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(o=>{t=t.add(o)}),t}isEqual(e){if(!(e instanceof di)||this.size!==e.size)return!1;const t=this.data.getIterator(),o=e.data.getIterator();for(;t.hasNext();){const u=t.getNext().key,f=o.getNext().key;if(0!==this.comparator(u,f))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new di(this.comparator);return t.data=e,t}}class rl{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Wa(i){return i.hasNext()?i.getNext():void 0}const fg=new as(Jt.comparator);function No(){return fg}const il=new as(Jt.comparator);function Kl(){return il}const Tf=new as(Jt.comparator),ql=new di(Jt.comparator);function Lr(...i){let e=ql;for(const t of i)e=e.add(t);return e}const zd=new di(Fn);function fu(){return zd}class za{constructor(e,t,o,u,f){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=o,this.documentUpdates=u,this.resolvedLimboDocuments=f}static createSynthesizedRemoteEventForCurrentChange(e,t){const o=new Map;return o.set(e,pu.createSynthesizedTargetChangeForCurrentChange(e,t)),new za(An.min(),o,fu(),No(),Lr())}}class pu{constructor(e,t,o,u,f){this.resumeToken=e,this.current=t,this.addedDocuments=o,this.modifiedDocuments=u,this.removedDocuments=f}static createSynthesizedTargetChangeForCurrentChange(e,t){return new pu(oi.EMPTY_BYTE_STRING,t,Lr(),Lr(),Lr())}}class sl{constructor(e,t,o,u){this.M=e,this.removedTargetIds=t,this.key=o,this.$=u}}class Yi{constructor(e,t){this.targetId=e,this.F=t}}class Zl{constructor(e,t,o=oi.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=t,this.resumeToken=o,this.cause=u}}class Kd{constructor(){this.B=0,this.L=qd(),this.U=oi.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return 0!==this.B}get j(){return this.K}W(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}H(){let e=Lr(),t=Lr(),o=Lr();return this.L.forEach((u,f)=>{switch(f){case 0:e=e.add(u);break;case 2:t=t.add(u);break;case 1:o=o.add(u);break;default:b()}}),new pu(this.U,this.q,e,t,o)}J(){this.K=!1,this.L=qd()}Y(e,t){this.K=!0,this.L=this.L.insert(e,t)}X(e){this.K=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class Yl{constructor(e){this.nt=e,this.st=new Map,this.it=No(),this.rt=Ql(),this.ot=new di(Fn)}ct(e){for(const t of e.M)e.$&&e.$.isFoundDocument()?this.ut(t,e.$):this.at(t,e.key,e.$);for(const t of e.removedTargetIds)this.at(t,e.key,e.$)}ht(e){this.forEachTarget(e,t=>{const o=this.lt(t);switch(e.state){case 0:this.ft(t)&&o.W(e.resumeToken);break;case 1:o.tt(),o.G||o.J(),o.W(e.resumeToken);break;case 2:o.tt(),o.G||this.removeTarget(t);break;case 3:this.ft(t)&&(o.et(),o.W(e.resumeToken));break;case 4:this.ft(t)&&(this.dt(t),o.W(e.resumeToken));break;default:b()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((o,u)=>{this.ft(u)&&t(u)})}_t(e){const t=e.targetId,o=e.F.count,u=this.wt(t);if(u){const f=u.target;if(Fr(f))if(0===o){const y=new Jt(f.path);this.at(t,y,x.newNoDocument(y,An.min()))}else v(1===o);else this.gt(t)!==o&&(this.dt(t),this.ot=this.ot.add(t))}}yt(e){const t=new Map;this.st.forEach((f,y)=>{const O=this.wt(y);if(O){if(f.current&&Fr(O.target)){const H=new Jt(O.target.path);null!==this.it.get(H)||this.It(y,H)||this.at(y,H,x.newNoDocument(H,e))}f.j&&(t.set(y,f.H()),f.J())}});let o=Lr();this.rt.forEach((f,y)=>{let O=!0;y.forEachWhile(H=>{const q=this.wt(H);return!q||2===q.purpose||(O=!1,!1)}),O&&(o=o.add(f))}),this.it.forEach((f,y)=>y.setReadTime(e));const u=new za(e,t,this.ot,this.it,o);return this.it=No(),this.rt=Ql(),this.ot=new di(Fn),u}ut(e,t){if(!this.ft(e))return;const o=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,o),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Et(t.key).add(e))}at(e,t,o){if(!this.ft(e))return;const u=this.lt(e);this.It(e,t)?u.Y(t,1):u.X(t),this.rt=this.rt.insert(t,this.Et(t).delete(e)),o&&(this.it=this.it.insert(t,o))}removeTarget(e){this.st.delete(e)}gt(e){const t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let t=this.st.get(e);return t||(t=new Kd,this.st.set(e,t)),t}Et(e){let t=this.rt.get(e);return t||(t=new di(Fn),this.rt=this.rt.insert(e,t)),t}ft(e){const t=null!==this.wt(e);return t||Ct("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.st.get(e);return t&&t.G?null:this.nt.Tt(e)}dt(e){this.st.set(e,new Kd),this.nt.getRemoteKeysForTarget(e).forEach(t=>{this.at(e,t,null)})}It(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}function Ql(){return new as(Jt.comparator)}function qd(){return new as(Jt.comparator)}const ol={asc:"ASCENDING",desc:"DESCENDING"},Af={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Zd{constructor(e,t){this.databaseId=e,this.N=t}}function Ic(i,e){return i.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Sf(i,e){return i.N?e.toBase64():e.toUint8Array()}function pg(i,e){return Ic(i,e.toTimestamp())}function Vi(i){return v(!!i),An.fromTimestamp(function(e){const t=Hr(e);return new gi(t.seconds,t.nanos)}(i))}function _s(i,e){return(t=i,new kr(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Vu(i){const e=kr.fromString(i);return v(Bu(e)),e}function Ka(i,e){return _s(i.databaseId,e.path)}function ko(i,e){const t=Vu(e);if(t.get(1)!==i.databaseId.projectId)throw new B(S.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new B(S.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new Jt(ro(t))}function vs(i,e){return _s(i.databaseId,e)}function qa(i){const e=Vu(i);return 4===e.length?kr.emptyPath():ro(e)}function gu(i){return new kr(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function ro(i){return v(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function Uu(i,e,t){return{name:Ka(i,e),fields:t.value.mapValue.fields}}function al(i,e,t){const o=ko(i,e.name),u=Vi(e.updateTime),f=new ss({mapValue:{fields:e.fields}}),y=x.newFoundDocument(o,u,f);return t&&y.setHasCommittedMutations(),t?y.setHasCommittedMutations():y}function mu(i,e){let t;if(e instanceof wc)t={update:Uu(i,e.key,e.value)};else if(e instanceof da)t={delete:Ka(i,e.key)};else if(e instanceof Lu)t={update:Uu(i,e.key,e.data),updateMask:ba(e.fieldMask)};else{if(!(e instanceof nl))return b();t={verify:Ka(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(o=>function(u,f){const y=f.transform;if(y instanceof hu)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(y instanceof $a)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:y.elements}};if(y instanceof Ha)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:y.elements}};if(y instanceof Fu)return{fieldPath:f.field.canonicalString(),increment:y.k};throw b()}(0,o))),e.precondition.isNone||(t.currentDocument=void 0!==(u=e.precondition).updateTime?{updateTime:pg(i,u.updateTime)}:void 0!==u.exists?{exists:u.exists}:b()),t;var u}function cl(i,e){const t=e.currentDocument?void 0!==(u=e.currentDocument).updateTime?Zi.updateTime(Vi(u.updateTime)):void 0!==u.exists?Zi.exists(u.exists):Zi.none():Zi.none(),o=e.updateTransforms?e.updateTransforms.map(u=>function(f,y){let O=null;"setToServerValue"in y?(v("REQUEST_TIME"===y.setToServerValue),O=new hu):"appendMissingElements"in y?O=new $a(y.appendMissingElements.values||[]):"removeAllFromArray"in y?O=new Ha(y.removeAllFromArray.values||[]):"increment"in y?O=new Fu(f,y.increment):b();const H=is.fromServerFormat(y.fieldPath);return new yc(H,O)}(i,u)):[];var u;if(e.update){const u=ko(i,e.update.name),f=new ss({mapValue:{fields:e.update.fields}});if(e.updateMask){const y=new La((e.updateMask.fieldPaths||[]).map(q=>is.fromServerFormat(q)));return new Lu(u,f,y,t,o)}return new wc(u,f,t,o)}if(e.delete){const u=ko(i,e.delete);return new da(u,t)}if(e.verify){const u=ko(i,e.verify);return new nl(u,t)}return b()}function Qd(i,e){return{documents:[vs(i,e.path)]}}function Jo(i,e){const t={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(t.parent=vs(i,o),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=vs(i,o.popLast()),t.structuredQuery.from=[{collectionId:o.lastSegment()}]);const u=function(H){if(0===H.length)return;const q=H.map(he=>function(Ne){if("=="===Ne.op){if(fc(Ne.value))return{unaryFilter:{field:Ui(Ne.field),op:"IS_NAN"}};if(hc(Ne.value))return{unaryFilter:{field:Ui(Ne.field),op:"IS_NULL"}}}else if("!="===Ne.op){if(fc(Ne.value))return{unaryFilter:{field:Ui(Ne.field),op:"IS_NOT_NAN"}};if(hc(Ne.value))return{unaryFilter:{field:Ui(Ne.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ui(Ne.field),op:Jd(Ne.op),value:Ne.value}}}(he));return 1===q.length?q[0]:{compositeFilter:{op:"AND",filters:q}}}(e.filters);u&&(t.structuredQuery.where=u);const f=function(H){if(0!==H.length)return H.map(q=>{return{field:Ui((he=q).field),direction:Of(he.dir)};var he})}(e.orderBy);f&&(t.structuredQuery.orderBy=f);const y=(q=e.limit,i.N||Ls(q)?q:{value:q});var q,O,H;return null!==y&&(t.structuredQuery.limit=y),e.startAt&&(t.structuredQuery.startAt={before:(O=e.startAt).inclusive,values:O.position}),e.endAt&&(t.structuredQuery.endAt={before:!(H=e.endAt).inclusive,values:H.position}),t}function Jl(i){let e=qa(i.parent);const t=i.structuredQuery,o=t.from?t.from.length:0;let u=null;if(o>0){v(1===o);const he=t.from[0];he.allDescendants?u=he.collectionId:e=e.child(he.collectionId)}let f=[];t.where&&(f=ll(t.where));let y=[];t.orderBy&&(y=t.orderBy.map(he=>{return new aa(Za((Ne=he).field),function(it){switch(it){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Ne.direction));var Ne}));let O=null;t.limit&&(O=function(he){let Ne;return Ne="object"==typeof he?he.value:he,Ls(Ne)?null:Ne}(t.limit));let H=null;var he;t.startAt&&(H=new Yo((he=t.startAt).values||[],!!he.before));let q=null;return t.endAt&&(q=function(he){return new Yo(he.values||[],!he.before)}(t.endAt)),gc(e,u,y,f,O,"F",H,q)}function ll(i){return i?void 0!==i.unaryFilter?[Rf(i)]:void 0!==i.fieldFilter?[Xl(i)]:void 0!==i.compositeFilter?i.compositeFilter.filters.map(e=>ll(e)).reduce((e,t)=>e.concat(t)):b():[]}function Of(i){return ol[i]}function Jd(i){return Af[i]}function Ui(i){return{fieldPath:i.canonicalString()}}function Za(i){return is.fromServerFormat(i.fieldPath)}function Xl(i){return Ur.create(Za(i.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return b()}}(i.fieldFilter.op),i.fieldFilter.value)}function Rf(i){switch(i.unaryFilter.op){case"IS_NAN":const e=Za(i.unaryFilter.field);return Ur.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Za(i.unaryFilter.field);return Ur.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Za(i.unaryFilter.field);return Ur.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Za(i.unaryFilter.field);return Ur.create(u,"!=",{nullValue:"NULL_VALUE"});default:return b()}}function ba(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Bu(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}function us(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=eh(e)),e=Xd(i.get(t),e);return eh(e)}function Xd(i,e){let t=e;const o=i.length;for(let u=0;u<o;u++){const f=i.charAt(u);switch(f){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=f}}return t}function eh(i){return i+"\x01\x01"}function Fo(i){const e=i.length;if(v(e>=2),2===e)return v("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),kr.emptyPath();const t=e-2,o=[];let u="";for(let f=0;f<e;){const y=i.indexOf("\x01",f);switch((y<0||y>t)&&b(),i.charAt(y+1)){case"\x01":const O=i.substring(f,y);let H;0===u.length?H=O:(u+=O,H=u,u=""),o.push(H);break;case"\x10":u+=i.substring(f,y),u+="\0";break;case"\x11":u+=i.substring(f,y+1);break;default:b()}f=y+2}return new kr(o)}class Pf{constructor(e,t){this.seconds=e,this.nanoseconds=t}}class Eo{constructor(e,t,o){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=o}}Eo.store="owner",Eo.key="owner";class Ya{constructor(e,t,o){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=o}}Ya.store="mutationQueues",Ya.keyPath="userId";class mi{constructor(e,t,o,u,f){this.userId=e,this.batchId=t,this.localWriteTimeMs=o,this.baseMutations=u,this.mutations=f}}mi.store="mutations",mi.keyPath="batchId",mi.userMutationsIndex="userMutationsIndex",mi.userMutationsKeyPath=["userId","batchId"];class g{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,t){return[e,us(t)]}static key(e,t,o){return[e,us(t),o]}}g.store="documentMutations",g.PLACEHOLDER=new g;class l{constructor(e,t){this.path=e,this.readTime=t}}class h{constructor(e,t){this.path=e,this.version=t}}class w{constructor(e,t,o,u,f,y){this.unknownDocument=e,this.noDocument=t,this.document=o,this.hasCommittedMutations=u,this.readTime=f,this.parentPath=y}}w.store="remoteDocuments",w.readTimeIndex="readTimeIndex",w.readTimeIndexPath="readTime",w.collectionReadTimeIndex="collectionReadTimeIndex",w.collectionReadTimeIndexPath=["parentPath","readTime"];class U{constructor(e){this.byteSize=e}}U.store="remoteDocumentGlobal",U.key="remoteDocumentGlobalKey";class Y{constructor(e,t,o,u,f,y,O){this.targetId=e,this.canonicalId=t,this.readTime=o,this.resumeToken=u,this.lastListenSequenceNumber=f,this.lastLimboFreeSnapshotVersion=y,this.query=O}}Y.store="targets",Y.keyPath="targetId",Y.queryTargetsIndexName="queryTargetsIndex",Y.queryTargetsKeyPath=["canonicalId","targetId"];class Pe{constructor(e,t,o){this.targetId=e,this.path=t,this.sequenceNumber=o}}Pe.store="targetDocuments",Pe.keyPath=["targetId","path"],Pe.documentTargetsIndex="documentTargetsIndex",Pe.documentTargetsKeyPath=["path","targetId"];class Xe{constructor(e,t,o,u){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=o,this.targetCount=u}}Xe.key="targetGlobalKey",Xe.store="targetGlobal";class kt{constructor(e,t){this.collectionId=e,this.parent=t}}kt.store="collectionParents",kt.keyPath=["collectionId","parent"];class Xt{constructor(e,t,o,u){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=o,this.inForeground=u}}Xt.store="clientMetadata",Xt.keyPath="clientId";class Tn{constructor(e,t,o){this.bundleId=e,this.createTime=t,this.version=o}}Tn.store="bundles",Tn.keyPath="bundleId";class mn{constructor(e,t,o){this.name=e,this.readTime=t,this.bundledQuery=o}}mn.store="namedQueries",mn.keyPath="name";class Ir{constructor(e,t,o){this.indexId=e,this.collectionGroup=t,this.fields=o}}Ir.store="indexConfiguration",Ir.keyPath="indexId",Ir.collectionGroupIndex="collectionGroupIndex",Ir.collectionGroupIndexPath="collectionGroup";class Si{constructor(e,t,o,u,f,y){this.indexId=e,this.uid=t,this.sequenceNumber=o,this.readTime=u,this.documentKey=f,this.largestBatchId=y}}Si.store="indexState",Si.keyPath=["indexId","uid"],Si.sequenceNumberIndex="sequenceNumberIndex",Si.sequenceNumberIndexPath=["uid","sequenceNumber"];class Us{constructor(e,t,o,u,f){this.indexId=e,this.uid=t,this.arrayValue=o,this.directionalValue=u,this.documentKey=f}}Us.store="indexEntries",Us.keyPath=["indexId","uid","arrayValue","directionalValue","documentKey"],Us.documentKeyIndex="documentKeyIndex",Us.documentKeyIndexPath=["indexId","uid","documentKey"];class Qi{constructor(e,t,o,u,f,y){this.userId=e,this.collectionPath=t,this.documentId=o,this.collectionGroup=u,this.largestBatchId=f,this.overlayMutation=y}}Qi.store="documentOverlays",Qi.keyPath=["userId","collectionPath","documentId"],Qi.collectionPathOverlayIndex="collectionPathOverlayIndex",Qi.collectionPathOverlayIndexPath=["userId","collectionPath","largestBatchId"],Qi.collectionGroupOverlayIndex="collectionGroupOverlayIndex",Qi.collectionGroupOverlayIndexPath=["userId","collectionGroup","largestBatchId"];const ju=[Ya.store,mi.store,g.store,w.store,Y.store,Eo.store,Xe.store,Pe.store,Xt.store,U.store,kt.store,Tn.store,mn.store],dl=[...ju,Qi.store],Nf=[...dl,Ir.store,Si.store,Us.store],Ia="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Dc{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class ct{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&b(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ct((o,u)=>{this.nextCallback=f=>{this.wrapSuccess(e,f).next(o,u)},this.catchCallback=f=>{this.wrapFailure(t,f).next(o,u)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ct?t:ct.resolve(t)}catch(t){return ct.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ct.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ct.reject(t)}static resolve(e){return new ct((t,o)=>{t(e)})}static reject(e){return new ct((t,o)=>{o(e)})}static waitFor(e){return new ct((t,o)=>{let u=0,f=0,y=!1;e.forEach(O=>{++u,O.next(()=>{++f,y&&f===u&&t()},H=>o(H))}),y=!0,f===u&&t()})}static or(e){let t=ct.resolve(!1);for(const o of e)t=t.next(u=>u?ct.resolve(u):o());return t}static forEach(e,t){const o=[];return e.forEach((u,f)=>{o.push(t.call(this,u,f))}),this.waitFor(o)}}class $u{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.At=new ie,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{t.error?this.At.reject(new yu(e,t.error)):this.At.resolve()},this.transaction.onerror=o=>{const u=th(o.target.error);this.At.reject(new yu(e,u))}}static open(e,t,o,u){try{return new $u(t,e.transaction(u,o))}catch(f){throw new yu(t,f)}}get Rt(){return this.At.promise}abort(e){e&&this.At.reject(e),this.aborted||(Ct("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}Pt(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new my(t)}}class io{constructor(e,t,o){this.name=e,this.version=t,this.bt=o,12.2===io.vt((0,Ve.z$)())&&Vr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ct("SimpleDb","Removing database:",e),Cc(window.indexedDB.deleteDatabase(e)).toPromise()}static Vt(){if(!(0,Ve.hl)())return!1;if(io.St())return!0;const e=(0,Ve.z$)(),t=io.vt(e),o=0<t&&t<10,u=io.Dt(e),f=0<u&&u<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||o||f)}static St(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Ct)}static Nt(e,t){return e.store(t)}static vt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),o=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(o)}static Dt(e){const t=e.match(/Android ([\d.]+)/i),o=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(o)}xt(e){var t=this;return(0,oe.Z)(function*(){return t.db||(Ct("SimpleDb","Opening database:",t.name),t.db=yield new Promise((o,u)=>{const f=indexedDB.open(t.name,t.version);f.onsuccess=y=>{o(y.target.result)},f.onblocked=()=>{u(new yu(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},f.onerror=y=>{const O=y.target.error;u("VersionError"===O.name?new B(S.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===O.name?new B(S.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+O):new yu(e,O))},f.onupgradeneeded=y=>{Ct("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',y.oldVersion),t.bt.kt(y.target.result,f.transaction,y.oldVersion,t.version).next(()=>{Ct("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Ot&&(t.db.onversionchange=o=>t.Ot(o)),t.db})()}Mt(e){this.Ot=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,o,u){var f=this;return(0,oe.Z)(function*(){const y="readonly"===t;let O=0;for(;;){++O;try{f.db=yield f.xt(e);const H=$u.open(f.db,e,y?"readonly":"readwrite",o),q=u(H).next(he=>(H.Pt(),he)).catch(he=>(H.abort(he),ct.reject(he))).toPromise();return q.catch(()=>{}),yield H.Rt,q}catch(H){const q="FirebaseError"!==H.name&&O<3;if(Ct("SimpleDb","Transaction failed with error:",H.message,"Retrying:",q),f.close(),!q)return Promise.reject(H)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class kf{constructor(e){this.$t=e,this.Ft=!1,this.Bt=null}get isDone(){return this.Ft}get Lt(){return this.Bt}set cursor(e){this.$t=e}done(){this.Ft=!0}Ut(e){this.Bt=e}delete(){return Cc(this.$t.delete())}}class yu extends B{constructor(e,t){super(S.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function _u(i){return"IndexedDbTransactionError"===i.name}class my{constructor(e){this.store=e}put(e,t){let o;return void 0!==t?(Ct("SimpleDb","PUT",this.store.name,e,t),o=this.store.put(t,e)):(Ct("SimpleDb","PUT",this.store.name,"<auto-key>",e),o=this.store.put(e)),Cc(o)}add(e){return Ct("SimpleDb","ADD",this.store.name,e,e),Cc(this.store.add(e))}get(e){return Cc(this.store.get(e)).next(t=>(void 0===t&&(t=null),Ct("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Ct("SimpleDb","DELETE",this.store.name,e),Cc(this.store.delete(e))}count(){return Ct("SimpleDb","COUNT",this.store.name),Cc(this.store.count())}qt(e,t){const o=this.options(e,t);if(o.index||"function"!=typeof this.store.getAll){const u=this.cursor(o),f=[];return this.Kt(u,(y,O)=>{f.push(O)}).next(()=>f)}{const u=this.store.getAll(o.range);return new ct((f,y)=>{u.onerror=O=>{y(O.target.error)},u.onsuccess=O=>{f(O.target.result)}})}}Gt(e,t){Ct("SimpleDb","DELETE ALL",this.store.name);const o=this.options(e,t);o.jt=!1;const u=this.cursor(o);return this.Kt(u,(f,y,O)=>O.delete())}Qt(e,t){let o;t?o=e:(o={},t=e);const u=this.cursor(o);return this.Kt(u,t)}Wt(e){const t=this.cursor({});return new ct((o,u)=>{t.onerror=f=>{const y=th(f.target.error);u(y)},t.onsuccess=f=>{const y=f.target.result;y?e(y.primaryKey,y.value).next(O=>{O?y.continue():o()}):o()}})}Kt(e,t){const o=[];return new ct((u,f)=>{e.onerror=y=>{f(y.target.error)},e.onsuccess=y=>{const O=y.target.result;if(!O)return void u();const H=new kf(O),q=t(O.primaryKey,O.value,H);if(q instanceof ct){const he=q.catch(Ne=>(H.done(),ct.reject(Ne)));o.push(he)}H.isDone?u():null===H.Lt?O.continue():O.continue(H.Lt)}}).next(()=>ct.waitFor(o))}options(e,t){let o;return void 0!==e&&("string"==typeof e?o=e:t=e),{index:o,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const o=this.store.index(e.index);return e.jt?o.openKeyCursor(e.range,t):o.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Cc(i){return new ct((e,t)=>{i.onsuccess=o=>{e(o.target.result)},i.onerror=o=>{const u=th(o.target.error);t(u)}})}let gg=!1;function th(i){const e=io.vt((0,Ve.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(t)>=0){const o=new B("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return gg||(gg=!0,setTimeout(()=>{throw o},0)),o}}return i}class nh extends Dc{constructor(e,t){super(),this.zt=e,this.currentSequenceNumber=t}}function Ms(i,e){const t=C(i);return io.Nt(t.zt,e)}class ed{constructor(e,t,o,u){this.batchId=e,this.localWriteTime=t,this.baseMutations=o,this.mutations=u}applyToRemoteDocument(e,t){const o=t.mutationResults;for(let u=0;u<this.mutations.length;u++){const f=this.mutations[u];f.key.isEqual(e.key)&&hg(f,e,o[u])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&Gl(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&Gl(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const o=e.get(t.key),u=o;this.applyToLocalView(u),o.isValidDocument()||u.convertToNoDocument(An.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Lr())}isEqual(e){return this.batchId===e.batchId&&qo(this.mutations,e.mutations,(t,o)=>Wl(t,o))&&qo(this.baseMutations,e.baseMutations,(t,o)=>Wl(t,o))}}class Ff{constructor(e,t,o,u){this.batch=e,this.commitVersion=t,this.mutationResults=o,this.docVersions=u}static from(e,t,o){v(e.mutations.length===o.length);let u=Tf;const f=e.mutations;for(let y=0;y<f.length;y++)u=u.insert(f[y].key,o[y].version);return new Ff(e,t,o,u)}}class Lf{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class vu{constructor(e,t,o,u,f=An.min(),y=An.min(),O=oi.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=o,this.sequenceNumber=u,this.snapshotVersion=f,this.lastLimboFreeSnapshotVersion=y,this.resumeToken=O}withSequenceNumber(e){return new vu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new vu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new vu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Vf{constructor(e){this.Ht=e}}function Hu(i,e){let t;if(e.document)t=al(i.Ht,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const o=Jt.fromSegments(e.noDocument.path),u=Tc(e.noDocument.readTime);t=x.newNoDocument(o,u),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return b();{const o=Jt.fromSegments(e.unknownDocument.path),u=Tc(e.unknownDocument.version);t=x.newUnknownDocument(o,u)}}return e.readTime&&t.setReadTime(Bf(e.readTime)),t}function Uf(i,e){const t=rh(e.readTime),o=e.key.path.popLast().toArray();if(e.isFoundDocument()){const u={name:Ka(y=i.Ht,(O=e).key),fields:O.data.value.mapValue.fields,updateTime:Ic(y,O.version.toTimestamp())};return new w(null,null,u,e.hasCommittedMutations,t,o)}var y,O;if(e.isNoDocument()){const u=e.key.path.toArray(),f=Qa(e.version),y=e.hasCommittedMutations;return new w(null,new l(u,f),null,y,t,o)}if(e.isUnknownDocument()){const u=e.key.path.toArray(),f=Qa(e.version);return new w(new h(u,f),null,null,!0,t,o)}return b()}function rh(i){const e=i.toTimestamp();return[e.seconds,e.nanoseconds]}function Bf(i){const e=new gi(i[0],i[1]);return An.fromTimestamp(e)}function Qa(i){const e=i.toTimestamp();return new Pf(e.seconds,e.nanoseconds)}function Tc(i){const e=new gi(i.seconds,i.nanoseconds);return An.fromTimestamp(e)}function Ac(i,e){const t=(e.baseMutations||[]).map(f=>cl(i.Ht,f));for(let f=0;f<e.mutations.length-1;++f){const y=e.mutations[f];f+1<e.mutations.length&&void 0!==e.mutations[f+1].transform&&(y.updateTransforms=e.mutations[f+1].transform.fieldTransforms,e.mutations.splice(f+1,1),++f)}const o=e.mutations.map(f=>cl(i.Ht,f)),u=gi.fromMillis(e.localWriteTimeMs);return new ed(e.batchId,u,t,o)}function hl(i){const e=Tc(i.readTime),t=void 0!==i.lastLimboFreeSnapshotVersion?Tc(i.lastLimboFreeSnapshotVersion):An.min();let o;var u;return void 0!==i.query.documents?(v(1===(u=i.query).documents.length),o=Ro(Qo(qa(u.documents[0])))):o=Ro(Jl(i.query)),new vu(o,i.targetId,0,i.lastListenSequenceNumber,e,t,oi.fromBase64String(i.resumeToken))}function jf(i,e){const t=Qa(e.snapshotVersion),o=Qa(e.lastLimboFreeSnapshotVersion);let u;u=Fr(e.target)?Qd(i.Ht,e.target):Jo(i.Ht,e.target);const f=e.resumeToken.toBase64();return new Y(e.targetId,Kt(e.target),t,f,e.sequenceNumber,o,u)}function td(i){const e=Jl({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?Bl(e,e.limit,"L"):e}function ih(i,e){return new Lf(e.largestBatchId,cl(i.Ht,e.overlayMutation))}function nd(i,e){const t=e.path.lastSegment();return[i,us(e.path.popLast()),t]}class sh{getBundleMetadata(e,t){return $f(e).get(t).next(o=>{if(o)return{id:(u=o).bundleId,createTime:Tc(u.createTime),version:u.version};var u})}saveBundleMetadata(e,t){return $f(e).put({bundleId:(o=t).id,createTime:Qa(Vi(o.createTime)),version:o.version});var o}getNamedQuery(e,t){return oh(e).get(t).next(o=>{if(o)return{name:(u=o).name,query:td(u.bundledQuery),readTime:Tc(u.readTime)};var u})}saveNamedQuery(e,t){return oh(e).put({name:(o=t).name,readTime:Qa(Vi(o.readTime)),bundledQuery:o.bundledQuery});var o}}function $f(i){return Ms(i,Tn.store)}function oh(i){return Ms(i,mn.store)}class ah{constructor(e,t){this.O=e,this.userId=t}static Jt(e,t){return new ah(e,t.uid||"")}getOverlay(e,t){return Sc(e).get(nd(this.userId,t)).next(o=>o?ih(this.O,o):null)}saveOverlays(e,t,o){const u=[];return o.forEach(f=>{const y=new Lf(t,f);u.push(this.Yt(e,y))}),ct.waitFor(u)}removeOverlaysForBatchId(e,t,o){const u=new Set;t.forEach(y=>u.add(us(y.getCollectionPath())));const f=[];return u.forEach(y=>{const O=IDBKeyRange.bound([this.userId,y,o],[this.userId,y,o+1],!1,!0);f.push(Sc(e).Gt(Qi.collectionPathOverlayIndex,O))}),ct.waitFor(f)}getOverlaysForCollection(e,t,o){const u=new Map,f=us(t),y=IDBKeyRange.bound([this.userId,f,o],[this.userId,f,Number.POSITIVE_INFINITY],!0);return Sc(e).qt(Qi.collectionPathOverlayIndex,y).next(O=>{for(const H of O){const q=ih(this.O,H);u.set(q.getKey(),q)}return u})}getOverlaysForCollectionGroup(e,t,o,u){const f=new Map;let y;const O=IDBKeyRange.bound([this.userId,t,o],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Sc(e).Qt({index:Qi.collectionGroupOverlayIndex,range:O},(H,q,he)=>{const Ne=ih(this.O,q);f.size<u||Ne.largestBatchId===y?(f.set(Ne.getKey(),Ne),y=Ne.largestBatchId):he.done()}).next(()=>f)}Yt(e,t){return Sc(e).put(function(o,u,f){const[y,O,H]=nd(u,f.mutation.key);return new Qi(u,O,H,f.mutation.key.getCollectionGroup(),f.largestBatchId,mu(o.Ht,f.mutation))}(this.O,this.userId,t))}}function Sc(i){return Ms(i,Qi.store)}class Gu{constructor(){}Xt(e,t){this.Zt(e,t),t.te()}Zt(e,t){if("nullValue"in e)this.ee(t,5);else if("booleanValue"in e)this.ee(t,10),t.ne(e.booleanValue?1:0);else if("integerValue"in e)this.ee(t,15),t.ne(ci(e.integerValue));else if("doubleValue"in e){const o=ci(e.doubleValue);isNaN(o)?this.ee(t,13):(this.ee(t,15),xs(o)?t.ne(0):t.ne(o))}else if("timestampValue"in e){const o=e.timestampValue;this.ee(t,20),"string"==typeof o?t.se(o):(t.se(`${o.seconds||""}`),t.ne(o.nanos||0))}else if("stringValue"in e)this.ie(e.stringValue,t),this.re(t);else if("bytesValue"in e)this.ee(t,30),t.oe(qs(e.bytesValue)),this.re(t);else if("referenceValue"in e)this.ce(e.referenceValue,t);else if("geoPointValue"in e){const o=e.geoPointValue;this.ee(t,45),t.ne(o.latitude||0),t.ne(o.longitude||0)}else"mapValue"in e?xo(e,Ud)?this.ee(t,Number.MAX_SAFE_INTEGER):(this.ue(e.mapValue,t),this.re(t)):"arrayValue"in e?(this.ae(e.arrayValue,t),this.re(t)):b()}ie(e,t){this.ee(t,25),this.he(e,t)}he(e,t){t.se(e)}ue(e,t){const o=e.fields||{};this.ee(t,55);for(const u of Object.keys(o))this.ie(u,t),this.Zt(o[u],t)}ae(e,t){const o=e.values||[];this.ee(t,50);for(const u of o)this.Zt(u,t)}ce(e,t){this.ee(t,37),Jt.fromName(e).path.forEach(o=>{this.ee(t,60),this.he(o,t)})}ee(e,t){e.ne(t)}re(e){e.ne(2)}}function yy(i){if(0===i)return 8;let e=0;return i>>4==0&&(e+=4,i<<=4),i>>6==0&&(e+=2,i<<=2),i>>7==0&&(e+=1),e}function Hf(i){const e=64-function(t){let o=0;for(let u=0;u<8;++u){const f=yy(255&t[u]);if(o+=f,8!==f)break}return o}(i);return Math.ceil(e/8)}Gu.le=new Gu;class _y{constructor(){this.buffer=new Uint8Array(1024),this.position=0}fe(e){const t=e[Symbol.iterator]();let o=t.next();for(;!o.done;)this.de(o.value),o=t.next();this._e()}we(e){const t=e[Symbol.iterator]();let o=t.next();for(;!o.done;)this.me(o.value),o=t.next();this.ge()}ye(e){for(const t of e){const o=t.charCodeAt(0);if(o<128)this.de(o);else if(o<2048)this.de(960|o>>>6),this.de(128|63&o);else if(t<"\ud800"||"\udbff"<t)this.de(480|o>>>12),this.de(128|63&o>>>6),this.de(128|63&o);else{const u=t.codePointAt(0);this.de(240|u>>>18),this.de(128|63&u>>>12),this.de(128|63&u>>>6),this.de(128|63&u)}}this._e()}pe(e){for(const t of e){const o=t.charCodeAt(0);if(o<128)this.me(o);else if(o<2048)this.me(960|o>>>6),this.me(128|63&o);else if(t<"\ud800"||"\udbff"<t)this.me(480|o>>>12),this.me(128|63&o>>>6),this.me(128|63&o);else{const u=t.codePointAt(0);this.me(240|u>>>18),this.me(128|63&u>>>12),this.me(128|63&u>>>6),this.me(128|63&u)}}this.ge()}Ie(e){const t=this.Ee(e),o=Hf(t);this.Te(1+o),this.buffer[this.position++]=255&o;for(let u=t.length-o;u<t.length;++u)this.buffer[this.position++]=255&t[u]}Ae(e){const t=this.Ee(e),o=Hf(t);this.Te(1+o),this.buffer[this.position++]=~(255&o);for(let u=t.length-o;u<t.length;++u)this.buffer[this.position++]=~(255&t[u])}Re(){this.Pe(255),this.Pe(255)}be(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(e){this.Te(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ve(){return this.buffer.slice(0,this.position)}Ee(e){const t=function(u){const f=new DataView(new ArrayBuffer(8));return f.setFloat64(0,u,!1),new Uint8Array(f.buffer)}(e),o=0!=(128&t[0]);t[0]^=o?255:128;for(let u=1;u<t.length;++u)t[u]^=o?255:0;return t}de(e){const t=255&e;0===t?(this.Pe(0),this.Pe(255)):255===t?(this.Pe(255),this.Pe(0)):this.Pe(t)}me(e){const t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}_e(){this.Pe(0),this.Pe(1)}ge(){this.ve(0),this.ve(1)}Pe(e){this.Te(1),this.buffer[this.position++]=e}ve(e){this.Te(1),this.buffer[this.position++]=~e}Te(e){const t=e+this.position;if(t<=this.buffer.length)return;let o=2*this.buffer.length;o<t&&(o=t);const u=new Uint8Array(o);u.set(this.buffer),this.buffer=u}}class vy{constructor(e){this.Se=e}oe(e){this.Se.fe(e)}se(e){this.Se.ye(e)}ne(e){this.Se.Ie(e)}te(){this.Se.Re()}}class mg{constructor(e){this.Se=e}oe(e){this.Se.we(e)}se(e){this.Se.pe(e)}ne(e){this.Se.Ae(e)}te(){this.Se.be()}}class uh{constructor(){this.Se=new _y,this.De=new vy(this.Se),this.Ce=new mg(this.Se)}seed(e){this.Se.seed(e)}Ne(e){return 0===e?this.De:this.Ce}Ve(){return this.Se.Ve()}reset(){this.Se.reset()}}class ch{constructor(e,t,o,u){this.indexId=e,this.documentKey=t,this.arrayValue=o,this.directionalValue=u}}function yg(i,e){let t=i.indexId-e.indexId;return 0!==t?t:(t=Jt.comparator(i.documentKey,e.documentKey),0!==t?t:(t=Gf(i.arrayValue,e.arrayValue),0!==t?t:Gf(i.directionalValue,e.directionalValue)))}function Gf(i,e){for(let t=0;t<i.length&&t<e.length;++t){const o=i[t]-e[t];if(0!==o)return o}return i.length-e.length}class wy{constructor(){this.xe=new lh}addToCollectionParentIndex(e,t){return this.xe.add(t),ct.resolve()}getCollectionParents(e,t){return ct.resolve(this.xe.getEntries(t))}addFieldIndex(e,t){return ct.resolve()}deleteFieldIndex(e,t){return ct.resolve()}getDocumentsMatchingTarget(e,t,o){return ct.resolve(Lr())}getFieldIndex(e,t){return ct.resolve(null)}getFieldIndexes(e,t){return ct.resolve([])}getNextCollectionGroupToUpdate(e){return ct.resolve(null)}updateCollectionGroup(e,t,o){return ct.resolve()}updateIndexEntries(e,t){return ct.resolve()}}class lh{constructor(){this.index={}}add(e){const t=e.lastSegment(),o=e.popLast(),u=this.index[t]||new di(kr.comparator),f=!u.has(o);return this.index[t]=u.add(o),f}has(e){const t=e.lastSegment(),o=e.popLast(),u=this.index[t];return u&&u.has(o)}getEntries(e){return(this.index[e]||new di(kr.comparator)).toArray()}}class Ey{constructor(e){this.user=e,this.ke=new lh,this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.ke.has(t)){const o=t.lastSegment(),u=t.popLast();e.addOnCommittedListener(()=>{this.ke.add(t)});const f={collectionId:o,parent:us(u)};return _g(e).put(f)}return ct.resolve()}getCollectionParents(e,t){const o=[],u=IDBKeyRange.bound([t,""],[lc(t),""],!1,!0);return _g(e).qt(u).next(f=>{for(const y of f){if(y.collectionId!==t)break;o.push(Fo(y.parent))}return o})}addFieldIndex(e,t){const o=dh(e),u=new Ir((f=t).indexId,f.collectionGroup,f.fields.map(y=>[y.fieldPath.canonicalString(),y.kind]));var f;return delete u.indexId,o.add(u).next()}deleteFieldIndex(e,t){const o=dh(e),u=rd(e),f=Lo(e);return o.delete(t.indexId).next(()=>u.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>f.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t,o){return ct.resolve(Lr())}getFieldIndex(e,t){return ct.resolve(null)}Oe(e,t){const o=new uh;for(const u of e.fields.filter(y=>2!==y.kind)){const f=t.data.field(u.fieldPath);if(null==f)return null;const y=o.Ne(u.kind);Gu.le.Xt(f,y)}return o.Ve()}Me(e){const t=new uh;return Gu.le.Xt(e,t.Ne(0)),t.Ve()}getFieldIndexes(e,t){const o=dh(e),u=rd(e);return(t?o.qt(Ir.collectionGroupIndex,IDBKeyRange.bound(t,t)):o.qt()).next(f=>{const y=[];return ct.forEach(f,O=>u.get([O.indexId,this.uid]).next(H=>{y.push(function(q,he){const Ne=he?new fe(he.sequenceNumber,new We(Tc(he.readTime),new Jt(Fo(he.documentKey)),he.largestBatchId)):fe.empty(),it=q.fields.map(([_t,At])=>new K(is.fromServerFormat(_t),At));return new k(q.indexId,q.collectionGroup,it,Ne)}(O,H))})).next(()=>y)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((o,u)=>o.indexState.sequenceNumber-u.indexState.sequenceNumber),t[0].collectionGroup))}updateCollectionGroup(e,t,o){const u=dh(e),f=rd(e);return this.$e(e).next(y=>u.qt(Ir.collectionGroupIndex,IDBKeyRange.bound(t,t)).next(O=>ct.forEach(O,H=>{return f.put(new Si(H.indexId,this.user.uid||"",y,Qa((it=o).readTime),us(it.documentKey.path),it.largestBatchId));var it})))}updateIndexEntries(e,t){const o=new Map;return ct.forEach(t,(u,f)=>{const y=o.get(u.collectionGroup);return(y?ct.resolve(y):this.getFieldIndexes(e,u.collectionGroup)).next(O=>(o.set(u.collectionGroup,O),ct.forEach(O,H=>this.Fe(e,u,H).next(q=>{const he=this.Be(f,H);return q.isEqual(he)?ct.resolve():this.Le(e,f,q,he)}))))})}Ue(e,t,o){return Lo(e).put(new Us(o.indexId,this.uid,o.arrayValue,o.directionalValue,us(t.key.path)))}qe(e,t,o){return Lo(e).delete([o.indexId,this.uid,o.arrayValue,o.directionalValue,us(t.key.path)])}Fe(e,t,o){const u=Lo(e);let f=new di(yg);return u.Qt({index:Us.documentKeyIndex,range:IDBKeyRange.only([o.indexId,this.uid,us(t.path)])},(y,O)=>{f=f.add(new ch(o.indexId,t,O.arrayValue,O.directionalValue))}).next(()=>f)}Be(e,t){let o=new di(yg);const u=this.Oe(t,e);if(null==u)return o;const f=t.fields.find(O=>2===O.kind);if(null!=f){const y=e.data.field(f.fieldPath);if(Mo(y))for(const O of y.arrayValue.values||[])o=o.add(new ch(t.indexId,e.key,this.Me(O),u))}else o=o.add(new ch(t.indexId,e.key,new Uint8Array,u));return o}Le(e,t,o,u){Ct("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const f=[];return function(y,O,H,q,he){const Ne=y.getIterator(),it=O.getIterator();let _t=Wa(Ne),At=Wa(it);for(;_t||At;){let cn=!1,jn=!1;if(_t&&At){const cs=H(_t,At);cs<0?jn=!0:cs>0&&(cn=!0)}else null!=_t?jn=!0:cn=!0;cn?(q(At),At=Wa(it)):jn?(he(_t),_t=Wa(Ne)):(_t=Wa(Ne),At=Wa(it))}}(o,u,yg,y=>{f.push(this.Ue(e,t,y))},y=>{f.push(this.qe(e,t,y))}),ct.waitFor(f)}$e(e){let t=1;return rd(e).Qt({index:Si.sequenceNumberIndex,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(o,u,f)=>{f.done(),t=u.sequenceNumber+1}).next(()=>t)}}function _g(i){return Ms(i,kt.store)}function Lo(i){return Ms(i,Us.store)}function dh(i){return Ms(i,Ir.store)}function rd(i){return Ms(i,Si.store)}const vg={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Vo{constructor(e,t,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new Vo(e,Vo.DEFAULT_COLLECTION_PERCENTILE,Vo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function wg(i,e,t){const o=i.store(mi.store),u=i.store(g.store),f=[],y=IDBKeyRange.only(t.batchId);let O=0;const H=o.Qt({range:y},(he,Ne,it)=>(O++,it.delete()));f.push(H.next(()=>{v(1===O)}));const q=[];for(const he of t.mutations){const Ne=g.key(e,he.key.path,t.batchId);f.push(u.delete(Ne)),q.push(he.key)}return ct.waitFor(f).next(()=>q)}function hh(i){if(!i)return 0;let e;if(i.document)e=i.document;else if(i.unknownDocument)e=i.unknownDocument;else{if(!i.noDocument)throw b();e=i.noDocument}return JSON.stringify(e).length}Vo.DEFAULT_COLLECTION_PERCENTILE=10,Vo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Vo.DEFAULT=new Vo(41943040,Vo.DEFAULT_COLLECTION_PERCENTILE,Vo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Vo.DISABLED=new Vo(-1,0,0);class fh{constructor(e,t,o,u){this.userId=e,this.O=t,this.indexManager=o,this.referenceDelegate=u,this.Ke={}}static Jt(e,t,o,u){v(""!==e.uid);const f=e.isAuthenticated()?e.uid:"";return new fh(f,t,o,u)}checkEmpty(e){let t=!0;const o=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Wu(e).Qt({index:mi.userMutationsIndex,range:o},(u,f,y)=>{t=!1,y.done()}).next(()=>t)}addMutationBatch(e,t,o,u){const f=fl(e),y=Wu(e);return y.add({}).next(O=>{v("number"==typeof O);const H=new ed(O,t,o,u),q=function(it,_t,At){const cn=At.baseMutations.map(cs=>mu(it.Ht,cs)),jn=At.mutations.map(cs=>mu(it.Ht,cs));return new mi(_t,At.batchId,At.localWriteTime.toMillis(),cn,jn)}(this.O,this.userId,H),he=[];let Ne=new di((it,_t)=>Fn(it.canonicalString(),_t.canonicalString()));for(const it of u){const _t=g.key(this.userId,it.key.path,O);Ne=Ne.add(it.key.path.popLast()),he.push(y.put(q)),he.push(f.put(_t,g.PLACEHOLDER))}return Ne.forEach(it=>{he.push(this.indexManager.addToCollectionParentIndex(e,it))}),e.addOnCommittedListener(()=>{this.Ke[O]=H.keys()}),ct.waitFor(he).next(()=>H)})}lookupMutationBatch(e,t){return Wu(e).get(t).next(o=>o?(v(o.userId===this.userId),Ac(this.O,o)):null)}Ge(e,t){return this.Ke[t]?ct.resolve(this.Ke[t]):this.lookupMutationBatch(e,t).next(o=>{if(o){const u=o.keys();return this.Ke[t]=u,u}return null})}getNextMutationBatchAfterBatchId(e,t){const o=t+1,u=IDBKeyRange.lowerBound([this.userId,o]);let f=null;return Wu(e).Qt({index:mi.userMutationsIndex,range:u},(y,O,H)=>{O.userId===this.userId&&(v(O.batchId>=o),f=Ac(this.O,O)),H.done()}).next(()=>f)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let o=-1;return Wu(e).Qt({index:mi.userMutationsIndex,range:t,reverse:!0},(u,f,y)=>{o=f.batchId,y.done()}).next(()=>o)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Wu(e).qt(mi.userMutationsIndex,t).next(o=>o.map(u=>Ac(this.O,u)))}getAllMutationBatchesAffectingDocumentKey(e,t){const o=g.prefixForPath(this.userId,t.path),u=IDBKeyRange.lowerBound(o),f=[];return fl(e).Qt({range:u},(y,O,H)=>{const[q,he,Ne]=y,it=Fo(he);if(q===this.userId&&t.path.isEqual(it))return Wu(e).get(Ne).next(_t=>{if(!_t)throw b();v(_t.userId===this.userId),f.push(Ac(this.O,_t))});H.done()}).next(()=>f)}getAllMutationBatchesAffectingDocumentKeys(e,t){let o=new di(Fn);const u=[];return t.forEach(f=>{const y=g.prefixForPath(this.userId,f.path),O=IDBKeyRange.lowerBound(y),H=fl(e).Qt({range:O},(q,he,Ne)=>{const[it,_t,At]=q,cn=Fo(_t);it===this.userId&&f.path.isEqual(cn)?o=o.add(At):Ne.done()});u.push(H)}),ct.waitFor(u).next(()=>this.je(e,o))}getAllMutationBatchesAffectingQuery(e,t){const o=t.path,u=o.length+1,f=g.prefixForPath(this.userId,o),y=IDBKeyRange.lowerBound(f);let O=new di(Fn);return fl(e).Qt({range:y},(H,q,he)=>{const[Ne,it,_t]=H,At=Fo(it);Ne===this.userId&&o.isPrefixOf(At)?At.length===u&&(O=O.add(_t)):he.done()}).next(()=>this.je(e,O))}je(e,t){const o=[],u=[];return t.forEach(f=>{u.push(Wu(e).get(f).next(y=>{if(null===y)throw b();v(y.userId===this.userId),o.push(Ac(this.O,y))}))}),ct.waitFor(u).next(()=>o)}removeMutationBatch(e,t){return wg(e.zt,this.userId,t).next(o=>(e.addOnCommittedListener(()=>{this.Qe(t.batchId)}),ct.forEach(o,u=>this.referenceDelegate.markPotentiallyOrphaned(e,u))))}Qe(e){delete this.Ke[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return ct.resolve();const o=IDBKeyRange.lowerBound(g.prefixForUser(this.userId)),u=[];return fl(e).Qt({range:o},(f,y,O)=>{if(f[0]===this.userId){const H=Fo(f[1]);u.push(H)}else O.done()}).next(()=>{v(0===u.length)})})}containsKey(e,t){return Eg(e,this.userId,t)}We(e){return Xn(e).get(this.userId).next(t=>t||new Ya(this.userId,-1,""))}}function Eg(i,e,t){const o=g.prefixForPath(e,t.path),u=o[1],f=IDBKeyRange.lowerBound(o);let y=!1;return fl(i).Qt({range:f,jt:!0},(O,H,q)=>{const[he,Ne,it]=O;he===e&&Ne===u&&(y=!0),q.done()}).next(()=>y)}function Wu(i){return Ms(i,mi.store)}function fl(i){return Ms(i,g.store)}function Xn(i){return Ms(i,Ya.store)}class zu{constructor(e){this.ze=e}next(){return this.ze+=2,this.ze}static He(){return new zu(0)}static Je(){return new zu(-1)}}class bg{constructor(e,t){this.referenceDelegate=e,this.O=t}allocateTargetId(e){return this.Ye(e).next(t=>{const o=new zu(t.highestTargetId);return t.highestTargetId=o.next(),this.Xe(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Ye(e).next(t=>An.fromTimestamp(new gi(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Ye(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,o){return this.Ye(e).next(u=>(u.highestListenSequenceNumber=t,o&&(u.lastRemoteSnapshotVersion=o.toTimestamp()),t>u.highestListenSequenceNumber&&(u.highestListenSequenceNumber=t),this.Xe(e,u)))}addTargetData(e,t){return this.Ze(e,t).next(()=>this.Ye(e).next(o=>(o.targetCount+=1,this.tn(t,o),this.Xe(e,o))))}updateTargetData(e,t){return this.Ze(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>xc(e).delete(t.targetId)).next(()=>this.Ye(e)).next(o=>(v(o.targetCount>0),o.targetCount-=1,this.Xe(e,o)))}removeTargets(e,t,o){let u=0;const f=[];return xc(e).Qt((y,O)=>{const H=hl(O);H.sequenceNumber<=t&&null===o.get(H.targetId)&&(u++,f.push(this.removeTargetData(e,H)))}).next(()=>ct.waitFor(f)).next(()=>u)}forEachTarget(e,t){return xc(e).Qt((o,u)=>{const f=hl(u);t(f)})}Ye(e){return id(e).get(Xe.key).next(t=>(v(null!==t),t))}Xe(e,t){return id(e).put(Xe.key,t)}Ze(e,t){return xc(e).put(jf(this.O,t))}tn(e,t){let o=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,o=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,o=!0),o}getTargetCount(e){return this.Ye(e).next(t=>t.targetCount)}getTargetData(e,t){const o=Kt(t),u=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,Number.POSITIVE_INFINITY]);let f=null;return xc(e).Qt({range:u,index:Y.queryTargetsIndexName},(y,O,H)=>{const q=hl(O);ar(t,q.target)&&(f=q,H.done())}).next(()=>f)}addMatchingKeys(e,t,o){const u=[],f=Bs(e);return t.forEach(y=>{const O=us(y.path);u.push(f.put(new Pe(o,O))),u.push(this.referenceDelegate.addReference(e,o,y))}),ct.waitFor(u)}removeMatchingKeys(e,t,o){const u=Bs(e);return ct.forEach(t,f=>{const y=us(f.path);return ct.waitFor([u.delete([o,y]),this.referenceDelegate.removeReference(e,o,f)])})}removeMatchingKeysForTargetId(e,t){const o=Bs(e),u=IDBKeyRange.bound([t],[t+1],!1,!0);return o.delete(u)}getMatchingKeysForTargetId(e,t){const o=IDBKeyRange.bound([t],[t+1],!1,!0),u=Bs(e);let f=Lr();return u.Qt({range:o,jt:!0},(y,O,H)=>{const q=Fo(y[1]),he=new Jt(q);f=f.add(he)}).next(()=>f)}containsKey(e,t){const o=us(t.path),u=IDBKeyRange.bound([o],[lc(o)],!1,!0);let f=0;return Bs(e).Qt({index:Pe.documentTargetsIndex,jt:!0,range:u},([y,O],H,q)=>{0!==y&&(f++,q.done())}).next(()=>f>0)}Tt(e,t){return xc(e).get(t).next(o=>o?hl(o):null)}}function xc(i){return Ms(i,Y.store)}function id(i){return Ms(i,Xe.store)}function Bs(i){return Ms(i,Pe.store)}function Ku(i){return Wf.apply(this,arguments)}function Wf(){return Wf=(0,oe.Z)(function*(i){if(i.code!==S.FAILED_PRECONDITION||i.message!==Ia)throw i;Ct("LocalStore","Unexpectedly lost primary lease")}),Wf.apply(this,arguments)}function ph([i,e],[t,o]){const u=Fn(i,t);return 0===u?Fn(e,o):u}class wu{constructor(e){this.en=e,this.buffer=new di(ph),this.nn=0}sn(){return++this.nn}rn(e){const t=[e,this.sn()];if(this.buffer.size<this.en)this.buffer=this.buffer.add(t);else{const o=this.buffer.last();ph(t,o)<0&&(this.buffer=this.buffer.delete(o).add(t))}}get maxValue(){return this.buffer.last()[0]}}class zf{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.on=!1,this.cn=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.un(e)}stop(){this.cn&&(this.cn.cancel(),this.cn=null)}get started(){return null!==this.cn}un(e){var t=this;const o=this.on?3e5:6e4;Ct("LruGarbageCollector",`Garbage collection scheduled in ${o}ms`),this.cn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",o,(0,oe.Z)(function*(){t.cn=null,t.on=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(u){_u(u)?Ct("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",u):yield Ku(u)}yield t.un(e)}))}}class Ig{constructor(e,t){this.an=e,this.params=t}calculateTargetCount(e,t){return this.an.hn(e).next(o=>Math.floor(t/100*o))}nthSequenceNumber(e,t){if(0===t)return ct.resolve(bi.A);const o=new wu(t);return this.an.forEachTarget(e,u=>o.rn(u.sequenceNumber)).next(()=>this.an.ln(e,u=>o.rn(u))).next(()=>o.maxValue)}removeTargets(e,t,o){return this.an.removeTargets(e,t,o)}removeOrphanedDocuments(e,t){return this.an.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Ct("LruGarbageCollector","Garbage collection skipped; disabled"),ct.resolve(vg)):this.getCacheSize(e).next(o=>o<this.params.cacheSizeCollectionThreshold?(Ct("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),vg):this.fn(e,t))}getCacheSize(e){return this.an.getCacheSize(e)}fn(e,t){let o,u,f,y,O,H,q;const he=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(Ne=>(Ne>this.params.maximumSequenceNumbersToCollect?(Ct("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Ne}`),u=this.params.maximumSequenceNumbersToCollect):u=Ne,y=Date.now(),this.nthSequenceNumber(e,u))).next(Ne=>(o=Ne,O=Date.now(),this.removeTargets(e,o,t))).next(Ne=>(f=Ne,H=Date.now(),this.removeOrphanedDocuments(e,o))).next(Ne=>(q=Date.now(),wa()<=Ce.in.DEBUG&&Ct("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${y-he}ms\n\tDetermined least recently used ${u} in `+(O-y)+`ms\n\tRemoved ${f} targets in `+(H-O)+`ms\n\tRemoved ${Ne} documents in `+(q-H)+`ms\nTotal Duration: ${q-he}ms`),ct.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:f,documentsRemoved:Ne})))}}class Kf{constructor(e,t){this.db=e,this.garbageCollector=new Ig(this,t)}hn(e){const t=this.dn(e);return this.db.getTargetCache().getTargetCount(e).next(o=>t.next(u=>o+u))}dn(e){let t=0;return this.ln(e,o=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}ln(e,t){return this._n(e,(o,u)=>t(u))}addReference(e,t,o){return qf(e,o)}removeReference(e,t,o){return qf(e,o)}removeTargets(e,t,o){return this.db.getTargetCache().removeTargets(e,t,o)}markPotentiallyOrphaned(e,t){return qf(e,t)}wn(e,t){return function(o,u){let f=!1;return Xn(o).Wt(y=>Eg(o,y,u).next(O=>(O&&(f=!0),ct.resolve(!O)))).next(()=>f)}(e,t)}removeOrphanedDocuments(e,t){const o=this.db.getRemoteDocumentCache().newChangeBuffer(),u=[];let f=0;return this._n(e,(y,O)=>{if(O<=t){const H=this.wn(e,y).next(q=>{if(!q)return f++,o.getEntry(e,y).next(()=>(o.removeEntry(y,An.min()),Bs(e).delete([0,us(y.path)])))});u.push(H)}}).next(()=>ct.waitFor(u)).next(()=>o.apply(e)).next(()=>f)}removeTarget(e,t){const o=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,o)}updateLimboDocument(e,t){return qf(e,t)}_n(e,t){const o=Bs(e);let u,f=bi.A;return o.Qt({index:Pe.documentTargetsIndex},([y,O],{path:H,sequenceNumber:q})=>{0===y?(f!==bi.A&&t(new Jt(Fo(u)),f),f=q,u=H):f=bi.A}).next(()=>{f!==bi.A&&t(new Jt(Fo(u)),f)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function qf(i,e){return Bs(i).put((o=i.currentSequenceNumber,new Pe(0,us(e.path),o)));var o}class Mc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}get(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0!==o)for(const[u,f]of o)if(this.equalsFn(u,e))return f}has(e){return void 0!==this.get(e)}set(e,t){const o=this.mapKeyFn(e),u=this.inner[o];if(void 0!==u){for(let f=0;f<u.length;f++)if(this.equalsFn(u[f][0],e))return void(u[f]=[e,t]);u.push([e,t])}else this.inner[o]=[[e,t]]}delete(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0===o)return!1;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return 1===o.length?delete this.inner[t]:o.splice(u,1),!0;return!1}forEach(e){ti(this.inner,(t,o)=>{for(const[u,f]of o)e(u,f)})}isEmpty(){return kl(this.inner)}}class by{constructor(){this.changes=new Mc(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,x.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const o=this.changes.get(t);return void 0!==o?ct.resolve(o):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class gh{constructor(e){this.O=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,o){return Ja(e).put(pl(t),o)}removeEntry(e,t){const o=Ja(e),u=pl(t);return o.delete(u)}updateMetadata(e,t){return this.getMetadata(e).next(o=>(o.byteSize+=t,this.mn(e,o)))}getEntry(e,t){return Ja(e).get(pl(t)).next(o=>this.gn(t,o))}yn(e,t){return Ja(e).get(pl(t)).next(o=>({document:this.gn(t,o),size:hh(o)}))}getEntries(e,t){let o=No();return this.pn(e,t,(u,f)=>{const y=this.gn(u,f);o=o.insert(u,y)}).next(()=>o)}In(e,t){let o=No(),u=new as(Jt.comparator);return this.pn(e,t,(f,y)=>{const O=this.gn(f,y);o=o.insert(f,O),u=u.insert(f,hh(y))}).next(()=>({documents:o,En:u}))}pn(e,t,o){if(t.isEmpty())return ct.resolve();const u=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),f=t.getIterator();let y=f.getNext();return Ja(e).Qt({range:u},(O,H,q)=>{const he=Jt.fromSegments(O);for(;y&&Jt.comparator(y,he)<0;)o(y,null),y=f.getNext();y&&y.isEqual(he)&&(o(y,H),y=f.hasNext()?f.getNext():null),y?q.Ut(y.path.toArray()):q.done()}).next(()=>{for(;y;)o(y,null),y=f.hasNext()?f.getNext():null})}getAll(e,t,o){let u=No();const f=t.length+1,y={};if(o.isEqual(An.min())){const O=t.toArray();y.range=IDBKeyRange.lowerBound(O)}else{const O=t.toArray(),H=rh(o);y.range=IDBKeyRange.lowerBound([O,H],!0),y.index=w.collectionReadTimeIndex}return Ja(e).Qt(y,(O,H,q)=>{if(O.length!==f)return;const he=this.gn(Jt.fromSegments(O),H);t.isPrefixOf(he.key.path)?u=u.insert(he.key,he):q.done()}).next(()=>u)}newChangeBuffer(e){return new mh(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return yh(e).get(U.key).next(t=>(v(!!t),t))}mn(e,t){return yh(e).put(U.key,t)}gn(e,t){if(t){const o=Hu(this.O,t);if(!o.isNoDocument()||!o.version.isEqual(An.min()))return o}return x.newInvalidDocument(e)}}class mh extends by{constructor(e,t){super(),this.Tn=e,this.trackRemovals=t,this.An=new Mc(o=>o.toString(),(o,u)=>o.isEqual(u))}applyChanges(e){const t=[];let o=0,u=new di((f,y)=>Fn(f.canonicalString(),y.canonicalString()));return this.changes.forEach((f,y)=>{const O=this.An.get(f);if(y.isValidDocument()){const H=Uf(this.Tn.O,y);u=u.add(f.path.popLast()),o+=hh(H)-O,t.push(this.Tn.addEntry(e,f,H))}else if(o-=O,this.trackRemovals){const H=Uf(this.Tn.O,y.convertToNoDocument(An.min()));t.push(this.Tn.addEntry(e,f,H))}else t.push(this.Tn.removeEntry(e,f))}),u.forEach(f=>{t.push(this.Tn.indexManager.addToCollectionParentIndex(e,f))}),t.push(this.Tn.updateMetadata(e,o)),ct.waitFor(t)}getFromCache(e,t){return this.Tn.yn(e,t).next(o=>(this.An.set(t,o.size),o.document))}getAllFromCache(e,t){return this.Tn.In(e,t).next(({documents:o,En:u})=>(u.forEach((f,y)=>{this.An.set(f,y)}),o))}}function yh(i){return Ms(i,U.store)}function Ja(i){return Ms(i,w.store)}function pl(i){return i.path.toArray()}class vv{constructor(e){this.O=e}kt(e,t,o,u){const f=new $u("createOrUpgrade",t);var O;o<1&&u>=1&&(e.createObjectStore(Eo.store),(O=e).createObjectStore(Ya.store,{keyPath:Ya.keyPath}),O.createObjectStore(mi.store,{keyPath:mi.keyPath,autoIncrement:!0}).createIndex(mi.userMutationsIndex,mi.userMutationsKeyPath,{unique:!0}),O.createObjectStore(g.store),Dg(e),function(O){O.createObjectStore(w.store)}(e));let y=ct.resolve();return o<3&&u>=3&&(0!==o&&(function(O){O.deleteObjectStore(Pe.store),O.deleteObjectStore(Y.store),O.deleteObjectStore(Xe.store)}(e),Dg(e)),y=y.next(()=>function(O){const H=O.store(Xe.store),q=new Xe(0,0,An.min().toTimestamp(),0);return H.put(Xe.key,q)}(f))),o<4&&u>=4&&(0!==o&&(y=y.next(()=>function(O,H){return H.store(mi.store).qt().next(q=>{O.deleteObjectStore(mi.store),O.createObjectStore(mi.store,{keyPath:mi.keyPath,autoIncrement:!0}).createIndex(mi.userMutationsIndex,mi.userMutationsKeyPath,{unique:!0});const he=H.store(mi.store),Ne=q.map(it=>he.put(it));return ct.waitFor(Ne)})}(e,f))),y=y.next(()=>{!function(O){O.createObjectStore(Xt.store,{keyPath:Xt.keyPath})}(e)})),o<5&&u>=5&&(y=y.next(()=>this.Rn(f))),o<6&&u>=6&&(y=y.next(()=>(function(O){O.createObjectStore(U.store)}(e),this.Pn(f)))),o<7&&u>=7&&(y=y.next(()=>this.bn(f))),o<8&&u>=8&&(y=y.next(()=>this.vn(e,f))),o<9&&u>=9&&(y=y.next(()=>{(function(O){O.objectStoreNames.contains("remoteDocumentChanges")&&O.deleteObjectStore("remoteDocumentChanges")})(e),function(O){const H=O.objectStore(w.store);H.createIndex(w.readTimeIndex,w.readTimeIndexPath,{unique:!1}),H.createIndex(w.collectionReadTimeIndex,w.collectionReadTimeIndexPath,{unique:!1})}(t)})),o<10&&u>=10&&(y=y.next(()=>this.Vn(f))),o<11&&u>=11&&(y=y.next(()=>{(function(O){O.createObjectStore(Tn.store,{keyPath:Tn.keyPath})})(e),function(O){O.createObjectStore(mn.store,{keyPath:mn.keyPath})}(e)})),o<12&&u>=12&&(y=y.next(()=>{!function(O){const H=O.createObjectStore(Qi.store,{keyPath:Qi.keyPath});H.createIndex(Qi.collectionPathOverlayIndex,Qi.collectionPathOverlayIndexPath,{unique:!1}),H.createIndex(Qi.collectionGroupOverlayIndex,Qi.collectionGroupOverlayIndexPath,{unique:!1})}(e)})),o<13&&u>=13&&(y=y.next(()=>{!function(O){O.createObjectStore(Ir.store,{keyPath:Ir.keyPath,autoIncrement:!0}).createIndex(Ir.collectionGroupIndex,Ir.collectionGroupIndexPath,{unique:!1}),O.createObjectStore(Si.store,{keyPath:Si.keyPath}).createIndex(Si.sequenceNumberIndex,Si.sequenceNumberIndexPath,{unique:!1}),O.createObjectStore(Us.store,{keyPath:Us.keyPath}).createIndex(Us.documentKeyIndex,Us.documentKeyIndexPath,{unique:!1})}(e)})),y}Pn(e){let t=0;return e.store(w.store).Qt((o,u)=>{t+=hh(u)}).next(()=>{const o=new U(t);return e.store(U.store).put(U.key,o)})}Rn(e){const t=e.store(Ya.store),o=e.store(mi.store);return t.qt().next(u=>ct.forEach(u,f=>{const y=IDBKeyRange.bound([f.userId,-1],[f.userId,f.lastAcknowledgedBatchId]);return o.qt(mi.userMutationsIndex,y).next(O=>ct.forEach(O,H=>{v(H.userId===f.userId);const q=Ac(this.O,H);return wg(e,f.userId,q).next(()=>{})}))}))}bn(e){const t=e.store(Pe.store),o=e.store(w.store);return e.store(Xe.store).get(Xe.key).next(u=>{const f=[];return o.Qt((y,O)=>{const H=new kr(y),q=[0,us(H)];f.push(t.get(q).next(he=>he?ct.resolve():t.put(new Pe(0,us(H),u.highestListenSequenceNumber))))}).next(()=>ct.waitFor(f))})}vn(e,t){e.createObjectStore(kt.store,{keyPath:kt.keyPath});const o=t.store(kt.store),u=new lh,f=y=>{if(u.add(y)){const O=y.lastSegment(),H=y.popLast();return o.put({collectionId:O,parent:us(H)})}};return t.store(w.store).Qt({jt:!0},(y,O)=>{const H=new kr(y);return f(H.popLast())}).next(()=>t.store(g.store).Qt({jt:!0},([y,O,H],q)=>{const he=Fo(O);return f(he.popLast())}))}Vn(e){const t=e.store(Y.store);return t.Qt((o,u)=>{const f=hl(u),y=jf(this.O,f);return t.put(y)})}}function Dg(i){i.createObjectStore(Pe.store,{keyPath:Pe.keyPath}).createIndex(Pe.documentTargetsIndex,Pe.documentTargetsKeyPath,{unique:!0}),i.createObjectStore(Y.store,{keyPath:Y.keyPath}).createIndex(Y.queryTargetsIndexName,Y.queryTargetsKeyPath,{unique:!0}),i.createObjectStore(Xe.store)}const Zf="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Yf{constructor(e,t,o,u,f,y,O,H,q,he,Ne=12){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=o,this.Sn=f,this.window=y,this.document=O,this.Dn=q,this.Cn=he,this.schemaVersion=Ne,this.Nn=null,this.xn=!1,this.isPrimary=!1,this.networkEnabled=!0,this.kn=null,this.inForeground=!1,this.On=null,this.Mn=null,this.$n=Number.NEGATIVE_INFINITY,this.Fn=it=>Promise.resolve(),!Yf.Vt())throw new B(S.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Kf(this,u),this.Bn=t+"main",this.O=new Vf(H),this.Ln=new io(this.Bn,this.schemaVersion,new vv(this.O)),this.Un=new bg(this.referenceDelegate,this.O),this.qn=new gh(this.O),this.Kn=new sh,this.window&&this.window.localStorage?this.Gn=this.window.localStorage:(this.Gn=null,!1===he&&Vr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.jn().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new B(S.FAILED_PRECONDITION,Zf);return this.Qn(),this.Wn(),this.zn(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Un.getHighestSequenceNumber(e))}).then(e=>{this.Nn=new bi(e,this.Dn)}).then(()=>{this.xn=!0}).catch(e=>(this.Ln&&this.Ln.close(),Promise.reject(e)))}Hn(e){var t=this;return this.Fn=function(){var o=(0,oe.Z)(function*(u){if(t.started)return e(u)});return function(u){return o.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ln.Mt(function(){var t=(0,oe.Z)(function*(o){null===o.newVersion&&(yield e())});return function(o){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Sn.enqueueAndForget((0,oe.Z)(function*(){t.started&&(yield t.jn())})))}jn(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>od(e).put(new Xt(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.Jn(e).next(t=>{t||(this.isPrimary=!1,this.Sn.enqueueRetryable(()=>this.Fn(!1)))})}).next(()=>this.Yn(e)).next(t=>this.isPrimary&&!t?this.Xn(e).next(()=>!1):!!t&&this.Zn(e).next(()=>!0))).catch(e=>{if(_u(e))return Ct("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ct("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Sn.enqueueRetryable(()=>this.Fn(e)),this.isPrimary=e})}Jn(e){return sd(e).get(Eo.key).next(t=>ct.resolve(this.ts(t)))}es(e){return od(e).delete(this.clientId)}ns(){var e=this;return(0,oe.Z)(function*(){if(e.isPrimary&&!e.ss(e.$n,18e5)){e.$n=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",o=>{const u=Ms(o,Xt.store);return u.qt().next(f=>{const y=e.rs(f,18e5),O=f.filter(H=>-1===y.indexOf(H));return ct.forEach(O,H=>u.delete(H.clientId)).next(()=>O)})}).catch(()=>[]);if(e.Gn)for(const o of t)e.Gn.removeItem(e.os(o.clientId))}})()}zn(){this.Mn=this.Sn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.jn().then(()=>this.ns()).then(()=>this.zn()))}ts(e){return!!e&&e.ownerId===this.clientId}Yn(e){return this.Cn?ct.resolve(!0):sd(e).get(Eo.key).next(t=>{if(null!==t&&this.ss(t.leaseTimestampMs,5e3)&&!this.cs(t.ownerId)){if(this.ts(t)&&this.networkEnabled)return!0;if(!this.ts(t)){if(!t.allowTabSynchronization)throw new B(S.FAILED_PRECONDITION,Zf);return!1}}return!(!this.networkEnabled||!this.inForeground)||od(e).qt().next(o=>void 0===this.rs(o,5e3).find(u=>{if(this.clientId!==u.clientId){const y=!this.inForeground&&u.inForeground,O=this.networkEnabled===u.networkEnabled;if(!this.networkEnabled&&u.networkEnabled||y&&O)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Ct("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,oe.Z)(function*(){e.xn=!1,e.us(),e.Mn&&(e.Mn.cancel(),e.Mn=null),e.hs(),e.ls(),yield e.Ln.runTransaction("shutdown","readwrite",[Eo.store,Xt.store],t=>{const o=new nh(t,bi.A);return e.Xn(o).next(()=>e.es(o))}),e.Ln.close(),e.fs()})()}rs(e,t){return e.filter(o=>this.ss(o.updateTimeMs,t)&&!this.cs(o.clientId))}ds(){return this.runTransaction("getActiveClients","readonly",e=>od(e).qt().next(t=>this.rs(t,18e5).map(o=>o.clientId)))}get started(){return this.xn}getMutationQueue(e,t){return fh.Jt(e,this.O,t,this.referenceDelegate)}getTargetCache(){return this.Un}getRemoteDocumentCache(){return this.qn}getIndexManager(e){return new Ey(e)}getDocumentOverlayCache(e){return ah.Jt(this.O,e)}getBundleCache(){return this.Kn}runTransaction(e,t,o){Ct("IndexedDbPersistence","Starting transaction:",e);const u="readonly"===t?"readonly":"readwrite",f=13===(y=this.schemaVersion)?Nf:12===y?dl:11===y?ju:void b();var y;let O;return this.Ln.runTransaction(e,u,f,H=>(O=new nh(H,this.Nn?this.Nn.next():bi.A),"readwrite-primary"===t?this.Jn(O).next(q=>!!q||this.Yn(O)).next(q=>{if(!q)throw Vr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Sn.enqueueRetryable(()=>this.Fn(!1)),new B(S.FAILED_PRECONDITION,Ia);return o(O)}).next(q=>this.Zn(O).next(()=>q)):this._s(O).next(()=>o(O)))).then(H=>(O.raiseOnCommittedEvent(),H))}_s(e){return sd(e).get(Eo.key).next(t=>{if(null!==t&&this.ss(t.leaseTimestampMs,5e3)&&!this.cs(t.ownerId)&&!this.ts(t)&&!(this.Cn||this.allowTabSynchronization&&t.allowTabSynchronization))throw new B(S.FAILED_PRECONDITION,Zf)})}Zn(e){const t=new Eo(this.clientId,this.allowTabSynchronization,Date.now());return sd(e).put(Eo.key,t)}static Vt(){return io.Vt()}Xn(e){const t=sd(e);return t.get(Eo.key).next(o=>this.ts(o)?(Ct("IndexedDbPersistence","Releasing primary lease."),t.delete(Eo.key)):ct.resolve())}ss(e,t){const o=Date.now();return!(e<o-t||e>o&&(Vr(`Detected an update time that is in the future: ${e} > ${o}`),1))}Qn(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.On=()=>{this.Sn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.jn()))},this.document.addEventListener("visibilitychange",this.On),this.inForeground="visible"===this.document.visibilityState)}hs(){this.On&&(this.document.removeEventListener("visibilitychange",this.On),this.On=null)}Wn(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.kn=()=>{this.us(),(0,Ve.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Sn.enterRestrictedMode(!0),this.Sn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.kn))}ls(){this.kn&&(this.window.removeEventListener("pagehide",this.kn),this.kn=null)}cs(e){var t;try{const o=null!==(null===(t=this.Gn)||void 0===t?void 0:t.getItem(this.os(e)));return Ct("IndexedDbPersistence",`Client '${e}' ${o?"is":"is not"} zombied in LocalStorage`),o}catch(o){return Vr("IndexedDbPersistence","Failed to get zombied client id.",o),!1}}us(){if(this.Gn)try{this.Gn.setItem(this.os(this.clientId),String(Date.now()))}catch(e){Vr("Failed to set zombie client id.",e)}}fs(){if(this.Gn)try{this.Gn.removeItem(this.os(this.clientId))}catch(e){}}os(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function sd(i){return Ms(i,Eo.store)}function od(i){return Ms(i,Xt.store)}function Cg(i,e){let t=i.projectId;return i.isDefaultDatabase||(t+="."+i.database),"firestore/"+e+"/"+t+"/"}class Iy{constructor(e,t){this.progress=e,this.ws=t}}class wv{constructor(e,t,o){this.qn=e,this.gs=t,this.indexManager=o}ys(e,t){return this.gs.getAllMutationBatchesAffectingDocumentKey(e,t).next(o=>this.ps(e,t,o))}ps(e,t,o){return this.qn.getEntry(e,t).next(u=>{for(const f of o)f.applyToLocalView(u);return u})}Is(e,t){e.forEach((o,u)=>{for(const f of t)f.applyToLocalView(u)})}Es(e,t){return this.qn.getEntries(e,t).next(o=>this.Ts(e,o).next(()=>o))}Ts(e,t){return this.gs.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>this.Is(t,o))}As(e,t,o){return Jt.isDocumentKey((u=t).path)&&null===u.collectionGroup&&0===u.filters.length?this.Rs(e,t.path):lu(t)?this.Ps(e,t,o):this.bs(e,t,o);var u}Rs(e,t){return this.ys(e,new Jt(t)).next(o=>{let u=Kl();return o.isFoundDocument()&&(u=u.insert(o.key,o)),u})}Ps(e,t,o){const u=t.collectionGroup;let f=Kl();return this.indexManager.getCollectionParents(e,u).next(y=>ct.forEach(y,O=>{const H=(q=t,he=O.child(u),new ua(he,null,q.explicitOrderBy.slice(),q.filters.slice(),q.limit,q.limitType,q.startAt,q.endAt));var q,he;return this.bs(e,H,o).next(q=>{q.forEach((he,Ne)=>{f=f.insert(he,Ne)})})}).next(()=>f))}bs(e,t,o){let u;return this.qn.getAll(e,t.path,o).next(f=>(u=f,this.gs.getAllMutationBatchesAffectingQuery(e,t))).next(f=>{for(const y of f)for(const O of y.mutations){const H=O.key;let q=u.get(H);null==q&&(q=x.newInvalidDocument(H),u=u.insert(H,q)),Gl(O,q,y.localWriteTime),q.isFoundDocument()||(u=u.remove(H))}}).next(()=>(u.forEach((f,y)=>{$l(t,y)||(u=u.remove(f))}),u))}}class _h{constructor(e,t,o,u){this.targetId=e,this.fromCache=t,this.vs=o,this.Vs=u}static Ss(e,t){let o=Lr(),u=Lr();for(const f of t.docChanges)switch(f.type){case 0:o=o.add(f.doc.key);break;case 1:u=u.add(f.doc.key)}return new _h(e,t.fromCache,o,u)}}class Qf{Ds(e){this.Cs=e}As(e,t,o,u){return 0===(f=t).filters.length&&null===f.limit&&null==f.startAt&&null==f.endAt&&(0===f.explicitOrderBy.length||1===f.explicitOrderBy.length&&f.explicitOrderBy[0].field.isKeyField())||o.isEqual(An.min())?this.Ns(e,t):this.Cs.Es(e,u).next(f=>{const y=this.xs(t,f);return(mc(t)||Zc(t))&&this.ks(t.limitType,y,u,o)?this.Ns(e,t):(wa()<=Ce.in.DEBUG&&Ct("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),jl(t)),this.Cs.As(e,t,o).next(O=>(y.forEach(H=>{O=O.insert(H.key,H)}),O)))});var f}xs(e,t){let o=new di(Bd(e));return t.forEach((u,f)=>{$l(e,f)&&(o=o.add(f))}),o}ks(e,t,o,u){if(o.size!==t.size)return!0;const f="F"===e?t.last():t.first();return!!f&&(f.hasPendingWrites||f.version.compareTo(u)>0)}Ns(e,t){return wa()<=Ce.in.DEBUG&&Ct("QueryEngine","Using full collection scan to execute query:",jl(t)),this.Cs.As(e,t,An.min())}}class Dy{constructor(e,t,o,u){this.persistence=e,this.Os=t,this.O=u,this.Ms=new as(Fn),this.$s=new Mc(f=>Kt(f),ar),this.Fs=An.min(),this.Bs=e.getRemoteDocumentCache(),this.Un=e.getTargetCache(),this.Kn=e.getBundleCache(),this.Ls(o)}Ls(e){this.indexManager=this.persistence.getIndexManager(e),this.gs=this.persistence.getMutationQueue(e,this.indexManager),this.Us=new wv(this.Bs,this.gs,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Os.Ds(this.Us)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function vh(i,e,t,o){return new Dy(i,e,t,o)}function Cy(i,e){return Tg.apply(this,arguments)}function Tg(){return Tg=(0,oe.Z)(function*(i,e){const t=C(i);return yield t.persistence.runTransaction("Handle user change","readonly",o=>{let u;return t.gs.getAllMutationBatches(o).next(f=>(u=f,t.Ls(e),t.gs.getAllMutationBatches(o))).next(f=>{const y=[],O=[];let H=Lr();for(const q of u){y.push(q.batchId);for(const he of q.mutations)H=H.add(he.key)}for(const q of f){O.push(q.batchId);for(const he of q.mutations)H=H.add(he.key)}return t.Us.Es(o,H).next(q=>({qs:q,removedBatchIds:y,addedBatchIds:O}))})})}),Tg.apply(this,arguments)}function Ev(i,e){const t=C(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const u=e.batch.keys(),f=t.Bs.newChangeBuffer({trackRemovals:!0});return function(y,O,H,q){const he=H.batch,Ne=he.keys();let it=ct.resolve();return Ne.forEach(_t=>{it=it.next(()=>q.getEntry(O,_t)).next(At=>{const cn=H.docVersions.get(_t);v(null!==cn),At.version.compareTo(cn)<0&&(he.applyToRemoteDocument(At,H),At.isValidDocument()&&(At.setReadTime(H.commitVersion),q.addEntry(At)))})}),it.next(()=>y.gs.removeMutationBatch(O,he))}(t,o,e,f).next(()=>f.apply(o)).next(()=>t.gs.performConsistencyCheck(o)).next(()=>t.Us.Es(o,u))})}function Ty(i){const e=C(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Un.getLastRemoteSnapshotVersion(t))}function bv(i,e){const t=C(i),o=e.snapshotVersion;let u=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",f=>{const y=t.Bs.newChangeBuffer({trackRemovals:!0});u=t.Ms;const O=[];e.targetChanges.forEach((q,he)=>{const Ne=u.get(he);if(!Ne)return;O.push(t.Un.removeMatchingKeys(f,q.removedDocuments,he).next(()=>t.Un.addMatchingKeys(f,q.addedDocuments,he)));let it=Ne.withSequenceNumber(f.currentSequenceNumber);var _t,At,cn;e.targetMismatches.has(he)?it=it.withResumeToken(oi.EMPTY_BYTE_STRING,An.min()).withLastLimboFreeSnapshotVersion(An.min()):q.resumeToken.approximateByteSize()>0&&(it=it.withResumeToken(q.resumeToken,o)),u=u.insert(he,it),At=it,cn=q,(0===(_t=Ne).resumeToken.approximateByteSize()||At.snapshotVersion.toMicroseconds()-_t.snapshotVersion.toMicroseconds()>=3e8||cn.addedDocuments.size+cn.modifiedDocuments.size+cn.removedDocuments.size>0)&&O.push(t.Un.updateTargetData(f,it))});let H=No();if(e.documentUpdates.forEach(q=>{e.resolvedLimboDocuments.has(q)&&O.push(t.persistence.referenceDelegate.updateLimboDocument(f,q))}),O.push(Ay(f,y,e.documentUpdates).next(q=>{H=q})),!o.isEqual(An.min())){const q=t.Un.getLastRemoteSnapshotVersion(f).next(he=>t.Un.setTargetsMetadata(f,f.currentSequenceNumber,o));O.push(q)}return ct.waitFor(O).next(()=>y.apply(f)).next(()=>t.Us.Ts(f,H)).next(()=>H)}).then(f=>(t.Ms=u,f))}function Ay(i,e,t){let o=Lr();return t.forEach(u=>o=o.add(u)),e.getEntries(i,o).next(u=>{let f=No();return t.forEach((y,O)=>{const H=u.get(y);O.isNoDocument()&&O.version.isEqual(An.min())?(e.removeEntry(y,O.readTime),f=f.insert(y,O)):!H.isValidDocument()||O.version.compareTo(H.version)>0||0===O.version.compareTo(H.version)&&H.hasPendingWrites?(e.addEntry(O),f=f.insert(y,O)):Ct("LocalStore","Ignoring outdated watch update for ",y,". Current version:",H.version," Watch version:",O.version)}),f})}function Iv(i,e){const t=C(i);return t.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),t.gs.getNextMutationBatchAfterBatchId(o,e)))}function ad(i,e){const t=C(i);return t.persistence.runTransaction("Allocate target","readwrite",o=>{let u;return t.Un.getTargetData(o,e).next(f=>f?(u=f,ct.resolve(u)):t.Un.allocateTargetId(o).next(y=>(u=new vu(e,y,0,o.currentSequenceNumber),t.Un.addTargetData(o,u).next(()=>u))))}).then(o=>{const u=t.Ms.get(o.targetId);return(null===u||o.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(o.targetId,o),t.$s.set(e,o.targetId)),o})}function ud(i,e,t){return Ag.apply(this,arguments)}function Ag(){return Ag=(0,oe.Z)(function*(i,e,t){const o=C(i),u=o.Ms.get(e),f=t?"readwrite":"readwrite-primary";try{t||(yield o.persistence.runTransaction("Release target",f,y=>o.persistence.referenceDelegate.removeTarget(y,u)))}catch(y){if(!_u(y))throw y;Ct("LocalStore",`Failed to update sequence numbers for target ${e}: ${y}`)}o.Ms=o.Ms.remove(e),o.$s.delete(u.target)}),Ag.apply(this,arguments)}function Da(i,e,t){const o=C(i);let u=An.min(),f=Lr();return o.persistence.runTransaction("Execute query","readonly",y=>function(O,H,q){const he=C(O),Ne=he.$s.get(q);return void 0!==Ne?ct.resolve(he.Ms.get(Ne)):he.Un.getTargetData(H,q)}(o,y,Ro(e)).next(O=>{if(O)return u=O.lastLimboFreeSnapshotVersion,o.Un.getMatchingKeysForTargetId(y,O.targetId).next(H=>{f=H})}).next(()=>o.Os.As(y,e,t?u:An.min(),t?f:Lr())).next(O=>({documents:O,Ks:f})))}function wh(i,e){const t=C(i),o=C(t.Un),u=t.Ms.get(e);return u?Promise.resolve(u.target):t.persistence.runTransaction("Get target data","readonly",f=>o.Tt(f,e).next(y=>y?y.target:null))}function Sg(i){const e=C(i);return e.persistence.runTransaction("Get new document changes","readonly",t=>function(o,u,f){const y=C(o);let O=No(),H=rh(f);const q=Ja(u),he=IDBKeyRange.lowerBound(H,!0);return q.Qt({index:w.readTimeIndex,range:he},(Ne,it)=>{const _t=Hu(y.O,it);O=O.insert(_t.key,_t),H=it.readTime}).next(()=>({ws:O,readTime:Bf(H)}))}(e.Bs,t,e.Fs)).then(({ws:t,readTime:o})=>(e.Fs=o,t))}function cd(){return cd=(0,oe.Z)(function*(i){const e=C(i);return e.persistence.runTransaction("Synchronize last document change read time","readonly",t=>function(o){const u=Ja(o);let f=An.min();return u.Qt({index:w.readTimeIndex,reverse:!0},(y,O,H)=>{O.readTime&&(f=Bf(O.readTime)),H.done()}).next(()=>f)}(t)).then(t=>{e.Fs=t})}),cd.apply(this,arguments)}function ld(){return ld=(0,oe.Z)(function*(i,e,t,o){const u=C(i);let f=Lr(),y=No();for(const q of t){const he=e.Gs(q.metadata.name);q.document&&(f=f.add(he));const Ne=e.js(q);Ne.setReadTime(e.Qs(q.metadata.readTime)),y=y.insert(he,Ne)}const O=u.Bs.newChangeBuffer({trackRemovals:!0}),H=yield ad(u,(q=o,Ro(Qo(kr.fromString(`__bundle__/docs/${q}`)))));var q;return u.persistence.runTransaction("Apply bundle documents","readwrite",q=>Ay(q,O,y).next(he=>(O.apply(q),he)).next(he=>u.Un.removeMatchingKeysForTargetId(q,H.targetId).next(()=>u.Un.addMatchingKeys(q,f,H.targetId)).next(()=>u.Us.Ts(q,he)).next(()=>he)))}),ld.apply(this,arguments)}function Sy(i,e){return Xa.apply(this,arguments)}function Xa(){return Xa=(0,oe.Z)(function*(i,e,t=Lr()){const o=yield ad(i,Ro(td(e.bundledQuery))),u=C(i);return u.persistence.runTransaction("Save named query","readwrite",f=>{const y=Vi(e.readTime);if(o.snapshotVersion.compareTo(y)>=0)return u.Kn.saveNamedQuery(f,e);const O=o.withResumeToken(oi.EMPTY_BYTE_STRING,y);return u.Ms=u.Ms.insert(O.targetId,O),u.Un.updateTargetData(f,O).next(()=>u.Un.removeMatchingKeysForTargetId(f,o.targetId)).next(()=>u.Un.addMatchingKeys(f,t,o.targetId)).next(()=>u.Kn.saveNamedQuery(f,e))})}),Xa.apply(this,arguments)}class Og{constructor(e){this.O=e,this.Ws=new Map,this.zs=new Map}getBundleMetadata(e,t){return ct.resolve(this.Ws.get(t))}saveBundleMetadata(e,t){var o;return this.Ws.set(t.id,{id:(o=t).id,version:o.version,createTime:Vi(o.createTime)}),ct.resolve()}getNamedQuery(e,t){return ct.resolve(this.zs.get(t))}saveNamedQuery(e,t){return this.zs.set(t.name,{name:(o=t).name,query:td(o.bundledQuery),readTime:Vi(o.readTime)}),ct.resolve();var o}}class xy{constructor(){this.overlays=new as(Jt.comparator),this.Hs=new Map}getOverlay(e,t){return ct.resolve(this.overlays.get(t))}saveOverlays(e,t,o){return o.forEach(u=>{this.Yt(e,t,u)}),ct.resolve()}removeOverlaysForBatchId(e,t,o){const u=this.Hs.get(o);return void 0!==u&&(u.forEach(f=>this.overlays=this.overlays.remove(f)),this.Hs.delete(o)),ct.resolve()}getOverlaysForCollection(e,t,o){const u=new Map,f=t.length+1,y=new Jt(t.child("")),O=this.overlays.getIteratorFrom(y);for(;O.hasNext();){const H=O.getNext().value,q=H.getKey();if(!t.isPrefixOf(q.path))break;q.path.length===f&&H.largestBatchId>o&&u.set(H.getKey(),H)}return ct.resolve(u)}getOverlaysForCollectionGroup(e,t,o,u){let f=new as((q,he)=>q-he);const y=this.overlays.getIterator();for(;y.hasNext();){const q=y.getNext().value;if(q.getKey().getCollectionGroup()===t&&q.largestBatchId>o){let he=f.get(q.largestBatchId);null===he&&(he=new Map,f=f.insert(q.largestBatchId,he)),he.set(q.getKey(),q)}}const O=new Map,H=f.getIterator();for(;H.hasNext()&&(H.getNext().value.forEach((q,he)=>O.set(he,q)),!(O.size>=u)););return ct.resolve(O)}Yt(e,t,o){if(null===o)return;const u=this.overlays.get(o.key);null!==u&&this.Hs.get(u.largestBatchId).delete(o.key),this.overlays=this.overlays.insert(o.key,new Lf(t,o));let f=this.Hs.get(t);void 0===f&&(f=new Set,this.Hs.set(t,f)),f.add(o.key)}}class dd{constructor(){this.Js=new di(js.Ys),this.Xs=new di(js.Zs)}isEmpty(){return this.Js.isEmpty()}addReference(e,t){const o=new js(e,t);this.Js=this.Js.add(o),this.Xs=this.Xs.add(o)}ti(e,t){e.forEach(o=>this.addReference(o,t))}removeReference(e,t){this.ei(new js(e,t))}ni(e,t){e.forEach(o=>this.removeReference(o,t))}si(e){const t=new Jt(new kr([])),o=new js(t,e),u=new js(t,e+1),f=[];return this.Xs.forEachInRange([o,u],y=>{this.ei(y),f.push(y.key)}),f}ii(){this.Js.forEach(e=>this.ei(e))}ei(e){this.Js=this.Js.delete(e),this.Xs=this.Xs.delete(e)}ri(e){const t=new Jt(new kr([])),o=new js(t,e),u=new js(t,e+1);let f=Lr();return this.Xs.forEachInRange([o,u],y=>{f=f.add(y.key)}),f}containsKey(e){const t=new js(e,0),o=this.Js.firstAfterOrEqual(t);return null!==o&&e.isEqual(o.key)}}class js{constructor(e,t){this.key=e,this.oi=t}static Ys(e,t){return Jt.comparator(e.key,t.key)||Fn(e.oi,t.oi)}static Zs(e,t){return Fn(e.oi,t.oi)||Jt.comparator(e.key,t.key)}}class Rg{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.gs=[],this.ci=1,this.ui=new di(js.Ys)}checkEmpty(e){return ct.resolve(0===this.gs.length)}addMutationBatch(e,t,o,u){const f=this.ci;this.ci++;const y=new ed(f,t,o,u);this.gs.push(y);for(const O of u)this.ui=this.ui.add(new js(O.key,f)),this.indexManager.addToCollectionParentIndex(e,O.key.path.popLast());return ct.resolve(y)}lookupMutationBatch(e,t){return ct.resolve(this.ai(t))}getNextMutationBatchAfterBatchId(e,t){const u=this.hi(t+1),f=u<0?0:u;return ct.resolve(this.gs.length>f?this.gs[f]:null)}getHighestUnacknowledgedBatchId(){return ct.resolve(0===this.gs.length?-1:this.ci-1)}getAllMutationBatches(e){return ct.resolve(this.gs.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const o=new js(t,0),u=new js(t,Number.POSITIVE_INFINITY),f=[];return this.ui.forEachInRange([o,u],y=>{const O=this.ai(y.oi);f.push(O)}),ct.resolve(f)}getAllMutationBatchesAffectingDocumentKeys(e,t){let o=new di(Fn);return t.forEach(u=>{const f=new js(u,0),y=new js(u,Number.POSITIVE_INFINITY);this.ui.forEachInRange([f,y],O=>{o=o.add(O.oi)})}),ct.resolve(this.li(o))}getAllMutationBatchesAffectingQuery(e,t){const o=t.path,u=o.length+1;let f=o;Jt.isDocumentKey(f)||(f=f.child(""));const y=new js(new Jt(f),0);let O=new di(Fn);return this.ui.forEachWhile(H=>{const q=H.key.path;return!!o.isPrefixOf(q)&&(q.length===u&&(O=O.add(H.oi)),!0)},y),ct.resolve(this.li(O))}li(e){const t=[];return e.forEach(o=>{const u=this.ai(o);null!==u&&t.push(u)}),t}removeMutationBatch(e,t){v(0===this.fi(t.batchId,"removed")),this.gs.shift();let o=this.ui;return ct.forEach(t.mutations,u=>{const f=new js(u.key,t.batchId);return o=o.delete(f),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.ui=o})}Qe(e){}containsKey(e,t){const o=new js(t,0),u=this.ui.firstAfterOrEqual(o);return ct.resolve(t.isEqual(u&&u.key))}performConsistencyCheck(e){return ct.resolve()}fi(e,t){return this.hi(e)}hi(e){return 0===this.gs.length?0:e-this.gs[0].batchId}ai(e){const t=this.hi(e);return t<0||t>=this.gs.length?null:this.gs[t]}}class My{constructor(e){this.di=e,this.docs=new as(Jt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const o=t.key,u=this.docs.get(o),f=u?u.size:0,y=this.di(t);return this.docs=this.docs.insert(o,{document:t.mutableCopy(),size:y}),this.size+=y-f,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const o=this.docs.get(t);return ct.resolve(o?o.document.mutableCopy():x.newInvalidDocument(t))}getEntries(e,t){let o=No();return t.forEach(u=>{const f=this.docs.get(u);o=o.insert(u,f?f.document.mutableCopy():x.newInvalidDocument(u))}),ct.resolve(o)}getAll(e,t,o){let u=No();const f=new Jt(t.child("")),y=this.docs.getIteratorFrom(f);for(;y.hasNext();){const{key:O,value:{document:H}}=y.getNext();if(!t.isPrefixOf(O.path))break;O.path.length>t.length+1||H.readTime.compareTo(o)<=0||(u=u.insert(H.key,H.mutableCopy()))}return ct.resolve(u)}_i(e,t){return ct.forEach(this.docs,o=>t(o))}newChangeBuffer(e){return new Oy(this)}getSize(e){return ct.resolve(this.size)}}class Oy extends by{constructor(e){super(),this.Tn=e}applyChanges(e){const t=[];return this.changes.forEach((o,u)=>{u.isValidDocument()?t.push(this.Tn.addEntry(e,u)):this.Tn.removeEntry(o)}),ct.waitFor(t)}getFromCache(e,t){return this.Tn.getEntry(e,t)}getAllFromCache(e,t){return this.Tn.getEntries(e,t)}}class hd{constructor(e){this.persistence=e,this.wi=new Mc(t=>Kt(t),ar),this.lastRemoteSnapshotVersion=An.min(),this.highestTargetId=0,this.mi=0,this.gi=new dd,this.targetCount=0,this.yi=zu.He()}forEachTarget(e,t){return this.wi.forEach((o,u)=>t(u)),ct.resolve()}getLastRemoteSnapshotVersion(e){return ct.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ct.resolve(this.mi)}allocateTargetId(e){return this.highestTargetId=this.yi.next(),ct.resolve(this.highestTargetId)}setTargetsMetadata(e,t,o){return o&&(this.lastRemoteSnapshotVersion=o),t>this.mi&&(this.mi=t),ct.resolve()}Ze(e){this.wi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.yi=new zu(t),this.highestTargetId=t),e.sequenceNumber>this.mi&&(this.mi=e.sequenceNumber)}addTargetData(e,t){return this.Ze(t),this.targetCount+=1,ct.resolve()}updateTargetData(e,t){return this.Ze(t),ct.resolve()}removeTargetData(e,t){return this.wi.delete(t.target),this.gi.si(t.targetId),this.targetCount-=1,ct.resolve()}removeTargets(e,t,o){let u=0;const f=[];return this.wi.forEach((y,O)=>{O.sequenceNumber<=t&&null===o.get(O.targetId)&&(this.wi.delete(y),f.push(this.removeMatchingKeysForTargetId(e,O.targetId)),u++)}),ct.waitFor(f).next(()=>u)}getTargetCount(e){return ct.resolve(this.targetCount)}getTargetData(e,t){const o=this.wi.get(t)||null;return ct.resolve(o)}addMatchingKeys(e,t,o){return this.gi.ti(t,o),ct.resolve()}removeMatchingKeys(e,t,o){this.gi.ni(t,o);const u=this.persistence.referenceDelegate,f=[];return u&&t.forEach(y=>{f.push(u.markPotentiallyOrphaned(e,y))}),ct.waitFor(f)}removeMatchingKeysForTargetId(e,t){return this.gi.si(t),ct.resolve()}getMatchingKeysForTargetId(e,t){const o=this.gi.ri(t);return ct.resolve(o)}containsKey(e,t){return ct.resolve(this.gi.containsKey(t))}}class gl{constructor(e,t){this.pi={},this.overlays={},this.Nn=new bi(0),this.xn=!1,this.xn=!0,this.referenceDelegate=e(this),this.Un=new hd(this),this.indexManager=new wy,this.qn=new My(o=>this.referenceDelegate.Ii(o)),this.O=new Vf(t),this.Kn=new Og(this.O)}start(){return Promise.resolve()}shutdown(){return this.xn=!1,Promise.resolve()}get started(){return this.xn}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new xy,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let o=this.pi[e.toKey()];return o||(o=new Rg(t,this.referenceDelegate),this.pi[e.toKey()]=o),o}getTargetCache(){return this.Un}getRemoteDocumentCache(){return this.qn}getBundleCache(){return this.Kn}runTransaction(e,t,o){Ct("MemoryPersistence","Starting transaction:",e);const u=new Jf(this.Nn.next());return this.referenceDelegate.Ei(),o(u).next(f=>this.referenceDelegate.Ti(u).next(()=>f)).toPromise().then(f=>(u.raiseOnCommittedEvent(),f))}Ai(e,t){return ct.or(Object.values(this.pi).map(o=>()=>o.containsKey(e,t)))}}class Jf extends Dc{constructor(e){super(),this.currentSequenceNumber=e}}class qu{constructor(e){this.persistence=e,this.Ri=new dd,this.Pi=null}static bi(e){return new qu(e)}get vi(){if(this.Pi)return this.Pi;throw b()}addReference(e,t,o){return this.Ri.addReference(o,t),this.vi.delete(o.toString()),ct.resolve()}removeReference(e,t,o){return this.Ri.removeReference(o,t),this.vi.add(o.toString()),ct.resolve()}markPotentiallyOrphaned(e,t){return this.vi.add(t.toString()),ct.resolve()}removeTarget(e,t){this.Ri.si(t.targetId).forEach(u=>this.vi.add(u.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,t.targetId).next(u=>{u.forEach(f=>this.vi.add(f.toString()))}).next(()=>o.removeTargetData(e,t))}Ei(){this.Pi=new Set}Ti(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ct.forEach(this.vi,o=>{const u=Jt.fromPath(o);return this.Vi(e,u).next(f=>{f||t.removeEntry(u,An.min())})}).next(()=>(this.Pi=null,t.apply(e)))}updateLimboDocument(e,t){return this.Vi(e,t).next(o=>{o?this.vi.delete(t.toString()):this.vi.add(t.toString())})}Ii(e){return 0}Vi(e,t){return ct.or([()=>ct.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}function ml(i,e){return`firestore_clients_${i}_${e}`}function Oc(i,e,t){let o=`firestore_mutations_${i}_${t}`;return e.isAuthenticated()&&(o+=`_${e.uid}`),o}function Xf(i,e){return`firestore_targets_${i}_${e}`}class fd{constructor(e,t,o,u){this.user=e,this.batchId=t,this.state=o,this.error=u}static Si(e,t,o){const u=JSON.parse(o);let f,y="object"==typeof u&&-1!==["pending","acknowledged","rejected"].indexOf(u.state)&&(void 0===u.error||"object"==typeof u.error);return y&&u.error&&(y="string"==typeof u.error.message&&"string"==typeof u.error.code,y&&(f=new B(u.error.code,u.error.message))),y?new fd(e,t,u.state,f):(Vr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${o}`),null)}Di(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class yl{constructor(e,t,o){this.targetId=e,this.state=t,this.error=o}static Si(e,t){const o=JSON.parse(t);let u,f="object"==typeof o&&-1!==["not-current","current","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return f&&o.error&&(f="string"==typeof o.error.message&&"string"==typeof o.error.code,f&&(u=new B(o.error.code,o.error.message))),f?new yl(e,o.state,u):(Vr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Di(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class _l{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Si(e,t){const o=JSON.parse(t);let u="object"==typeof o&&o.activeTargetIds instanceof Array,f=fu();for(let y=0;u&&y<o.activeTargetIds.length;++y)u=yo(o.activeTargetIds[y]),f=f.add(o.activeTargetIds[y]);return u?new _l(e,f):(Vr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class pd{constructor(e,t){this.clientId=e,this.onlineState=t}static Si(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new pd(t.clientId,t.onlineState):(Vr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Eh{constructor(){this.activeTargetIds=fu()}Ci(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ni(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Di(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class vl{constructor(e,t,o,u,f){this.window=e,this.Sn=t,this.persistenceKey=o,this.xi=u,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ki=this.Oi.bind(this),this.Mi=new as(Fn),this.started=!1,this.$i=[];const y=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=f,this.Fi=ml(this.persistenceKey,this.xi),this.Bi=`firestore_sequence_number_${this.persistenceKey}`,this.Mi=this.Mi.insert(this.xi,new Eh),this.Li=new RegExp(`^firestore_clients_${y}_([^_]*)$`),this.Ui=new RegExp(`^firestore_mutations_${y}_(\\d+)(?:_(.*))?$`),this.qi=new RegExp(`^firestore_targets_${y}_(\\d+)$`),this.Ki=`firestore_online_state_${this.persistenceKey}`,this.Gi=function(O){return`firestore_bundle_loaded_${O}`}(this.persistenceKey),this.window.addEventListener("storage",this.ki)}static Vt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,oe.Z)(function*(){const t=yield e.syncEngine.ds();for(const u of t){if(u===e.xi)continue;const f=e.getItem(ml(e.persistenceKey,u));if(f){const y=_l.Si(u,f);y&&(e.Mi=e.Mi.insert(y.clientId,y))}}e.ji();const o=e.storage.getItem(e.Ki);if(o){const u=e.Qi(o);u&&e.Wi(u)}for(const u of e.$i)e.Oi(u);e.$i=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Bi,JSON.stringify(e))}getAllActiveQueryTargets(){return this.zi(this.Mi)}isActiveQueryTarget(e){let t=!1;return this.Mi.forEach((o,u)=>{u.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Hi(e,"pending")}updateMutationState(e,t,o){this.Hi(e,t,o),this.Ji(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const o=this.storage.getItem(Xf(this.persistenceKey,e));if(o){const u=yl.Si(e,o);u&&(t=u.state)}}return this.Yi.Ci(e),this.ji(),t}removeLocalQueryTarget(e){this.Yi.Ni(e),this.ji()}isLocalQueryTarget(e){return this.Yi.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Xf(this.persistenceKey,e))}updateQueryState(e,t,o){this.Xi(e,t,o)}handleUserChange(e,t,o){t.forEach(u=>{this.Ji(u)}),this.currentUser=e,o.forEach(u=>{this.addPendingMutation(u)})}setOnlineState(e){this.Zi(e)}notifyBundleLoaded(){this.tr()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ki),this.removeItem(this.Fi),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Ct("SharedClientState","READ",e,t),t}setItem(e,t){Ct("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Ct("SharedClientState","REMOVE",e),this.storage.removeItem(e)}Oi(e){var t=this;const o=e;if(o.storageArea===this.storage){if(Ct("SharedClientState","EVENT",o.key,o.newValue),o.key===this.Fi)return void Vr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Sn.enqueueRetryable((0,oe.Z)(function*(){if(t.started){if(null!==o.key)if(t.Li.test(o.key)){if(null==o.newValue){const u=t.er(o.key);return t.nr(u,null)}{const u=t.sr(o.key,o.newValue);if(u)return t.nr(u.clientId,u)}}else if(t.Ui.test(o.key)){if(null!==o.newValue){const u=t.ir(o.key,o.newValue);if(u)return t.rr(u)}}else if(t.qi.test(o.key)){if(null!==o.newValue){const u=t.cr(o.key,o.newValue);if(u)return t.ur(u)}}else if(o.key===t.Ki){if(null!==o.newValue){const u=t.Qi(o.newValue);if(u)return t.Wi(u)}}else if(o.key===t.Bi){const u=function(f){let y=bi.A;if(null!=f)try{const O=JSON.parse(f);v("number"==typeof O),y=O}catch(O){Vr("SharedClientState","Failed to read sequence number from WebStorage",O)}return y}(o.newValue);u!==bi.A&&t.sequenceNumberHandler(u)}else if(o.key===t.Gi)return t.syncEngine.ar()}else t.$i.push(o)}))}}get Yi(){return this.Mi.get(this.xi)}ji(){this.setItem(this.Fi,this.Yi.Di())}Hi(e,t,o){const u=new fd(this.currentUser,e,t,o),f=Oc(this.persistenceKey,this.currentUser,e);this.setItem(f,u.Di())}Ji(e){const t=Oc(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Zi(e){this.storage.setItem(this.Ki,JSON.stringify({clientId:this.xi,onlineState:e}))}Xi(e,t,o){const u=Xf(this.persistenceKey,e),f=new yl(e,t,o);this.setItem(u,f.Di())}tr(){this.setItem(this.Gi,"value-not-used")}er(e){const t=this.Li.exec(e);return t?t[1]:null}sr(e,t){const o=this.er(e);return _l.Si(o,t)}ir(e,t){const o=this.Ui.exec(e),u=Number(o[1]);return fd.Si(new Li(void 0!==o[2]?o[2]:null),u,t)}cr(e,t){const o=this.qi.exec(e),u=Number(o[1]);return yl.Si(u,t)}Qi(e){return pd.Si(e)}rr(e){var t=this;return(0,oe.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.hr(e.batchId,e.state,e.error);Ct("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}ur(e){return this.syncEngine.lr(e.targetId,e.state,e.error)}nr(e,t){const o=t?this.Mi.insert(e,t):this.Mi.remove(e),u=this.zi(this.Mi),f=this.zi(o),y=[],O=[];return f.forEach(H=>{u.has(H)||y.push(H)}),u.forEach(H=>{f.has(H)||O.push(H)}),this.syncEngine.dr(y,O).then(()=>{this.Mi=o})}Wi(e){this.Mi.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}zi(e){let t=fu();return e.forEach((o,u)=>{t=t.unionWith(u.activeTargetIds)}),t}}class Pg{constructor(){this._r=new Eh,this.wr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,o){}addLocalQueryTarget(e){return this._r.Ci(e),this.wr[e]||"not-current"}updateQueryState(e,t,o){this.wr[e]=t}removeLocalQueryTarget(e){this._r.Ni(e)}isLocalQueryTarget(e){return this._r.activeTargetIds.has(e)}clearQueryState(e){delete this.wr[e]}getAllActiveQueryTargets(){return this._r.activeTargetIds}isActiveQueryTarget(e){return this._r.activeTargetIds.has(e)}start(){return this._r=new Eh,Promise.resolve()}handleUserChange(e,t,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}class Ng{mr(e){}shutdown(){}}class Ry{constructor(){this.gr=()=>this.yr(),this.pr=()=>this.Ir(),this.Er=[],this.Tr()}mr(e){this.Er.push(e)}shutdown(){window.removeEventListener("online",this.gr),window.removeEventListener("offline",this.pr)}Tr(){window.addEventListener("online",this.gr),window.addEventListener("offline",this.pr)}yr(){Ct("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Er)e(0)}Ir(){Ct("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Er)e(1)}static Vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const kg={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class Fg{constructor(e){this.Ar=e.Ar,this.Rr=e.Rr}Pr(e){this.br=e}vr(e){this.Vr=e}onMessage(e){this.Sr=e}close(){this.Rr()}send(e){this.Ar(e)}Dr(){this.br()}Cr(e){this.Vr(e)}Nr(e){this.Sr(e)}}class Py extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.kr=(e.ssl?"https":"http")+"://"+e.host,this.Or="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Mr(e,t,o,u,f){const y=this.$r(e,t);Ct("RestConnection","Sending: ",y,o);const O={};return this.Fr(O,u,f),this.Br(e,y,O,o).then(H=>(Ct("RestConnection","Received: ",H),H),H=>{throw ks("RestConnection",`${e} failed with error: `,H,"url: ",y,"request:",o),H})}Lr(e,t,o,u,f){return this.Mr(e,t,o,u,f)}Fr(e,t,o){e["X-Goog-Api-Client"]="gl-js/ fire/"+zo,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((u,f)=>e[f]=u),o&&o.headers.forEach((u,f)=>e[f]=u)}$r(e,t){return`${this.kr}/v1/${t}:${kg[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}Br(e,t,o,u){return new Promise((f,y)=>{const O=new po;O.listenOnce(en.COMPLETE,()=>{try{switch(O.getLastErrorCode()){case mt.NO_ERROR:const q=O.getResponseJson();Ct("Connection","XHR received:",JSON.stringify(q)),f(q);break;case mt.TIMEOUT:Ct("Connection",'RPC "'+e+'" timed out'),y(new B(S.DEADLINE_EXCEEDED,"Request time out"));break;case mt.HTTP_ERROR:const he=O.getStatus();if(Ct("Connection",'RPC "'+e+'" failed with status:',he,"response text:",O.getResponseText()),he>0){const Ne=O.getResponseJson().error;if(Ne&&Ne.status&&Ne.message){const it=function(_t){const At=_t.toLowerCase().replace(/_/g,"-");return Object.values(S).indexOf(At)>=0?At:S.UNKNOWN}(Ne.status);y(new B(it,Ne.message))}else y(new B(S.UNKNOWN,"Server responded with status "+O.getStatus()))}else y(new B(S.UNAVAILABLE,"Connection failed."));break;default:b()}}finally{Ct("Connection",'RPC "'+e+'" completed.')}});const H=JSON.stringify(u);O.send(t,"POST",H,o,15)})}Ur(e,t,o){const u=[this.kr,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=$(),y=me(),O={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(O.xmlHttpFactory=new Ti({})),this.Fr(O.initMessageHeaders,t,o),(0,Ve.uI)()||(0,Ve.b$)()||(0,Ve.d)()||(0,Ve.w1)()||(0,Ve.Mn)()||(0,Ve.ru)()||(O.httpHeadersOverwriteParam="$httpHeaders");const H=u.join("");Ct("Connection","Creating WebChannel: "+H,O);const q=f.createWebChannel(H,O);let he=!1,Ne=!1;const it=new Fg({Ar:At=>{Ne?Ct("Connection","Not sending because WebChannel is closed:",At):(he||(Ct("Connection","Opening WebChannel transport."),q.open(),he=!0),Ct("Connection","WebChannel sending:",At),q.send(At))},Rr:()=>q.close()}),_t=(At,cn,jn)=>{At.listen(cn,cs=>{try{jn(cs)}catch(ao){setTimeout(()=>{throw ao},0)}})};return _t(q,Fi.EventType.OPEN,()=>{Ne||Ct("Connection","WebChannel transport opened.")}),_t(q,Fi.EventType.CLOSE,()=>{Ne||(Ne=!0,Ct("Connection","WebChannel transport closed"),it.Cr())}),_t(q,Fi.EventType.ERROR,At=>{Ne||(Ne=!0,ks("Connection","WebChannel transport errored:",At),it.Cr(new B(S.UNAVAILABLE,"The operation could not be completed")))}),_t(q,Fi.EventType.MESSAGE,At=>{var cn;if(!Ne){const jn=At.data[0];v(!!jn);const cs=jn,ao=cs.error||(null===(cn=cs[0])||void 0===cn?void 0:cn.error);if(ao){Ct("Connection","WebChannel received error:",ao);const Au=ao.status;let Ma=function(mf){const yf=Ii[mf];if(void 0!==yf)return zl(yf)}(Au),Oa=ao.message;void 0===Ma&&(Ma=S.INTERNAL,Oa="Unknown error status: "+Au+" with message "+ao.message),Ne=!0,it.Cr(new B(Ma,Oa)),q.close()}else Ct("Connection","WebChannel received:",jn),it.Nr(jn)}}),_t(y,ei.STAT_EVENT,At=>{At.stat===Qn.PROXY?Ct("Connection","Detected buffering proxy"):At.stat===Qn.NOPROXY&&Ct("Connection","Detected no buffering proxy")}),setTimeout(()=>{it.Dr()},0),it}}function ep(){return"undefined"!=typeof window?window:null}function bh(){return"undefined"!=typeof document?document:null}function gd(i){return new Zd(i,!0)}class bo{constructor(e,t,o=1e3,u=1.5,f=6e4){this.Sn=e,this.timerId=t,this.qr=o,this.Kr=u,this.Gr=f,this.jr=0,this.Qr=null,this.Wr=Date.now(),this.reset()}reset(){this.jr=0}zr(){this.jr=this.Gr}Hr(e){this.cancel();const t=Math.floor(this.jr+this.Jr()),o=Math.max(0,Date.now()-this.Wr),u=Math.max(0,t-o);u>0&&Ct("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.jr} ms, delay with jitter: ${t} ms, last attempt: ${o} ms ago)`),this.Qr=this.Sn.enqueueAfterDelay(this.timerId,u,()=>(this.Wr=Date.now(),e())),this.jr*=this.Kr,this.jr<this.qr&&(this.jr=this.qr),this.jr>this.Gr&&(this.jr=this.Gr)}Yr(){null!==this.Qr&&(this.Qr.skipDelay(),this.Qr=null)}cancel(){null!==this.Qr&&(this.Qr.cancel(),this.Qr=null)}Jr(){return(Math.random()-.5)*this.jr}}class Lg{constructor(e,t,o,u,f,y,O,H){this.Sn=e,this.Xr=o,this.Zr=u,this.eo=f,this.authCredentialsProvider=y,this.appCheckCredentialsProvider=O,this.listener=H,this.state=0,this.no=0,this.so=null,this.io=null,this.stream=null,this.ro=new bo(e,t)}oo(){return 1===this.state||5===this.state||this.co()}co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.uo()}stop(){var e=this;return(0,oe.Z)(function*(){e.oo()&&(yield e.close(0))})()}ao(){this.state=0,this.ro.reset()}ho(){this.co()&&null===this.so&&(this.so=this.Sn.enqueueAfterDelay(this.Xr,6e4,()=>this.lo()))}fo(e){this._o(),this.stream.send(e)}lo(){var e=this;return(0,oe.Z)(function*(){if(e.co())return e.close(0)})()}_o(){this.so&&(this.so.cancel(),this.so=null)}wo(){this.io&&(this.io.cancel(),this.io=null)}close(e,t){var o=this;return(0,oe.Z)(function*(){o._o(),o.wo(),o.ro.cancel(),o.no++,4!==e?o.ro.reset():t&&t.code===S.RESOURCE_EXHAUSTED?(Vr(t.toString()),Vr("Using maximum backoff delay to prevent overloading the backend."),o.ro.zr()):t&&t.code===S.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.mo(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.vr(t)})()}mo(){}auth(){this.state=1;const e=this.yo(this.no),t=this.no;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,u])=>{this.no===t&&this.po(o,u)},o=>{e(()=>{const u=new B(S.UNKNOWN,"Fetching auth token failed: "+o.message);return this.Io(u)})})}po(e,t){const o=this.yo(this.no);this.stream=this.Eo(e,t),this.stream.Pr(()=>{o(()=>(this.state=2,this.io=this.Sn.enqueueAfterDelay(this.Zr,1e4,()=>(this.co()&&(this.state=3),Promise.resolve())),this.listener.Pr()))}),this.stream.vr(u=>{o(()=>this.Io(u))}),this.stream.onMessage(u=>{o(()=>this.onMessage(u))})}uo(){var e=this;this.state=5,this.ro.Hr((0,oe.Z)(function*(){e.state=0,e.start()}))}Io(e){return Ct("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}yo(e){return t=>{this.Sn.enqueueAndForget(()=>this.no===e?t():(Ct("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Ny extends Lg{constructor(e,t,o,u,f,y){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,o,u,y),this.O=f}Eo(e,t){return this.eo.Ur("Listen",e,t)}onMessage(e){this.ro.reset();const t=function ul(i,e){let t;if("targetChange"in e){const o="NO_CHANGE"===(H=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===H?1:"REMOVE"===H?2:"CURRENT"===H?3:"RESET"===H?4:b(),u=e.targetChange.targetIds||[],f=function(H,q){return H.N?(v(void 0===q||"string"==typeof q),oi.fromBase64String(q||"")):(v(void 0===q||q instanceof Uint8Array),oi.fromUint8Array(q||new Uint8Array))}(i,e.targetChange.resumeToken),y=e.targetChange.cause,O=y&&function(H){const q=void 0===H.code?S.UNKNOWN:zl(H.code);return new B(q,H.message||"")}(y);t=new Zl(o,u,f,O||null)}else if("documentChange"in e){const o=e.documentChange,u=ko(i,o.document.name),f=Vi(o.document.updateTime),y=new ss({mapValue:{fields:o.document.fields}}),O=x.newFoundDocument(u,f,y);t=new sl(o.targetIds||[],o.removedTargetIds||[],O.key,O)}else if("documentDelete"in e){const o=e.documentDelete,u=ko(i,o.document),f=o.readTime?Vi(o.readTime):An.min(),y=x.newNoDocument(u,f);t=new sl([],o.removedTargetIds||[],y.key,y)}else if("documentRemove"in e){const o=e.documentRemove,u=ko(i,o.document);t=new sl([],o.removedTargetIds||[],u,null)}else{if(!("filter"in e))return b();{const o=e.filter,f=new Po(o.count||0);t=new Yi(o.targetId,f)}}var H;return t}(this.O,e),o=function(u){if(!("targetChange"in u))return An.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?An.min():f.readTime?Vi(f.readTime):An.min()}(e);return this.listener.To(t,o)}Ao(e){const t={};t.database=gu(this.O),t.addTarget=function(u,f){let y;const O=f.target;return y=Fr(O)?{documents:Qd(u,O)}:{query:Jo(u,O)},y.targetId=f.targetId,f.resumeToken.approximateByteSize()>0?y.resumeToken=Sf(u,f.resumeToken):f.snapshotVersion.compareTo(An.min())>0&&(y.readTime=Ic(u,f.snapshotVersion.toTimestamp())),y}(this.O,e);const o=function Mf(i,e){const t=function(o,u){switch(u){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return b()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);o&&(t.labels=o),this.fo(t)}Ro(e){const t={};t.database=gu(this.O),t.removeTarget=e,this.fo(t)}}class Dv extends Lg{constructor(e,t,o,u,f,y){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,o,u,y),this.O=f,this.Po=!1}get bo(){return this.Po}start(){this.Po=!1,this.lastStreamToken=void 0,super.start()}mo(){this.Po&&this.vo([])}Eo(e,t){return this.eo.Ur("Write",e,t)}onMessage(e){if(v(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Po){this.ro.reset();const t=function Yd(i,e){return i&&i.length>0?(v(void 0!==e),i.map(t=>function(o,u){let f=Vi(o.updateTime?o.updateTime:u);return f.isEqual(An.min())&&(f=Vi(u)),new _c(f,o.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),o=Vi(e.commitTime);return this.listener.Vo(o,t)}return v(!e.writeResults||0===e.writeResults.length),this.Po=!0,this.listener.So()}Do(){const e={};e.database=gu(this.O),this.fo(e)}vo(e){const t={streamToken:this.lastStreamToken,writes:e.map(o=>mu(this.O,o))};this.fo(t)}}class Cv extends class{}{constructor(e,t,o,u){super(),this.authCredentials=e,this.appCheckCredentials=t,this.eo=o,this.O=u,this.Co=!1}No(){if(this.Co)throw new B(S.FAILED_PRECONDITION,"The client has already been terminated.")}Mr(e,t,o){return this.No(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.eo.Mr(e,t,o,u,f)).catch(u=>{throw"FirebaseError"===u.name?(u.code===S.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new B(S.UNKNOWN,u.toString())})}Lr(e,t,o){return this.No(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.eo.Lr(e,t,o,u,f)).catch(u=>{throw"FirebaseError"===u.name?(u.code===S.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new B(S.UNKNOWN,u.toString())})}terminate(){this.Co=!0}}class Vg{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.xo=0,this.ko=null,this.Oo=!0}Mo(){0===this.xo&&(this.$o("Unknown"),this.ko=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ko=null,this.Fo("Backend didn't respond within 10 seconds."),this.$o("Offline"),Promise.resolve())))}Bo(e){"Online"===this.state?this.$o("Unknown"):(this.xo++,this.xo>=1&&(this.Lo(),this.Fo(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.$o("Offline")))}set(e){this.Lo(),this.xo=0,"Online"===e&&(this.Oo=!1),this.$o(e)}$o(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}Fo(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Oo?(Vr(t),this.Oo=!1):Ct("OnlineStateTracker",t)}Lo(){null!==this.ko&&(this.ko.cancel(),this.ko=null)}}class Tv{constructor(e,t,o,u,f){var y=this;this.localStore=e,this.datastore=t,this.asyncQueue=o,this.remoteSyncer={},this.Uo=[],this.qo=new Map,this.Ko=new Set,this.Go=[],this.jo=f,this.jo.mr(O=>{o.enqueueAndForget((0,oe.Z)(function*(){var H;Zu(y)&&(Ct("RemoteStore","Restarting streams for network reachability change."),yield(H=(0,oe.Z)(function*(q){const he=C(q);he.Ko.add(4),yield Rc(he),he.Qo.set("Unknown"),he.Ko.delete(4),yield md(he)}),function(q){return H.apply(this,arguments)})(y))}))}),this.Qo=new Vg(o,u)}}function md(i){return yd.apply(this,arguments)}function yd(){return yd=(0,oe.Z)(function*(i){if(Zu(i))for(const e of i.Go)yield e(!0)}),yd.apply(this,arguments)}function Rc(i){return tp.apply(this,arguments)}function tp(){return tp=(0,oe.Z)(function*(i){for(const e of i.Go)yield e(!1)}),tp.apply(this,arguments)}function Ih(i,e){const t=C(i);t.qo.has(e.targetId)||(t.qo.set(e.targetId,e),np(t)?Ch(t):Pc(t).co()&&Dh(t,e))}function _d(i,e){const t=C(i),o=Pc(t);t.qo.delete(e),o.co()&&Ug(t,e),0===t.qo.size&&(o.co()?o.ho():Zu(t)&&t.Qo.set("Unknown"))}function Dh(i,e){i.Wo.Z(e.targetId),Pc(i).Ao(e)}function Ug(i,e){i.Wo.Z(e),Pc(i).Ro(e)}function Ch(i){i.Wo=new Yl({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),Tt:e=>i.qo.get(e)||null}),Pc(i).start(),i.Qo.Mo()}function np(i){return Zu(i)&&!Pc(i).oo()&&i.qo.size>0}function Zu(i){return 0===C(i).Ko.size}function rp(i){i.Wo=void 0}function Bg(i){return ip.apply(this,arguments)}function ip(){return ip=(0,oe.Z)(function*(i){i.qo.forEach((e,t)=>{Dh(i,e)})}),ip.apply(this,arguments)}function eu(i,e){return vd.apply(this,arguments)}function vd(){return vd=(0,oe.Z)(function*(i,e){rp(i),np(i)?(i.Qo.Bo(e),Ch(i)):i.Qo.set("Unknown")}),vd.apply(this,arguments)}function ky(i,e,t){return sp.apply(this,arguments)}function sp(){return sp=(0,oe.Z)(function*(i,e,t){if(i.Qo.set("Online"),e instanceof Zl&&2===e.state&&e.cause)try{yield(o=(0,oe.Z)(function*(u,f){const y=f.cause;for(const O of f.targetIds)u.qo.has(O)&&(yield u.remoteSyncer.rejectListen(O,y),u.qo.delete(O),u.Wo.removeTarget(O))}),function(u,f){return o.apply(this,arguments)})(i,e)}catch(o){Ct("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield op(i,o)}else if(e instanceof sl?i.Wo.ct(e):e instanceof Yi?i.Wo._t(e):i.Wo.ht(e),!t.isEqual(An.min()))try{const o=yield Ty(i.localStore);t.compareTo(o)>=0&&(yield function(u,f){const y=u.Wo.yt(f);return y.targetChanges.forEach((O,H)=>{if(O.resumeToken.approximateByteSize()>0){const q=u.qo.get(H);q&&u.qo.set(H,q.withResumeToken(O.resumeToken,f))}}),y.targetMismatches.forEach(O=>{const H=u.qo.get(O);if(!H)return;u.qo.set(O,H.withResumeToken(oi.EMPTY_BYTE_STRING,H.snapshotVersion)),Ug(u,O);const q=new vu(H.target,O,1,H.sequenceNumber);Dh(u,q)}),u.remoteSyncer.applyRemoteEvent(y)}(i,t))}catch(o){Ct("RemoteStore","Failed to raise snapshot:",o),yield op(i,o)}var o}),sp.apply(this,arguments)}function op(i,e,t){return Th.apply(this,arguments)}function Th(){return Th=(0,oe.Z)(function*(i,e,t){if(!_u(e))throw e;i.Ko.add(1),yield Rc(i),i.Qo.set("Offline"),t||(t=()=>Ty(i.localStore)),i.asyncQueue.enqueueRetryable((0,oe.Z)(function*(){Ct("RemoteStore","Retrying IndexedDB access"),yield t(),i.Ko.delete(1),yield md(i)}))}),Th.apply(this,arguments)}function jg(i,e){return e().catch(t=>op(i,t,e))}function wl(i){return ap.apply(this,arguments)}function ap(){return ap=(0,oe.Z)(function*(i){const e=C(i),t=Eu(e);let o=e.Uo.length>0?e.Uo[e.Uo.length-1].batchId:-1;for(;up(e);)try{const u=yield Iv(e.localStore,o);if(null===u){0===e.Uo.length&&t.ho();break}o=u.batchId,Fy(e,u)}catch(u){yield op(e,u)}$g(e)&&wd(e)}),ap.apply(this,arguments)}function up(i){return Zu(i)&&i.Uo.length<10}function Fy(i,e){i.Uo.push(e);const t=Eu(i);t.co()&&t.bo&&t.vo(e.mutations)}function $g(i){return Zu(i)&&!Eu(i).oo()&&i.Uo.length>0}function wd(i){Eu(i).start()}function cp(i){return lp.apply(this,arguments)}function lp(){return lp=(0,oe.Z)(function*(i){Eu(i).Do()}),lp.apply(this,arguments)}function dp(i){return Ed.apply(this,arguments)}function Ed(){return Ed=(0,oe.Z)(function*(i){const e=Eu(i);for(const t of i.Uo)e.vo(t.mutations)}),Ed.apply(this,arguments)}function Hg(i,e,t){return hp.apply(this,arguments)}function hp(){return hp=(0,oe.Z)(function*(i,e,t){const o=i.Uo.shift(),u=Ff.from(o,e,t);yield jg(i,()=>i.remoteSyncer.applySuccessfulWrite(u)),yield wl(i)}),hp.apply(this,arguments)}function Ly(i,e){return bd.apply(this,arguments)}function bd(){return bd=(0,oe.Z)(function*(i,e){var t;e&&Eu(i).bo&&(yield(t=(0,oe.Z)(function*(o,u){if(Ec(f=u.code)&&f!==S.ABORTED){const y=o.Uo.shift();Eu(o).ao(),yield jg(o,()=>o.remoteSyncer.rejectFailedWrite(y.batchId,u)),yield wl(o)}var f}),function(o,u){return t.apply(this,arguments)})(i,e)),$g(i)&&wd(i)}),bd.apply(this,arguments)}function Vy(i,e){return fp.apply(this,arguments)}function fp(){return fp=(0,oe.Z)(function*(i,e){const t=C(i);t.asyncQueue.verifyOperationInProgress(),Ct("RemoteStore","RemoteStore received new credentials");const o=Zu(t);t.Ko.add(3),yield Rc(t),o&&t.Qo.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.Ko.delete(3),yield md(t)}),fp.apply(this,arguments)}function Ah(i,e){return Sh.apply(this,arguments)}function Sh(){return Sh=(0,oe.Z)(function*(i,e){const t=C(i);e?(t.Ko.delete(2),yield md(t)):e||(t.Ko.add(2),yield Rc(t),t.Qo.set("Unknown"))}),Sh.apply(this,arguments)}function Pc(i){return i.zo||(i.zo=function(e,t,o){const u=C(e);return u.No(),new Ny(t,u.eo,u.authCredentials,u.appCheckCredentials,u.O,o)}(i.datastore,i.asyncQueue,{Pr:Bg.bind(null,i),vr:eu.bind(null,i),To:ky.bind(null,i)}),i.Go.push(function(){var e=(0,oe.Z)(function*(t){t?(i.zo.ao(),np(i)?Ch(i):i.Qo.set("Unknown")):(yield i.zo.stop(),rp(i))});return function(t){return e.apply(this,arguments)}}())),i.zo}function Eu(i){return i.Ho||(i.Ho=function(e,t,o){const u=C(e);return u.No(),new Dv(t,u.eo,u.authCredentials,u.appCheckCredentials,u.O,o)}(i.datastore,i.asyncQueue,{Pr:cp.bind(null,i),vr:Ly.bind(null,i),So:dp.bind(null,i),Vo:Hg.bind(null,i)}),i.Go.push(function(){var e=(0,oe.Z)(function*(t){t?(i.Ho.ao(),yield wl(i)):(yield i.Ho.stop(),i.Uo.length>0&&(Ct("RemoteStore",`Stopping write stream with ${i.Uo.length} pending writes`),i.Uo=[]))});return function(t){return e.apply(this,arguments)}}())),i.Ho}class xh{constructor(e,t,o,u,f){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=o,this.op=u,this.removalCallback=f,this.deferred=new ie,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(y=>{})}static createAndSchedule(e,t,o,u,f){const y=Date.now()+o,O=new xh(e,t,y,u,f);return O.start(o),O}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new B(S.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Uo(i,e){if(Vr("AsyncQueue",`${e}: ${i}`),_u(i))return new B(S.UNAVAILABLE,`${e}: ${i}`);throw i}class bu{constructor(e){this.comparator=e?(t,o)=>e(t,o)||Jt.comparator(t.key,o.key):(t,o)=>Jt.comparator(t.key,o.key),this.keyedMap=Kl(),this.sortedSet=new as(this.comparator)}static emptySet(e){return new bu(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,o)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof bu)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;t.hasNext();){const u=t.getNext().key,f=o.getNext().key;if(!u.isEqual(f))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const o=new bu;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=t,o}}class Gg{constructor(){this.Jo=new as(Jt.comparator)}track(e){const t=e.doc.key,o=this.Jo.get(t);o?0!==e.type&&3===o.type?this.Jo=this.Jo.insert(t,e):3===e.type&&1!==o.type?this.Jo=this.Jo.insert(t,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.Jo=this.Jo.insert(t,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.Jo=this.Jo.insert(t,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.Jo=this.Jo.remove(t):1===e.type&&2===o.type?this.Jo=this.Jo.insert(t,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.Jo=this.Jo.insert(t,{type:2,doc:e.doc}):b():this.Jo=this.Jo.insert(t,e)}Yo(){const e=[];return this.Jo.inorderTraversal((t,o)=>{e.push(o)}),e}}class El{constructor(e,t,o,u,f,y,O,H){this.query=e,this.docs=t,this.oldDocs=o,this.docChanges=u,this.mutatedKeys=f,this.fromCache=y,this.syncStateChanged=O,this.excludesMetadataChanges=H}static fromInitialDocuments(e,t,o,u){const f=[];return t.forEach(y=>{f.push({type:0,doc:y})}),new El(e,t,bu.emptySet(t),f,o,u,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ja(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,o=e.docChanges;if(t.length!==o.length)return!1;for(let u=0;u<t.length;u++)if(t[u].type!==o[u].type||!t[u].doc.isEqual(o[u].doc))return!1;return!0}}class Av{constructor(){this.Xo=void 0,this.listeners=[]}}class pp{constructor(){this.queries=new Mc(e=>If(e),ja),this.onlineState="Unknown",this.Zo=new Set}}function Mh(i,e){return Id.apply(this,arguments)}function Id(){return Id=(0,oe.Z)(function*(i,e){const t=C(i),o=e.query;let u=!1,f=t.queries.get(o);if(f||(u=!0,f=new Av),u)try{f.Xo=yield t.onListen(o)}catch(y){const O=Uo(y,`Initialization of query '${jl(e.query)}' failed`);return void e.onError(O)}t.queries.set(o,f),f.listeners.push(e),e.tc(t.onlineState),f.Xo&&e.ec(f.Xo)&&Oh(t)}),Id.apply(this,arguments)}function Nc(i,e){return gp.apply(this,arguments)}function gp(){return gp=(0,oe.Z)(function*(i,e){const t=C(i),o=e.query;let u=!1;const f=t.queries.get(o);if(f){const y=f.listeners.indexOf(e);y>=0&&(f.listeners.splice(y,1),u=0===f.listeners.length)}if(u)return t.queries.delete(o),t.onUnlisten(o)}),gp.apply(this,arguments)}function mp(i,e){const t=C(i);let o=!1;for(const u of e){const y=t.queries.get(u.query);if(y){for(const O of y.listeners)O.ec(u)&&(o=!0);y.Xo=u}}o&&Oh(t)}function Wg(i,e,t){const o=C(i),u=o.queries.get(e);if(u)for(const f of u.listeners)f.onError(t);o.queries.delete(e)}function Oh(i){i.Zo.forEach(e=>{e.next()})}class Rh{constructor(e,t,o){this.query=e,this.nc=t,this.sc=!1,this.ic=null,this.onlineState="Unknown",this.options=o||{}}ec(e){if(!this.options.includeMetadataChanges){const o=[];for(const u of e.docChanges)3!==u.type&&o.push(u);e=new El(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.sc?this.rc(e)&&(this.nc.next(e),t=!0):this.oc(e,this.onlineState)&&(this.cc(e),t=!0),this.ic=e,t}onError(e){this.nc.error(e)}tc(e){this.onlineState=e;let t=!1;return this.ic&&!this.sc&&this.oc(this.ic,e)&&(this.cc(this.ic),t=!0),t}oc(e,t){return!e.fromCache||!(this.options.uc&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}rc(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.ic&&this.ic.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}cc(e){e=El.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.sc=!0,this.nc.next(e)}}class Uy{constructor(e,t){this.payload=e,this.byteLength=t}ac(){return"metadata"in this.payload}}class Ph{constructor(e){this.O=e}Gs(e){return ko(this.O,e)}js(e){return e.metadata.exists?al(this.O,e.document,!1):x.newNoDocument(this.Gs(e.metadata.name),this.Qs(e.metadata.readTime))}Qs(e){return Vi(e)}}class By{constructor(e,t,o){this.hc=e,this.localStore=t,this.O=o,this.queries=[],this.documents=[],this.progress=zg(e)}lc(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}fc(e){const t=new Map,o=new Ph(this.O);for(const u of e)if(u.metadata.queries){const f=o.Gs(u.metadata.name);for(const y of u.metadata.queries){const O=(t.get(y)||Lr()).add(f);t.set(y,O)}}return t}complete(){var e=this;return(0,oe.Z)(function*(){const t=yield function Mg(i,e,t,o){return ld.apply(this,arguments)}(e.localStore,new Ph(e.O),e.documents,e.hc.id),o=e.fc(e.documents);for(const u of e.queries)yield Sy(e.localStore,u,o.get(u.name));return e.progress.taskState="Success",new Iy(Object.assign({},e.progress),t)})()}}function zg(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class yp{constructor(e){this.key=e}}class kc{constructor(e){this.key=e}}class _p{constructor(e,t){this.query=e,this.dc=t,this._c=null,this.current=!1,this.wc=Lr(),this.mutatedKeys=Lr(),this.mc=Bd(e),this.gc=new bu(this.mc)}get yc(){return this.dc}Ic(e,t){const o=t?t.Ec:new Gg,u=t?t.gc:this.gc;let f=t?t.mutatedKeys:this.mutatedKeys,y=u,O=!1;const H=mc(this.query)&&u.size===this.query.limit?u.last():null,q=Zc(this.query)&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((he,Ne)=>{const it=u.get(he),_t=$l(this.query,Ne)?Ne:null,At=!!it&&this.mutatedKeys.has(it.key),cn=!!_t&&(_t.hasLocalMutations||this.mutatedKeys.has(_t.key)&&_t.hasCommittedMutations);let jn=!1;it&&_t?it.data.isEqual(_t.data)?At!==cn&&(o.track({type:3,doc:_t}),jn=!0):this.Tc(it,_t)||(o.track({type:2,doc:_t}),jn=!0,(H&&this.mc(_t,H)>0||q&&this.mc(_t,q)<0)&&(O=!0)):!it&&_t?(o.track({type:0,doc:_t}),jn=!0):it&&!_t&&(o.track({type:1,doc:it}),jn=!0,(H||q)&&(O=!0)),jn&&(_t?(y=y.add(_t),f=cn?f.add(he):f.delete(he)):(y=y.delete(he),f=f.delete(he)))}),mc(this.query)||Zc(this.query))for(;y.size>this.query.limit;){const he=mc(this.query)?y.last():y.first();y=y.delete(he.key),f=f.delete(he.key),o.track({type:1,doc:he})}return{gc:y,Ec:o,ks:O,mutatedKeys:f}}Tc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,o){const u=this.gc;this.gc=e.gc,this.mutatedKeys=e.mutatedKeys;const f=e.Ec.Yo();f.sort((q,he)=>function(Ne,it){const _t=At=>{switch(At){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return b()}};return _t(Ne)-_t(it)}(q.type,he.type)||this.mc(q.doc,he.doc)),this.Ac(o);const y=t?this.Rc():[],O=0===this.wc.size&&this.current?1:0,H=O!==this._c;return this._c=O,0!==f.length||H?{snapshot:new El(this.query,e.gc,u,f,e.mutatedKeys,0===O,H,!1),Pc:y}:{Pc:y}}tc(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({gc:this.gc,Ec:new Gg,mutatedKeys:this.mutatedKeys,ks:!1},!1)):{Pc:[]}}bc(e){return!this.dc.has(e)&&!!this.gc.has(e)&&!this.gc.get(e).hasLocalMutations}Ac(e){e&&(e.addedDocuments.forEach(t=>this.dc=this.dc.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.dc=this.dc.delete(t)),this.current=e.current)}Rc(){if(!this.current)return[];const e=this.wc;this.wc=Lr(),this.gc.forEach(o=>{this.bc(o.key)&&(this.wc=this.wc.add(o.key))});const t=[];return e.forEach(o=>{this.wc.has(o)||t.push(new kc(o))}),this.wc.forEach(o=>{e.has(o)||t.push(new yp(o))}),t}vc(e){this.dc=e.Ks,this.wc=Lr();const t=this.Ic(e.documents);return this.applyChanges(t,!0)}Vc(){return El.fromInitialDocuments(this.query,this.gc,this.mutatedKeys,0===this._c)}}class jy{constructor(e,t,o){this.query=e,this.targetId=t,this.view=o}}class $y{constructor(e){this.key=e,this.Sc=!1}}class bl{constructor(e,t,o,u,f,y){this.localStore=e,this.remoteStore=t,this.eventManager=o,this.sharedClientState=u,this.currentUser=f,this.maxConcurrentLimboResolutions=y,this.Dc={},this.Cc=new Mc(O=>If(O),ja),this.Nc=new Map,this.xc=new Set,this.kc=new as(Jt.comparator),this.Oc=new Map,this.Mc=new dd,this.$c={},this.Fc=new Map,this.Bc=zu.Je(),this.onlineState="Unknown",this.Lc=void 0}get isPrimaryClient(){return!0===this.Lc}}function Hy(i,e){return vp.apply(this,arguments)}function vp(){return vp=(0,oe.Z)(function*(i,e){const t=Fc(i);let o,u;const f=t.Cc.get(e);if(f)o=f.targetId,t.sharedClientState.addLocalQueryTarget(o),u=f.view.Vc();else{const y=yield ad(t.localStore,Ro(e));t.isPrimaryClient&&Ih(t.remoteStore,y);const O=t.sharedClientState.addLocalQueryTarget(y.targetId);o=y.targetId,u=yield wp(t,e,o,"current"===O)}return u}),vp.apply(this,arguments)}function wp(i,e,t,o){return Ep.apply(this,arguments)}function Ep(){return Ep=(0,oe.Z)(function*(i,e,t,o){i.Uc=(he,Ne,it)=>{return(_t=(0,oe.Z)(function*(At,cn,jn,cs){let ao=cn.view.Ic(jn);ao.ks&&(ao=yield Da(At.localStore,cn.query,!1).then(({documents:Oa})=>cn.view.Ic(Oa,ao)));const Au=cs&&cs.targetChanges.get(cn.targetId),Ma=cn.view.applyChanges(ao,At.isPrimaryClient,Au);return Vh(At,cn.targetId,Ma.Pc),Ma.snapshot}),function(At,cn,jn,cs){return _t.apply(this,arguments)})(i,he,Ne,it);var _t};const u=yield Da(i.localStore,e,!0),f=new _p(e,u.Ks),y=f.Ic(u.documents),O=pu.createSynthesizedTargetChangeForCurrentChange(t,o&&"Offline"!==i.onlineState),H=f.applyChanges(y,i.isPrimaryClient,O);Vh(i,t,H.Pc);const q=new jy(e,t,f);return i.Cc.set(e,q),i.Nc.has(t)?i.Nc.get(t).push(e):i.Nc.set(t,[e]),H.snapshot}),Ep.apply(this,arguments)}function Ca(i,e){return Dd.apply(this,arguments)}function Dd(){return Dd=(0,oe.Z)(function*(i,e){const t=C(i),o=t.Cc.get(e),u=t.Nc.get(o.targetId);if(u.length>1)return t.Nc.set(o.targetId,u.filter(f=>!ja(f,e))),void t.Cc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(o.targetId),t.sharedClientState.isActiveQueryTarget(o.targetId)||(yield ud(t.localStore,o.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(o.targetId),_d(t.remoteStore,o.targetId),Yu(t,o.targetId)}).catch(Ku))):(Yu(t,o.targetId),yield ud(t.localStore,o.targetId,!0))}),Dd.apply(this,arguments)}function Nh(){return Nh=(0,oe.Z)(function*(i,e,t){const o=Rp(i);try{const u=yield function(f,y){const O=C(f),H=gi.now(),q=y.reduce((Ne,it)=>Ne.add(it.key),Lr());let he;return O.persistence.runTransaction("Locally write mutations","readwrite",Ne=>O.Us.Es(Ne,q).next(it=>{he=it;const _t=[];for(const At of y){const cn=Df(At,he.get(At.key));null!=cn&&_t.push(new Lu(At.key,cn,Pu(cn.value.mapValue),Zi.exists(!0)))}return O.gs.addMutationBatch(Ne,H,_t,y)})).then(Ne=>(Ne.applyToLocalDocumentSet(he),{batchId:Ne.batchId,changes:he}))}(o.localStore,e);o.sharedClientState.addPendingMutation(u.batchId),function(f,y,O){let H=f.$c[f.currentUser.toKey()];H||(H=new as(Fn)),H=H.insert(y,O),f.$c[f.currentUser.toKey()]=H}(o,u.batchId,t),yield Os(o,u.changes),yield wl(o.remoteStore)}catch(u){const f=Uo(u,"Failed to persist write");t.reject(f)}}),Nh.apply(this,arguments)}function bp(i,e){return kh.apply(this,arguments)}function kh(){return kh=(0,oe.Z)(function*(i,e){const t=C(i);try{const o=yield bv(t.localStore,e);e.targetChanges.forEach((u,f)=>{const y=t.Oc.get(f);y&&(v(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?y.Sc=!0:u.modifiedDocuments.size>0?v(y.Sc):u.removedDocuments.size>0&&(v(y.Sc),y.Sc=!1))}),yield Os(t,o,e)}catch(o){yield Ku(o)}}),kh.apply(this,arguments)}function qg(i,e,t){const o=C(i);if(o.isPrimaryClient&&0===t||!o.isPrimaryClient&&1===t){const u=[];o.Cc.forEach((f,y)=>{const O=y.view.tc(e);O.snapshot&&u.push(O.snapshot)}),function(f,y){const O=C(f);O.onlineState=y;let H=!1;O.queries.forEach((q,he)=>{for(const Ne of he.listeners)Ne.tc(y)&&(H=!0)}),H&&Oh(O)}(o.eventManager,e),u.length&&o.Dc.To(u),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function Gy(i,e,t){return Ip.apply(this,arguments)}function Ip(){return Ip=(0,oe.Z)(function*(i,e,t){const o=C(i);o.sharedClientState.updateQueryState(e,"rejected",t);const u=o.Oc.get(e),f=u&&u.key;if(f){let y=new as(Jt.comparator);y=y.insert(f,x.newNoDocument(f,An.min()));const O=Lr().add(f),H=new za(An.min(),new Map,new di(Fn),y,O);yield bp(o,H),o.kc=o.kc.remove(f),o.Oc.delete(e),Xg(o)}else yield ud(o.localStore,e,!1).then(()=>Yu(o,e,t)).catch(Ku)}),Ip.apply(this,arguments)}function Wy(i,e){return Fh.apply(this,arguments)}function Fh(){return Fh=(0,oe.Z)(function*(i,e){const t=C(i),o=e.batch.batchId;try{const u=yield Ev(t.localStore,e);Yg(t,o,null),Zg(t,o),t.sharedClientState.updateMutationState(o,"acknowledged"),yield Os(t,u)}catch(u){yield Ku(u)}}),Fh.apply(this,arguments)}function Sv(i,e,t){return Lh.apply(this,arguments)}function Lh(){return Lh=(0,oe.Z)(function*(i,e,t){const o=C(i);try{const u=yield function(f,y){const O=C(f);return O.persistence.runTransaction("Reject batch","readwrite-primary",H=>{let q;return O.gs.lookupMutationBatch(H,y).next(he=>(v(null!==he),q=he.keys(),O.gs.removeMutationBatch(H,he))).next(()=>O.gs.performConsistencyCheck(H)).next(()=>O.Us.Es(H,q))})}(o.localStore,e);Yg(o,e,t),Zg(o,e),o.sharedClientState.updateMutationState(e,"rejected",t),yield Os(o,u)}catch(u){yield Ku(u)}}),Lh.apply(this,arguments)}function Dp(){return Dp=(0,oe.Z)(function*(i,e){const t=C(i);Zu(t.remoteStore)||Ct("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const o=yield function(f){const y=C(f);return y.persistence.runTransaction("Get highest unacknowledged batch id","readonly",O=>y.gs.getHighestUnacknowledgedBatchId(O))}(t.localStore);if(-1===o)return void e.resolve();const u=t.Fc.get(o)||[];u.push(e),t.Fc.set(o,u)}catch(o){const u=Uo(o,"Initialization of waitForPendingWrites() operation failed");e.reject(u)}}),Dp.apply(this,arguments)}function Zg(i,e){(i.Fc.get(e)||[]).forEach(t=>{t.resolve()}),i.Fc.delete(e)}function Yg(i,e,t){const o=C(i);let u=o.$c[o.currentUser.toKey()];if(u){const f=u.get(e);f&&(t?f.reject(t):f.resolve(),u=u.remove(e)),o.$c[o.currentUser.toKey()]=u}}function Yu(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const o of i.Nc.get(e))i.Cc.delete(o),t&&i.Dc.qc(o,t);i.Nc.delete(e),i.isPrimaryClient&&i.Mc.si(e).forEach(o=>{i.Mc.containsKey(o)||Qg(i,o)})}function Qg(i,e){i.xc.delete(e.path.canonicalString());const t=i.kc.get(e);null!==t&&(_d(i.remoteStore,t),i.kc=i.kc.remove(e),i.Oc.delete(t),Xg(i))}function Vh(i,e,t){for(const o of t)o instanceof yp?(i.Mc.addReference(o.key,e),Jg(i,o)):o instanceof kc?(Ct("SyncEngine","Document no longer in limbo: "+o.key),i.Mc.removeReference(o.key,e),i.Mc.containsKey(o.key)||Qg(i,o.key)):b()}function Jg(i,e){const t=e.key,o=t.path.canonicalString();i.kc.get(t)||i.xc.has(o)||(Ct("SyncEngine","New document in limbo: "+t),i.xc.add(o),Xg(i))}function Xg(i){for(;i.xc.size>0&&i.kc.size<i.maxConcurrentLimboResolutions;){const e=i.xc.values().next().value;i.xc.delete(e);const t=new Jt(kr.fromString(e)),o=i.Bc.next();i.Oc.set(o,new $y(t)),i.kc=i.kc.insert(t,o),Ih(i.remoteStore,new vu(Ro(Qo(t.path)),o,2,bi.A))}}function Os(i,e,t){return em.apply(this,arguments)}function em(){return em=(0,oe.Z)(function*(i,e,t){const o=C(i),u=[],f=[],y=[];var O;o.Cc.isEmpty()||(o.Cc.forEach((O,H)=>{y.push(o.Uc(H,e,t).then(q=>{if(q){o.isPrimaryClient&&o.sharedClientState.updateQueryState(H.targetId,q.fromCache?"not-current":"current"),u.push(q);const he=_h.Ss(H.targetId,q);f.push(he)}}))}),yield Promise.all(y),o.Dc.To(u),yield(O=(0,oe.Z)(function*(H,q){const he=C(H);try{yield he.persistence.runTransaction("notifyLocalViewChanges","readwrite",Ne=>ct.forEach(q,it=>ct.forEach(it.vs,_t=>he.persistence.referenceDelegate.addReference(Ne,it.targetId,_t)).next(()=>ct.forEach(it.Vs,_t=>he.persistence.referenceDelegate.removeReference(Ne,it.targetId,_t)))))}catch(Ne){if(!_u(Ne))throw Ne;Ct("LocalStore","Failed to update sequence numbers: "+Ne)}for(const Ne of q){const it=Ne.targetId;if(!Ne.fromCache){const _t=he.Ms.get(it),cn=_t.withLastLimboFreeSnapshotVersion(_t.snapshotVersion);he.Ms=he.Ms.insert(it,cn)}}}),function(H,q){return O.apply(this,arguments)})(o.localStore,f))}),em.apply(this,arguments)}function xv(i,e){return Uh.apply(this,arguments)}function Uh(){return Uh=(0,oe.Z)(function*(i,e){const t=C(i);if(!t.currentUser.isEqual(e)){Ct("SyncEngine","User change. New user:",e.toKey());const o=yield Cy(t.localStore,e);t.currentUser=e,(u=t).Fc.forEach(y=>{y.forEach(O=>{O.reject(new B(S.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),u.Fc.clear(),t.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield Os(t,o.qs)}var u}),Uh.apply(this,arguments)}function tm(i,e){const t=C(i),o=t.Oc.get(e);if(o&&o.Sc)return Lr().add(o.key);{let u=Lr();const f=t.Nc.get(e);if(!f)return u;for(const y of f){const O=t.Cc.get(y);u=u.unionWith(O.view.yc)}return u}}function nm(i,e){return Cp.apply(this,arguments)}function Cp(){return Cp=(0,oe.Z)(function*(i,e){const t=C(i),o=yield Da(t.localStore,e.query,!0),u=e.view.vc(o);return t.isPrimaryClient&&Vh(t,e.targetId,u.Pc),u}),Cp.apply(this,arguments)}function Mv(i){return Bh.apply(this,arguments)}function Bh(){return Bh=(0,oe.Z)(function*(i){const e=C(i);return Sg(e.localStore).then(t=>Os(e,t))}),Bh.apply(this,arguments)}function Tp(i,e,t,o){return Ap.apply(this,arguments)}function Ap(){return Ap=(0,oe.Z)(function*(i,e,t,o){const u=C(i),f=yield function(y,O){const H=C(y),q=C(H.gs);return H.persistence.runTransaction("Lookup mutation documents","readonly",he=>q.Ge(he,O).next(Ne=>Ne?H.Us.Es(he,Ne):ct.resolve(null)))}(u.localStore,e);var O;null!==f?("pending"===t?yield wl(u.remoteStore):"acknowledged"===t||"rejected"===t?(Yg(u,e,o||null),Zg(u,e),O=e,C(C(u.localStore).gs).Qe(O)):b(),yield Os(u,f)):Ct("SyncEngine","Cannot apply mutation batch with id: "+e)}),Ap.apply(this,arguments)}function xp(){return xp=(0,oe.Z)(function*(i,e){const t=C(i);if(Fc(t),Rp(t),!0===e&&!0!==t.Lc){const o=t.sharedClientState.getAllActiveQueryTargets(),u=yield rm(t,o.toArray());t.Lc=!0,yield Ah(t.remoteStore,!0);for(const f of u)Ih(t.remoteStore,f)}else if(!1===e&&!1!==t.Lc){const o=[];let u=Promise.resolve();t.Nc.forEach((f,y)=>{t.sharedClientState.isLocalQueryTarget(y)?o.push(y):u=u.then(()=>(Yu(t,y),ud(t.localStore,y,!0))),_d(t.remoteStore,y)}),yield u,yield rm(t,o),function(f){const y=C(f);y.Oc.forEach((O,H)=>{_d(y.remoteStore,H)}),y.Mc.ii(),y.Oc=new Map,y.kc=new as(Jt.comparator)}(t),t.Lc=!1,yield Ah(t.remoteStore,!1)}}),xp.apply(this,arguments)}function rm(i,e,t){return Mp.apply(this,arguments)}function Mp(){return Mp=(0,oe.Z)(function*(i,e,t){const o=C(i),u=[],f=[];for(const y of e){let O;const H=o.Nc.get(y);if(H&&0!==H.length){O=yield ad(o.localStore,Ro(H[0]));for(const q of H){const he=o.Cc.get(q),Ne=yield nm(o,he);Ne.snapshot&&f.push(Ne.snapshot)}}else{const q=yield wh(o.localStore,y);O=yield ad(o.localStore,q),yield wp(o,im(q),y,!1)}u.push(O)}return o.Dc.To(f),u}),Mp.apply(this,arguments)}function im(i){return gc(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function Ky(i){const e=C(i);return C(C(e.localStore).persistence).ds()}function qy(i,e,t,o){return Il.apply(this,arguments)}function Il(){return Il=(0,oe.Z)(function*(i,e,t,o){const u=C(i);if(u.Lc)Ct("SyncEngine","Ignoring unexpected query state notification.");else if(u.Nc.has(e))switch(t){case"current":case"not-current":{const f=yield Sg(u.localStore),y=za.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield Os(u,f,y);break}case"rejected":yield ud(u.localStore,e,!0),Yu(u,e,o);break;default:b()}}),Il.apply(this,arguments)}function Dl(i,e,t){return Op.apply(this,arguments)}function Op(){return Op=(0,oe.Z)(function*(i,e,t){const o=Fc(i);if(o.Lc){for(const u of e){if(o.Nc.has(u)){Ct("SyncEngine","Adding an already active target "+u);continue}const f=yield wh(o.localStore,u),y=yield ad(o.localStore,f);yield wp(o,im(f),y.targetId,!1),Ih(o.remoteStore,y)}for(const u of t)o.Nc.has(u)&&(yield ud(o.localStore,u,!1).then(()=>{_d(o.remoteStore,u),Yu(o,u)}).catch(Ku))}}),Op.apply(this,arguments)}function Fc(i){const e=C(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=bp.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=tm.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Gy.bind(null,e),e.Dc.To=mp.bind(null,e.eventManager),e.Dc.qc=Wg.bind(null,e.eventManager),e}function Rp(i){const e=C(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Wy.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Sv.bind(null,e),e}class jh{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,oe.Z)(function*(){t.O=gd(e.databaseInfo.databaseId),t.sharedClientState=t.Gc(e),t.persistence=t.jc(e),yield t.persistence.start(),t.gcScheduler=t.Qc(e),t.localStore=t.Wc(e)})()}Qc(e){return null}Wc(e){return vh(this.persistence,new Qf,e.initialUser,this.O)}jc(e){return new gl(qu.bi,this.O)}Gc(e){return new Pg}terminate(){var e=this;return(0,oe.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Ta extends jh{constructor(e,t,o){super(),this.zc=e,this.cacheSizeBytes=t,this.forceOwnership=o,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,o=this;return(0,oe.Z)(function*(){yield t().call(o,e),yield function xg(i){return cd.apply(this,arguments)}(o.localStore),yield o.zc.initialize(o,e),yield Rp(o.zc.syncEngine),yield wl(o.zc.remoteStore),yield o.persistence.Hn(()=>(o.gcScheduler&&!o.gcScheduler.started&&o.gcScheduler.start(o.localStore),Promise.resolve()))})()}Wc(e){return vh(this.persistence,new Qf,e.initialUser,this.O)}Qc(e){return new zf(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}jc(e){const t=Cg(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),o=void 0!==this.cacheSizeBytes?Vo.withCacheSize(this.cacheSizeBytes):Vo.DEFAULT;return new Yf(this.synchronizeTabs,t,e.clientId,o,e.asyncQueue,ep(),bh(),this.O,this.sharedClientState,!!this.forceOwnership)}Gc(e){return new Pg}}class Cd extends Ta{constructor(e,t){super(e,t,!1),this.zc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,o=this;return(0,oe.Z)(function*(){yield t().call(o,e);const u=o.zc.syncEngine;o.sharedClientState instanceof vl&&(o.sharedClientState.syncEngine={hr:Tp.bind(null,u),lr:qy.bind(null,u),dr:Dl.bind(null,u),ds:Ky.bind(null,u),ar:Mv.bind(null,u)},yield o.sharedClientState.start()),yield o.persistence.Hn(function(){var f=(0,oe.Z)(function*(y){yield function Sp(i,e){return xp.apply(this,arguments)}(o.zc.syncEngine,y),o.gcScheduler&&(y&&!o.gcScheduler.started?o.gcScheduler.start(o.localStore):y||o.gcScheduler.stop())});return function(y){return f.apply(this,arguments)}}())})()}Gc(e){const t=ep();if(!vl.Vt(t))throw new B(S.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const o=Cg(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new vl(t,e.asyncQueue,o,e.clientId,e.initialUser)}}class $s{initialize(e,t){var o=this;return(0,oe.Z)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(t),o.remoteStore=o.createRemoteStore(t),o.eventManager=o.createEventManager(t),o.syncEngine=o.createSyncEngine(t,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=u=>qg(o.syncEngine,u,1),o.remoteStore.remoteSyncer.handleCredentialChange=xv.bind(null,o.syncEngine),yield Ah(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new pp}createDatastore(e){const t=gd(e.databaseInfo.databaseId),o=new Py(e.databaseInfo);return new Cv(e.authCredentials,e.appCheckCredentials,o,t)}createRemoteStore(e){return t=this.localStore,o=this.datastore,u=e.asyncQueue,f=O=>qg(this.syncEngine,O,0),y=Ry.Vt()?new Ry:new Ng,new Tv(t,o,u,f,y);var t,o,u,f,y}createSyncEngine(e,t){return function(o,u,f,y,O,H,q){const he=new bl(o,u,f,y,O,H);return q&&(he.Lc=!0),he}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,oe.Z)(function*(t){const o=C(t);Ct("RemoteStore","RemoteStore shutting down."),o.Ko.add(5),yield Rc(o),o.jo.shutdown(),o.Qo.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function Qu(i,e=10240){let t=0;return{read:()=>(0,oe.Z)(function*(){if(t<i.byteLength){const o={value:i.slice(t,t+e),done:!1};return t+=e,o}return{done:!0}})(),cancel:()=>(0,oe.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class Lc{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Hc(this.observer.next,e)}error(e){this.observer.error?this.Hc(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Jc(){this.muted=!0}Hc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class ha{constructor(e,t){this.Yc=e,this.O=t,this.metadata=new ie,this.buffer=new Uint8Array,this.Xc=new TextDecoder("utf-8"),this.Zc().then(o=>{o&&o.ac()?this.metadata.resolve(o.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==o?void 0:o.payload)}`))},o=>this.metadata.reject(o))}close(){return this.Yc.cancel()}getMetadata(){var e=this;return(0,oe.Z)(function*(){return e.metadata.promise})()}Kc(){var e=this;return(0,oe.Z)(function*(){return yield e.getMetadata(),e.Zc()})()}Zc(){var e=this;return(0,oe.Z)(function*(){const t=yield e.tu();if(null===t)return null;const o=e.Xc.decode(t),u=Number(o);isNaN(u)&&e.eu(`length string (${o}) is not valid number`);const f=yield e.nu(u);return new Uy(JSON.parse(f),t.length+u)})()}su(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}tu(){var e=this;return(0,oe.Z)(function*(){for(;e.su()<0&&!(yield e.iu()););if(0===e.buffer.length)return null;const t=e.su();t<0&&e.eu("Reached the end of bundle when a length string is expected.");const o=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),o})()}nu(e){var t=this;return(0,oe.Z)(function*(){for(;t.buffer.length<e;)(yield t.iu())&&t.eu("Reached the end of bundle when more is expected.");const o=t.Xc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),o})()}eu(e){throw this.Yc.cancel(),new Error(`Invalid bundle format: ${e}`)}iu(){var e=this;return(0,oe.Z)(function*(){const t=yield e.Yc.read();if(!t.done){const o=new Uint8Array(e.buffer.length+t.value.length);o.set(e.buffer),o.set(t.value,e.buffer.length),e.buffer=o}return t.done})()}}class Pp{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,oe.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new B(S.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const o=yield(u=(0,oe.Z)(function*(f,y){const O=C(f),H=gu(O.O)+"/documents",q={documents:y.map(_t=>Ka(O.O,_t))},he=yield O.Lr("BatchGetDocuments",H,q),Ne=new Map;he.forEach(_t=>{const At=function xf(i,e){return"found"in e?function(t,o){v(!!o.found);const u=ko(t,o.found.name),f=Vi(o.found.updateTime),y=new ss({mapValue:{fields:o.found.fields}});return x.newFoundDocument(u,f,y)}(i,e):"missing"in e?function(t,o){v(!!o.missing),v(!!o.readTime);const u=ko(t,o.missing),f=Vi(o.readTime);return x.newNoDocument(u,f)}(i,e):b()}(O.O,_t);Ne.set(At.key.toString(),At)});const it=[];return y.forEach(_t=>{const At=Ne.get(_t.toString());v(!!At),it.push(At)}),it}),function(f,y){return u.apply(this,arguments)})(t.datastore,e);var u;return o.forEach(u=>t.recordVersion(u)),o})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(o){this.lastWriteError=o}this.writtenDocs.add(e.toString())}delete(e){this.write(new da(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,oe.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var o;e.mutations.forEach(o=>{t.delete(o.key.toString())}),t.forEach((o,u)=>{const f=Jt.fromPath(u);e.mutations.push(new nl(f,e.precondition(f)))}),yield(o=(0,oe.Z)(function*(u,f){const y=C(u),O=gu(y.O)+"/documents",H={writes:f.map(q=>mu(y.O,q))};yield y.Mr("Commit",O,H)}),function(u,f){return o.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw b();t=An.min()}const o=this.readVersions.get(e.key.toString());if(o){if(!t.isEqual(o))throw new B(S.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Zi.updateTime(t):Zi.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(An.min()))throw new B(S.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Zi.updateTime(t)}return Zi.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Cl{constructor(e,t,o,u){this.asyncQueue=e,this.datastore=t,this.updateFunction=o,this.deferred=u,this.ru=5,this.ro=new bo(this.asyncQueue,"transaction_retry")}run(){this.ru-=1,this.ou()}ou(){var e=this;this.ro.Hr((0,oe.Z)(function*(){const t=new Pp(e.datastore),o=e.cu(t);o&&o.then(u=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(u)}).catch(f=>{e.uu(f)}))}).catch(u=>{e.uu(u)})}))}cu(e){try{const t=this.updateFunction(e);return!Ls(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}uu(e){this.ru>0&&this.au(e)?(this.ru-=1,this.asyncQueue.enqueueAndForget(()=>(this.ou(),Promise.resolve()))):this.deferred.reject(e)}au(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!Ec(t)}return!1}}class Tl{constructor(e,t,o,u){var f=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=o,this.databaseInfo=u,this.user=Li.UNAUTHENTICATED,this.clientId=Ss.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var y=(0,oe.Z)(function*(O){Ct("FirestoreClient","Received user=",O.uid),yield f.authCredentialListener(O),f.user=O});return function(O){return y.apply(this,arguments)}}()),this.appCheckCredentials.start(o,y=>(Ct("FirestoreClient","Received new app check token=",y),this.appCheckCredentialListener(y,this.user)))}getConfiguration(){var e=this;return(0,oe.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new B(S.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new ie;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,oe.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(o){const u=Uo(o,"Failed to shutdown persistence");t.reject(u)}})),t.promise}}function Vc(i,e){return Ju.apply(this,arguments)}function Ju(){return Ju=(0,oe.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),Ct("FirestoreClient","Initializing OfflineComponentProvider");const t=yield i.getConfiguration();yield e.initialize(t);let o=t.initialUser;i.setCredentialChangeListener(function(){var u=(0,oe.Z)(function*(f){o.isEqual(f)||(yield Cy(e.localStore,f),o=f)});return function(f){return u.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i.offlineComponents=e}),Ju.apply(this,arguments)}function Uc(i,e){return Xu.apply(this,arguments)}function Xu(){return Xu=(0,oe.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const t=yield ec(i);Ct("FirestoreClient","Initializing OnlineComponentProvider");const o=yield i.getConfiguration();yield e.initialize(t,o),i.setCredentialChangeListener(u=>Vy(e.remoteStore,u)),i.setAppCheckTokenChangeListener((u,f)=>Vy(e.remoteStore,f)),i.onlineComponents=e}),Xu.apply(this,arguments)}function ec(i){return tc.apply(this,arguments)}function tc(){return tc=(0,oe.Z)(function*(i){return i.offlineComponents||(Ct("FirestoreClient","Using default OfflineComponentProvider"),yield Vc(i,new jh)),i.offlineComponents}),tc.apply(this,arguments)}function Iu(i){return $h.apply(this,arguments)}function $h(){return $h=(0,oe.Z)(function*(i){return i.onlineComponents||(Ct("FirestoreClient","Using default OnlineComponentProvider"),yield Uc(i,new $s)),i.onlineComponents}),$h.apply(this,arguments)}function Np(i){return ec(i).then(e=>e.persistence)}function Hh(i){return ec(i).then(e=>e.localStore)}function kp(i){return Iu(i).then(e=>e.remoteStore)}function Gh(i){return Iu(i).then(e=>e.syncEngine)}function Bc(i){return Wh.apply(this,arguments)}function Wh(){return Wh=(0,oe.Z)(function*(i){const e=yield Iu(i),t=e.eventManager;return t.onListen=Hy.bind(null,e.syncEngine),t.onUnlisten=Ca.bind(null,e.syncEngine),t}),Wh.apply(this,arguments)}function Fp(i,e,t={}){const o=new ie;return i.asyncQueue.enqueueAndForget((0,oe.Z)(function*(){return function(u,f,y,O,H){const q=new Lc({next:Ne=>{f.enqueueAndForget(()=>Nc(u,he));const it=Ne.docs.has(y);!it&&Ne.fromCache?H.reject(new B(S.UNAVAILABLE,"Failed to get document because the client is offline.")):it&&Ne.fromCache&&O&&"server"===O.source?H.reject(new B(S.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):H.resolve(Ne)},error:Ne=>H.reject(Ne)}),he=new Rh(Qo(y.path),q,{includeMetadataChanges:!0,uc:!0});return Mh(u,he)}(yield Bc(i),i.asyncQueue,e,t,o)})),o.promise}function am(i,e,t={}){const o=new ie;return i.asyncQueue.enqueueAndForget((0,oe.Z)(function*(){return function(u,f,y,O,H){const q=new Lc({next:Ne=>{f.enqueueAndForget(()=>Nc(u,he)),Ne.fromCache&&"server"===O.source?H.reject(new B(S.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):H.resolve(Ne)},error:Ne=>H.reject(Ne)}),he=new Rh(y,q,{includeMetadataChanges:!0,uc:!0});return Mh(u,he)}(yield Bc(i),i.asyncQueue,e,t,o)})),o.promise}const lm=new Map;function zh(i,e,t){if(!t)throw new B(S.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function dm(i,e,t,o){if(!0===e&&!0===o)throw new B(S.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function hm(i){if(!Jt.isDocumentKey(i))throw new B(S.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function e_(i){if(Jt.isDocumentKey(i))throw new B(S.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Kh(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(t=i).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof i?"a function":b()}function Dr(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new B(S.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Kh(i);throw new B(S.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}function qh(i,e){if(e<=0)throw new B(S.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}class fm{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new B(S.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new B(S.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,dm("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Zh{constructor(e,t,o){this._authCredentials=t,this._appCheckCredentials=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new fm({}),this._settingsFrozen=!1,e instanceof So?this._databaseId=e:(this._app=e,this._databaseId=function(u){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new B(S.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new So(u.options.projectId)}(e))}get app(){if(!this._app)throw new B(S.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new B(S.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new fm(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new ut;switch(t.type){case"gapi":const o=t.client;return v(!("object"!=typeof o||null===o||!o.auth||!o.auth.getAuthHeaderValueForFirstParty)),new vr(o,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new B(S.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=lm.get(e);t&&(Ct("ComponentProvider","Removing Datastore"),lm.delete(e),t.terminate())}(this),Promise.resolve()}}class Bi{constructor(e,t,o){this.converter=t,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Aa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Bi(this.firestore,e,this._key)}}class so{constructor(e,t,o){this.converter=t,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new so(this.firestore,e,this._query)}}class Aa extends so{constructor(e,t,o){super(e,t,Qo(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Bi(this.firestore,null,new Jt(e))}withConverter(e){return new Aa(this.firestore,e,this._path)}}function t_(i,e,...t){if(i=(0,Ve.m9)(i),zh("collection","path",e),i instanceof Zh){const o=kr.fromString(e,...t);return e_(o),new Aa(i,null,o)}{if(!(i instanceof Bi||i instanceof Aa))throw new B(S.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(kr.fromString(e,...t));return e_(o),new Aa(i.firestore,null,o)}}function Du(i,e,...t){if(i=(0,Ve.m9)(i),1===arguments.length&&(e=Ss.R()),zh("doc","path",e),i instanceof Zh){const o=kr.fromString(e,...t);return hm(o),new Bi(i,null,new Jt(o))}{if(!(i instanceof Bi||i instanceof Aa))throw new B(S.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(kr.fromString(e,...t));return hm(o),new Bi(i.firestore,i instanceof Aa?i.converter:null,new Jt(o))}}function pm(i,e){return i=(0,Ve.m9)(i),e=(0,Ve.m9)(e),(i instanceof Bi||i instanceof Aa)&&(e instanceof Bi||e instanceof Aa)&&i.firestore===e.firestore&&i.path===e.path&&i.converter===e.converter}function Lp(i,e){return i=(0,Ve.m9)(i),e=(0,Ve.m9)(e),i instanceof so&&e instanceof so&&i.firestore===e.firestore&&ja(i._query,e._query)&&i.converter===e.converter}class r_{constructor(){this.hu=Promise.resolve(),this.lu=[],this.fu=!1,this.du=[],this._u=null,this.wu=!1,this.mu=!1,this.gu=[],this.ro=new bo(this,"async_queue_retry"),this.yu=()=>{const t=bh();t&&Ct("AsyncQueue","Visibility state changed to "+t.visibilityState),this.ro.Yr()};const e=bh();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.yu)}get isShuttingDown(){return this.fu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.fu){this.fu=!0,this.mu=e||!1;const t=bh();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.yu)}}enqueue(e){if(this.pu(),this.fu)return new Promise(()=>{});const t=new ie;return this.Iu(()=>this.fu&&this.mu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.lu.push(e),this.Eu()))}Eu(){var e=this;return(0,oe.Z)(function*(){if(0!==e.lu.length){try{yield e.lu[0](),e.lu.shift(),e.ro.reset()}catch(t){if(!_u(t))throw t;Ct("AsyncQueue","Operation failed with retryable error: "+t)}e.lu.length>0&&e.ro.Hr(()=>e.Eu())}})()}Iu(e){const t=this.hu.then(()=>(this.wu=!0,e().catch(o=>{throw this._u=o,this.wu=!1,Vr("INTERNAL UNHANDLED ERROR: ",function(f){let y=f.message||"";return f.stack&&(y=f.stack.includes(f.message)?f.stack:f.message+"\n"+f.stack),y}(o)),o}).then(o=>(this.wu=!1,o))));return this.hu=t,t}enqueueAfterDelay(e,t,o){this.pu(),this.gu.indexOf(e)>-1&&(t=0);const u=xh.createAndSchedule(this,e,t,o,f=>this.Tu(f));return this.du.push(u),u}pu(){this._u&&b()}verifyOperationInProgress(){}Au(){var e=this;return(0,oe.Z)(function*(){let t;do{t=e.hu,yield t}while(t!==e.hu)})()}Ru(e){for(const t of this.du)if(t.timerId===e)return!0;return!1}Pu(e){return this.Au().then(()=>{this.du.sort((t,o)=>t.targetTimeMs-o.targetTimeMs);for(const t of this.du)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Au()})}bu(e){this.gu.push(e)}Tu(e){const t=this.du.indexOf(e);this.du.splice(t,1)}}function Yh(i){return function(e,t){if("object"!=typeof e||null===e)return!1;const o=e;for(const u of["next","error","complete"])if(u in o&&"function"==typeof o[u])return!0;return!1}(i)}class Qh{constructor(){this._progressObserver={},this._taskCompletionResolver=new ie,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,o){this._progressObserver={next:e,error:t,complete:o}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class xi extends Zh{constructor(e,t,o){super(e,t,o),this.type="firestore",this._queue=new r_,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||gm(this),this._firestoreClient.terminate()}}function ws(i){return i._firestoreClient||gm(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function gm(i){var e;const t=i._freezeSettings(),o=(f=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new Fs(i._databaseId,f,i._persistenceKey,(O=t).host,O.ssl,O.experimentalForceLongPolling,O.experimentalAutoDetectLongPolling,O.useFetchStreams));var f,O;i._firestoreClient=new Tl(i._authCredentials,i._appCheckCredentials,i._queue,o)}function ym(i,e,t){const o=new ie;return i.asyncQueue.enqueue((0,oe.Z)(function*(){try{yield Vc(i,t),yield Uc(i,e),o.resolve()}catch(u){if(!("FirebaseError"===(f=u).name?f.code===S.FAILED_PRECONDITION||f.code===S.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&f instanceof DOMException)||22===f.code||20===f.code||11===f.code))throw u;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+u),o.reject(u)}var f})).then(()=>o.promise)}function Al(i){if(i._initialized||i._terminated)throw new B(S.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class tu{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new B(S.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new is(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class fa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new fa(oi.fromBase64String(e))}catch(t){throw new B(S.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new fa(oi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class jc{constructor(e){this._methodName=e}}class $c{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new B(S.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new B(S.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Fn(this._lat,e._lat)||Fn(this._long,e._long)}}const Jh=/^__.*__$/;class Up{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return null!==this.fieldMask?new Lu(e,this.data,this.fieldMask,t,this.fieldTransforms):new wc(e,this.data,t,this.fieldTransforms)}}class a_{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return new Lu(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function bm(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw b()}}class Sl{constructor(e,t,o,u,f,y){this.settings=e,this.databaseId=t,this.O=o,this.ignoreUndefinedProperties=u,void 0===f&&this.vu(),this.fieldTransforms=f||[],this.fieldMask=y||[]}get path(){return this.settings.path}get Vu(){return this.settings.Vu}Su(e){return new Sl(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.O,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Du(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),u=this.Su({path:o,Cu:!1});return u.Nu(e),u}xu(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),u=this.Su({path:o,Cu:!1});return u.vu(),u}ku(e){return this.Su({path:void 0,Cu:!0})}Ou(e){return Sd(e,this.settings.methodName,this.settings.Mu||!1,this.path,this.settings.$u)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Nu(this.path.get(e))}Nu(e){if(0===e.length)throw this.Ou("Document fields must not be empty");if(bm(this.Vu)&&Jh.test(e))throw this.Ou('Document fields cannot begin and end with "__"')}}class Bp{constructor(e,t,o){this.databaseId=e,this.ignoreUndefinedProperties=t,this.O=o||gd(e)}Fu(e,t,o,u=!1){return new Sl({Vu:e,methodName:t,$u:o,path:is.emptyPath(),Cu:!1,Mu:u},this.databaseId,this.O,this.ignoreUndefinedProperties)}}function nc(i){const e=i._freezeSettings(),t=gd(i._databaseId);return new Bp(i._databaseId,!!e.ignoreUndefinedProperties,t)}function Td(i,e,t,o,u,f={}){const y=i.Fu(f.merge||f.mergeFields?2:0,e,t,u);Hp("Data must be an object, but it was:",y,o);const O=Dm(o,y);let H,q;if(f.merge)H=new La(y.fieldMask),q=y.fieldTransforms;else if(f.mergeFields){const he=[];for(const Ne of f.mergeFields){const it=rf(e,Ne,t);if(!y.contains(it))throw new B(S.INVALID_ARGUMENT,`Field '${it}' is specified in your field mask but missing from your input data.`);Wp(he,it)||he.push(it)}H=new La(he),q=y.fieldTransforms.filter(Ne=>H.covers(Ne.field))}else H=null,q=y.fieldTransforms;return new Up(new ss(O),H,q)}class Hc extends jc{_toFieldTransform(e){if(2!==e.Vu)throw e.Ou(1===e.Vu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Hc}}function jp(i,e,t){return new Sl({Vu:3,$u:e.settings.$u,methodName:i._methodName,Cu:t},e.databaseId,e.O,e.ignoreUndefinedProperties)}class Xh extends jc{_toFieldTransform(e){return new yc(e.path,new hu)}isEqual(e){return e instanceof Xh}}class $p extends jc{constructor(e,t){super(e),this.Bu=t}_toFieldTransform(e){const t=jp(this,e,!0),o=this.Bu.map(f=>rc(f,t)),u=new $a(o);return new yc(e.path,u)}isEqual(e){return this===e}}class Im extends jc{constructor(e,t){super(e),this.Bu=t}_toFieldTransform(e){const t=jp(this,e,!0),o=this.Bu.map(f=>rc(f,t)),u=new Ha(o);return new yc(e.path,u)}isEqual(e){return this===e}}class u_ extends jc{constructor(e,t){super(e),this.Lu=t}_toFieldTransform(e){const t=new Fu(e.O,jd(e.O,this.Lu));return new yc(e.path,t)}isEqual(e){return this===e}}function ef(i,e,t,o){const u=i.Fu(1,e,t);Hp("Data must be an object, but it was:",u,o);const f=[],y=ss.empty();ti(o,(H,q)=>{const he=Ad(e,H,t);q=(0,Ve.m9)(q);const Ne=u.xu(he);if(q instanceof Hc)f.push(he);else{const it=rc(q,Ne);null!=it&&(f.push(he),y.set(he,it))}});const O=new La(f);return new a_(y,O,u.fieldTransforms)}function tf(i,e,t,o,u,f){const y=i.Fu(1,e,t),O=[rf(e,o,t)],H=[u];if(f.length%2!=0)throw new B(S.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let it=0;it<f.length;it+=2)O.push(rf(e,f[it])),H.push(f[it+1]);const q=[],he=ss.empty();for(let it=O.length-1;it>=0;--it)if(!Wp(q,O[it])){const _t=O[it];let At=H[it];At=(0,Ve.m9)(At);const cn=y.xu(_t);if(At instanceof Hc)q.push(_t);else{const jn=rc(At,cn);null!=jn&&(q.push(_t),he.set(_t,jn))}}const Ne=new La(q);return new a_(he,Ne,y.fieldTransforms)}function nf(i,e,t,o=!1){return rc(t,i.Fu(o?4:3,e))}function rc(i,e){if(Cm(i=(0,Ve.m9)(i)))return Hp("Unsupported field value:",e,i),Dm(i,e);if(i instanceof jc)return function(t,o){if(!bm(o.Vu))throw o.Ou(`${t._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Ou(`${t._methodName}() is not currently supported inside arrays`);const u=t._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.Cu&&4!==e.Vu)throw e.Ou("Nested arrays are not supported");return function(t,o){const u=[];let f=0;for(const y of t){let O=rc(y,o.ku(f));null==O&&(O={nullValue:"NULL_VALUE"}),u.push(O),f++}return{arrayValue:{values:u}}}(i,e)}return function(t,o){if(null===(t=(0,Ve.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return jd(o.O,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const u=gi.fromDate(t);return{timestampValue:Ic(o.O,u)}}if(t instanceof gi){const u=new gi(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Ic(o.O,u)}}if(t instanceof $c)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof fa)return{bytesValue:Sf(o.O,t._byteString)};if(t instanceof Bi){const u=o.databaseId,f=t.firestore._databaseId;if(!f.isEqual(u))throw o.Ou(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:_s(t.firestore._databaseId||o.databaseId,t._key.path)}}throw o.Ou(`Unsupported field value: ${Kh(t)}`)}(i,e)}function Dm(i,e){const t={};return kl(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ti(i,(o,u)=>{const f=rc(u,e.Du(o));null!=f&&(t[o]=f)}),{mapValue:{fields:t}}}function Cm(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof gi||i instanceof $c||i instanceof fa||i instanceof Bi||i instanceof jc)}function Hp(i,e,t){if(!Cm(t)||"object"!=typeof(o=t)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const o=Kh(t);throw e.Ou("an object"===o?i+" a custom object":i+" "+o)}var o}function rf(i,e,t){if((e=(0,Ve.m9)(e))instanceof tu)return e._internalPath;if("string"==typeof e)return Ad(i,e);throw Sd("Field path arguments must be of type string or ",i,!1,void 0,t)}const Gp=new RegExp("[~\\*/\\[\\]]");function Ad(i,e,t){if(e.search(Gp)>=0)throw Sd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new tu(...e.split("."))._internalPath}catch(o){throw Sd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function Sd(i,e,t,o,u){const f=o&&!o.isEmpty(),y=void 0!==u;let O=`Function ${e}() called with invalid data`;t&&(O+=" (via `toFirestore()`)"),O+=". ";let H="";return(f||y)&&(H+=" (found",f&&(H+=` in field ${o}`),y&&(H+=` in document ${u}`),H+=")"),new B(S.INVALID_ARGUMENT,O+i+H)}function Wp(i,e){return i.some(t=>t.isEqual(e))}class xl{constructor(e,t,o,u,f){this._firestore=e,this._userDataWriter=t,this._key=o,this._document=u,this._converter=f}get id(){return this._key.path.lastSegment()}get ref(){return new Bi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Tm(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(xd("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Tm extends xl{data(){return super.data()}}function xd(i,e){return"string"==typeof e?Ad(i,e):e instanceof tu?e._internalPath:e._delegate._internalPath}class ic{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class nu extends xl{constructor(e,t,o,u,f,y){super(e,t,o,u,y),this._firestore=e,this._firestoreImpl=e,this.metadata=f}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new sf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const o=this._document.data.field(xd("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,t.serverTimestamps)}}}class sf extends nu{data(e={}){return super.data(e)}}class sc{constructor(e,t,o,u){this._firestore=e,this._userDataWriter=t,this._snapshot=u,this.metadata=new ic(u.hasPendingWrites,u.fromCache),this.query=o}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(o=>{e.call(t,new sf(this._firestore,this._userDataWriter,o.key,o,new ic(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new B(S.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(y=>({type:"added",doc:new sf(o._firestore,o._userDataWriter,y.doc.key,y.doc,new ic(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:f++}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(y=>u||3!==y.type).map(y=>{const O=new sf(o._firestore,o._userDataWriter,y.doc.key,y.doc,new ic(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter);let H=-1,q=-1;return 0!==y.type&&(H=f.indexOf(y.doc.key),f=f.delete(y.doc.key)),1!==y.type&&(f=f.add(y.doc),q=f.indexOf(y.doc.key)),{type:c_(y.type),doc:O,oldIndex:H,newIndex:q}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function c_(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return b()}}function zp(i,e){return i instanceof nu&&e instanceof nu?i._firestore===e._firestore&&i._key.isEqual(e._key)&&(null===i._document?null===e._document:i._document.isEqual(e._document))&&i._converter===e._converter:i instanceof sc&&e instanceof sc&&i._firestore===e._firestore&&Lp(i.query,e.query)&&i.metadata.isEqual(e.metadata)&&i._snapshot.isEqual(e._snapshot)}function Am(i){if(Zc(i)&&0===i.explicitOrderBy.length)throw new B(S.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ji{}function Cu(i,...e){for(const t of e)i=t._apply(i);return i}class l_ extends Ji{constructor(e,t,o){super(),this.Uu=e,this.qu=t,this.Ku=o,this.type="where"}_apply(e){const t=nc(e.firestore),o=function(u,f,y,O,H,q,he){let Ne;if(H.isKeyField()){if("array-contains"===q||"array-contains-any"===q)throw new B(S.INVALID_ARGUMENT,`Invalid Query. You can't perform '${q}' queries on documentId().`);if("in"===q||"not-in"===q){Sa(he,q);const _t=[];for(const At of he)_t.push(of(O,u,At));Ne={arrayValue:{values:_t}}}else Ne=of(O,u,he)}else"in"!==q&&"not-in"!==q&&"array-contains-any"!==q||Sa(he,q),Ne=nf(y,"where",he,"in"===q||"not-in"===q);const it=Ur.create(H,q,Ne);return function(_t,At){if(At.S()){const jn=ca(_t);if(null!==jn&&!jn.isEqual(At.field))throw new B(S.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${jn.toString()}' and '${At.field.toString()}'`);const cs=Ul(_t);null!==cs&&Nm(0,At.field,cs)}const cn=function(jn,cs){for(const ao of jn.filters)if(cs.indexOf(ao.op)>=0)return ao.op;return null}(_t,function(jn){switch(jn){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(At.op));if(null!==cn)throw new B(S.INVALID_ARGUMENT,cn===At.op?`Invalid query. You cannot use more than one '${At.op.toString()}' filter.`:`Invalid query. You cannot use '${At.op.toString()}' filters with '${cn.toString()}' filters.`)}(u,it),it}(e._query,0,t,e.firestore._databaseId,this.Uu,this.qu,this.Ku);return new so(e.firestore,e.converter,function(u,f){const y=u.filters.concat([f]);return new ua(u.path,u.collectionGroup,u.explicitOrderBy.slice(),y,u.limit,u.limitType,u.startAt,u.endAt)}(e._query,o))}}class Sm extends Ji{constructor(e,t){super(),this.Uu=e,this.Gu=t,this.type="orderBy"}_apply(e){const t=function(o,u,f){if(null!==o.startAt)throw new B(S.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==o.endAt)throw new B(S.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const y=new aa(u,f);return function(O,H){if(null===Ul(O)){const q=ca(O);null!==q&&Nm(0,q,H.field)}}(o,y),y}(e._query,this.Uu,this.Gu);return new so(e.firestore,e.converter,function(o,u){const f=o.explicitOrderBy.concat([u]);return new ua(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}class Kp extends Ji{constructor(e,t,o){super(),this.type=e,this.ju=t,this.Qu=o}_apply(e){return new so(e.firestore,e.converter,Bl(e._query,this.ju,this.Qu))}}class Mm extends Ji{constructor(e,t,o){super(),this.type=e,this.Wu=t,this.zu=o}_apply(e){const t=qp(e,this.type,this.Wu,this.zu);return new so(e.firestore,e.converter,(u=t,new ua((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,u,o.endAt)));var o,u}}class Rm extends Ji{constructor(e,t,o){super(),this.type=e,this.Wu=t,this.zu=o}_apply(e){const t=qp(e,this.type,this.Wu,this.zu);return new so(e.firestore,e.converter,(u=t,new ua((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,u)));var o,u}}function qp(i,e,t,o){if(t[0]=(0,Ve.m9)(t[0]),t[0]instanceof xl)return function(u,f,y,O,H){if(!O)throw new B(S.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${y}().`);const q=[];for(const he of Nu(u))if(he.field.isKeyField())q.push(vo(f,O.key));else{const Ne=O.data.field(he.field);if(qc(Ne))throw new B(S.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+he.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Ne){const it=he.field.canonicalString();throw new B(S.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${it}' (used as the orderBy) does not exist.`)}q.push(Ne)}return new Yo(q,H)}(i._query,i.firestore._databaseId,e,t[0]._document,o);{const u=nc(i.firestore);return function(f,y,O,H,q,he){const Ne=f.explicitOrderBy;if(q.length>Ne.length)throw new B(S.INVALID_ARGUMENT,`Too many arguments provided to ${H}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const it=[];for(let _t=0;_t<q.length;_t++){const At=q[_t];if(Ne[_t].field.isKeyField()){if("string"!=typeof At)throw new B(S.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${H}(), but got a ${typeof At}`);if(!lu(f)&&-1!==At.indexOf("/"))throw new B(S.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${H}() must be a plain document ID, but '${At}' contains a slash.`);const cn=f.path.child(kr.fromString(At));if(!Jt.isDocumentKey(cn))throw new B(S.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${H}() must result in a valid document path, but '${cn}' is not because it contains an odd number of segments.`);const jn=new Jt(cn);it.push(vo(y,jn))}else{const cn=nf(O,H,At);it.push(cn)}}return new Yo(it,he)}(i._query,i.firestore._databaseId,u,e,t,o)}}function of(i,e,t){if("string"==typeof(t=(0,Ve.m9)(t))){if(""===t)throw new B(S.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!lu(e)&&-1!==t.indexOf("/"))throw new B(S.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const o=e.path.child(kr.fromString(t));if(!Jt.isDocumentKey(o))throw new B(S.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return vo(i,new Jt(o))}if(t instanceof Bi)return vo(i,t._key);throw new B(S.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Kh(t)}.`)}function Sa(i,e){if(!Array.isArray(i)||0===i.length)throw new B(S.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(i.length>10)throw new B(S.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function Nm(i,e,t){if(!t.isEqual(e))throw new B(S.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class Zp{convertValue(e,t="none"){switch(su(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ci(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(qs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw b()}}convertObject(e,t){const o={};return ti(e.fields,(u,f)=>{o[u]=this.convertValue(f,t)}),o}convertGeoPoint(e){return new $c(ci(e.latitude),ci(e.longitude))}convertArray(e,t){return(e.values||[]).map(o=>this.convertValue(o,t))}convertServerTimestamp(e,t){switch(t){case"previous":const o=Va(e);return null==o?null:this.convertValue(o,t);case"estimate":return this.convertTimestamp(Ai(e));default:return null}}convertTimestamp(e){const t=Hr(e);return new gi(t.seconds,t.nanos)}convertDocumentKey(e,t){const o=kr.fromString(e);v(Bu(o));const u=new So(o.get(1),o.get(3)),f=new Jt(o.popFirst(5));return u.isEqual(t)||Vr(`Document ${f} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),f}}function Xo(i,e,t){let o;return o=i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e,o}class xa extends Zp{constructor(e){super(),this.firestore=e}convertBytes(e){return new fa(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Bi(this.firestore,null,t)}}class pa{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=nc(e)}set(e,t,o){this._verifyNotCommitted();const u=Tu(e,this._firestore),f=Xo(u.converter,t,o),y=Td(this._dataReader,"WriteBatch.set",u._key,f,null!==u.converter,o);return this._mutations.push(y.toMutation(u._key,Zi.none())),this}update(e,t,o,...u){this._verifyNotCommitted();const f=Tu(e,this._firestore);let y;return y="string"==typeof(t=(0,Ve.m9)(t))||t instanceof tu?tf(this._dataReader,"WriteBatch.update",f._key,t,o,u):ef(this._dataReader,"WriteBatch.update",f._key,t),this._mutations.push(y.toMutation(f._key,Zi.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Tu(e,this._firestore);return this._mutations=this._mutations.concat(new da(t._key,Zi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new B(S.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Tu(i,e){if((i=(0,Ve.m9)(i)).firestore!==e)throw new B(S.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}class Gc extends Zp{constructor(e){super(),this.firestore=e}convertBytes(e){return new fa(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Bi(this.firestore,null,t)}}function Fm(i,e,t){i=Dr(i,Bi);const o=Dr(i.firestore,xi),u=Xo(i.converter,e,t);return Ol(o,[Td(nc(o),"setDoc",i._key,u,null!==i.converter,t).toMutation(i._key,Zi.none())])}function Qp(i,e,t,...o){i=Dr(i,Bi);const u=Dr(i.firestore,xi),f=nc(u);let y;return y="string"==typeof(e=(0,Ve.m9)(e))||e instanceof tu?tf(f,"updateDoc",i._key,e,t,o):ef(f,"updateDoc",i._key,e),Ol(u,[y.toMutation(i._key,Zi.exists(!0))])}function Jp(i,...e){var t,o,u;i=(0,Ve.m9)(i);let f={includeMetadataChanges:!1},y=0;"object"!=typeof e[y]||Yh(e[y])||(f=e[y],y++);const O={includeMetadataChanges:f.includeMetadataChanges};if(Yh(e[y])){const Ne=e[y];e[y]=null===(t=Ne.next)||void 0===t?void 0:t.bind(Ne),e[y+1]=null===(o=Ne.error)||void 0===o?void 0:o.bind(Ne),e[y+2]=null===(u=Ne.complete)||void 0===u?void 0:u.bind(Ne)}let H,q,he;if(i instanceof Bi)q=Dr(i.firestore,xi),he=Qo(i._key.path),H={next:Ne=>{e[y]&&e[y](uf(q,i,Ne))},error:e[y+1],complete:e[y+2]};else{const Ne=Dr(i,so);q=Dr(Ne.firestore,xi),he=Ne._query;const it=new Gc(q);H={next:_t=>{e[y]&&e[y](new sc(q,it,Ne,_t))},error:e[y+1],complete:e[y+2]},Am(i._query)}return function(Ne,it,_t,At){const cn=new Lc(At),jn=new Rh(it,cn,_t);return Ne.asyncQueue.enqueueAndForget((0,oe.Z)(function*(){return Mh(yield Bc(Ne),jn)})),()=>{cn.Jc(),Ne.asyncQueue.enqueueAndForget((0,oe.Z)(function*(){return Nc(yield Bc(Ne),jn)}))}}(ws(q),he,O,H)}function Ol(i,e){return function(t,o){const u=new ie;return t.asyncQueue.enqueueAndForget((0,oe.Z)(function*(){return function Kg(i,e,t){return Nh.apply(this,arguments)}(yield Gh(t),o,u)})),u.promise}(ws(i),e)}function uf(i,e,t){const o=t.docs.get(e._key),u=new Gc(i);return new nu(i,u,e._key,o,new ic(t.hasPendingWrites,t.fromCache),e.converter)}class Vm extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=nc(e)}get(e){const t=Tu(e,this._firestore),o=new xa(this._firestore);return this._transaction.lookup([t._key]).then(u=>{if(!u||1!==u.length)return b();const f=u[0];if(f.isFoundDocument())return new xl(this._firestore,o,f.key,f,t.converter);if(f.isNoDocument())return new xl(this._firestore,o,t._key,null,t.converter);throw b()})}set(e,t,o){const u=Tu(e,this._firestore),f=Xo(u.converter,t,o),y=Td(this._dataReader,"Transaction.set",u._key,f,null!==u.converter,o);return this._transaction.set(u._key,y),this}update(e,t,o,...u){const f=Tu(e,this._firestore);let y;return y="string"==typeof(t=(0,Ve.m9)(t))||t instanceof tu?tf(this._dataReader,"Transaction.update",f._key,t,o,u):ef(this._dataReader,"Transaction.update",f._key,t),this._transaction.update(f._key,y),this}delete(e){const t=Tu(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Tu(e,this._firestore),o=new Gc(this._firestore);return super.get(e).then(u=>new nu(this._firestore,o,t._key,u._document,new ic(!1,!1),t.converter))}}function tg(i,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new B("invalid-argument",`Invalid options passed to function ${i}(): You cannot specify both "merge" and "mergeFields".`);return e}function Gm(){if("undefined"==typeof Uint8Array)throw new B("unimplemented","Uint8Arrays are not available in this environment.")}function Wm(){if(!function Ld(){return"undefined"!=typeof atob}())throw new B("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(i,e=!0){zo=nt.SDK_VERSION,(0,nt._registerComponent)(new Ue.wA("firestore",(t,{options:o})=>{const u=t.getProvider("app").getImmediate(),f=new xi(u,new Jn(t.getProvider("auth-internal")),new As(t.getProvider("app-check-internal")));return o=Object.assign({useFetchStreams:e},o),f._setSettings(o),f},"PUBLIC")),(0,nt.registerVersion)(go,"3.4.5",i),(0,nt.registerVersion)(go,"3.4.5","esm2017")}();class Od{constructor(e){this._delegate=e}static fromBase64String(e){return Wm(),new Od(fa.fromBase64String(e))}static fromUint8Array(e){return Gm(),new Od(fa.fromUint8Array(e))}toBase64(){return Wm(),this._delegate.toBase64()}toUint8Array(){return Gm(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function ng(i){return function E_(i,e){if("object"!=typeof i||null===i)return!1;const t=i;for(const o of e)if(o in t&&"function"==typeof t[o])return!0;return!1}(i,["next","error","complete"])}class b_{enableIndexedDbPersistence(e,t){return function s_(i,e){Al(i=Dr(i,xi));const t=ws(i),o=i._freezeSettings(),u=new $s;return ym(t,u,new Ta(u,o.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function mm(i){Al(i=Dr(i,xi));const e=ws(i),t=i._freezeSettings(),o=new $s;return ym(e,o,new Cd(o,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function _m(i){if(i._initialized&&!i._terminated)throw new B(S.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new ie;return i._queue.enqueueAndForgetEvenWhileRestricted((0,oe.Z)(function*(){try{yield(t=(0,oe.Z)(function*(o){if(!io.Vt())return Promise.resolve();const u=o+"main";yield io.delete(u)}),function(o){return t.apply(this,arguments)})(Cg(i._databaseId,i._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class zm{constructor(e,t,o){this._delegate=t,this._persistenceProvider=o,this.INTERNAL={delete:()=>this.terminate()},e instanceof So||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&ks("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,o={}){!function Ov(i,e,t,o={}){var u;const f=(i=Dr(i,Zh))._getSettings();if("firestore.googleapis.com"!==f.host&&f.host!==e&&ks("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},f),{host:`${e}:${t}`,ssl:!1})),o.mockUserToken){let y,O;if("string"==typeof o.mockUserToken)y=o.mockUserToken,O=Li.MOCK_USER;else{y=(0,Ve.Sg)(o.mockUserToken,null===(u=i._app)||void 0===u?void 0:u.options.projectId);const H=o.mockUserToken.sub||o.mockUserToken.user_id;if(!H)throw new B(S.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");O=new Li(H)}i._authCredentials=new Gt(new Ie(y,O))}}(this._delegate,e,t,o)}enableNetwork(){return function Vp(i){return function sm(i){return i.asyncQueue.enqueue((0,oe.Z)(function*(){const e=yield Np(i),t=yield kp(i);return e.setNetworkEnabled(!0),function(o){const u=C(o);return u.Ko.delete(0),md(u)}(t)}))}(ws(i=Dr(i,xi)))}(this._delegate)}disableNetwork(){return function Nv(i){return function om(i){return i.asyncQueue.enqueue((0,oe.Z)(function*(){const e=yield Np(i),t=yield kp(i);return e.setNetworkEnabled(!1),(o=(0,oe.Z)(function*(u){const f=C(u);f.Ko.add(0),yield Rc(f),f.Qo.set("Offline")}),function(u){return o.apply(this,arguments)})(t);var o}))}(ws(i=Dr(i,xi)))}(this._delegate)}enablePersistence(e){let t=!1,o=!1;return e&&(t=!!e.synchronizeTabs,o=!!e.experimentalForceOwningTab,dm("synchronizeTabs",t,"experimentalForceOwningTab",o)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,o)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function vm(i){return function(e){const t=new ie;return e.asyncQueue.enqueueAndForget((0,oe.Z)(function*(){return function zy(i,e){return Dp.apply(this,arguments)}(yield Gh(e),t)})),t.promise}(ws(i=Dr(i,xi)))}(this._delegate)}onSnapshotsInSync(e){return function af(i,e){return function um(i,e){const t=new Lc(e);return i.asyncQueue.enqueueAndForget((0,oe.Z)(function*(){return o=yield Bc(i),u=t,C(o).Zo.add(u),void u.next();var o,u})),()=>{t.Jc(),i.asyncQueue.enqueueAndForget((0,oe.Z)(function*(){return o=yield Bc(i),u=t,void C(o).Zo.delete(u);var o,u}))}}(ws(i=Dr(i,xi)),Yh(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new B("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new zc(this,t_(this._delegate,e))}catch(t){throw Io(t,"collection()","Firestore.collection()")}}doc(e){try{return new ga(this,Du(this._delegate,e))}catch(t){throw Io(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new oo(this,function n_(i,e){if(i=Dr(i,Zh),zh("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new B(S.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new so(i,null,(t=e,new ua(kr.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Io(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function Xp(i,e){return function Jy(i,e){const t=new ie;return i.asyncQueue.enqueueAndForget((0,oe.Z)(function*(){const o=yield(u=i,Iu(u).then(f=>f.datastore));var u;new Cl(i.asyncQueue,o,e,t).run()})),t.promise}(ws(i=Dr(i,xi)),t=>e(new Vm(i,t)))}(this._delegate,t=>e(new Km(this,t)))}batch(){return ws(this._delegate),new qm(new pa(this._delegate,e=>Ol(this._delegate,e)))}loadBundle(e){return function o_(i,e){const t=ws(i=Dr(i,xi)),o=new Qh;return function Xy(i,e,t,o){const u=function(f,y){let O;return O="string"==typeof f?(new TextEncoder).encode(f):f,H=function(H,q){if(H instanceof Uint8Array)return Qu(H,q);if(H instanceof ArrayBuffer)return Qu(new Uint8Array(H),q);if(H instanceof ReadableStream)return H.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(O),new ha(H,y);var H}(t,gd(e));i.asyncQueue.enqueueAndForget((0,oe.Z)(function*(){!function Zy(i,e,t){const o=C(i);var u;(u=(0,oe.Z)(function*(f,y,O){try{const H=yield y.getMetadata();if(yield function(it,_t){const At=C(it),cn=Vi(_t.createTime);return At.persistence.runTransaction("hasNewerBundle","readonly",jn=>At.Kn.getBundleMetadata(jn,_t.id)).then(jn=>!!jn&&jn.createTime.compareTo(cn)>=0)}(f.localStore,H))return yield y.close(),void O._completeWith((it=H,{taskState:"Success",documentsLoaded:it.totalDocuments,bytesLoaded:it.totalBytes,totalDocuments:it.totalDocuments,totalBytes:it.totalBytes}));O._updateProgress(zg(H));const q=new By(H,f.localStore,y.O);let he=yield y.Kc();for(;he;){const it=yield q.lc(he);it&&O._updateProgress(it),he=yield y.Kc()}const Ne=yield q.complete();yield Os(f,Ne.ws,void 0),yield function(it,_t){const At=C(it);return At.persistence.runTransaction("Save bundle","readwrite",cn=>At.Kn.saveBundleMetadata(cn,_t))}(f.localStore,H),O._completeWith(Ne.progress)}catch(H){ks("SyncEngine",`Loading bundle failed with ${H}`),O._failWith(H)}var it}),function(f,y,O){return u.apply(this,arguments)})(o,e,t).then(()=>{o.sharedClientState.notifyBundleLoaded()})}(yield Gh(i),u,o)}))}(t,i._databaseId,e,o),o}(this._delegate,e)}namedQuery(e){return function kv(i,e){return function cm(i,e){return i.asyncQueue.enqueue((0,oe.Z)(function*(){return function(t,o){const u=C(t);return u.persistence.runTransaction("Get named query","readonly",f=>u.Kn.getNamedQuery(f,o))}(yield Hh(i),e)}))}(ws(i=Dr(i,xi)),e).then(t=>t?new so(i,null,t.query):null)}(this._delegate,e).then(t=>t?new oo(this,t):null)}}class lf extends Zp{constructor(e){super(),this.firestore=e}convertBytes(e){return new Od(new fa(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return ga.forKey(t,this.firestore,null)}}class Km{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new lf(e)}get(e){const t=oc(e);return this._delegate.get(t).then(o=>new Rl(this._firestore,new nu(this._firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,t.converter)))}set(e,t,o){const u=oc(e);return o?(tg("Transaction.set",o),this._delegate.set(u,t,o)):this._delegate.set(u,t),this}update(e,t,o,...u){const f=oc(e);return 2===arguments.length?this._delegate.update(f,t):this._delegate.update(f,t,o,...u),this}delete(e){const t=oc(e);return this._delegate.delete(t),this}}class qm{constructor(e){this._delegate=e}set(e,t,o){const u=oc(e);return o?(tg("WriteBatch.set",o),this._delegate.set(u,t,o)):this._delegate.set(u,t),this}update(e,t,o,...u){const f=oc(e);return 2===arguments.length?this._delegate.update(f,t):this._delegate.update(f,t,o,...u),this}delete(e){const t=oc(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Wc{constructor(e,t,o){this._firestore=e,this._userDataWriter=t,this._delegate=o}fromFirestore(e,t){const o=new sf(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Pl(this._firestore,o),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const o=Wc.INSTANCES;let u=o.get(e);u||(u=new WeakMap,o.set(e,u));let f=u.get(t);return f||(f=new Wc(e,new lf(e),t),u.set(t,f)),f}}Wc.INSTANCES=new WeakMap;class ga{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new lf(e)}static forPath(e,t,o){if(e.length%2!=0)throw new B("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new ga(t,new Bi(t._delegate,o,new Jt(e)))}static forKey(e,t,o){return new ga(t,new Bi(t._delegate,o,e))}get id(){return this._delegate.id}get parent(){return new zc(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new zc(this.firestore,t_(this._delegate,e))}catch(t){throw Io(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Ve.m9)(e))instanceof Bi&&pm(this._delegate,e)}set(e,t){t=tg("DocumentReference.set",t);try{return t?Fm(this._delegate,e,t):Fm(this._delegate,e)}catch(o){throw Io(o,"setDoc()","DocumentReference.set()")}}update(e,t,...o){try{return 1===arguments.length?Qp(this._delegate,e):Qp(this._delegate,e,t,...o)}catch(u){throw Io(u,"updateDoc()","DocumentReference.update()")}}delete(){return function y_(i){return Ol(Dr(i.firestore,xi),[new da(i._key,Zi.none())])}(this._delegate)}onSnapshot(...e){const t=Zm(e),o=Ym(e,u=>new Rl(this.firestore,new nu(this.firestore._delegate,this._userDataWriter,u._key,u._document,u.metadata,this._delegate.converter)));return Jp(this._delegate,t,o)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function p_(i){i=Dr(i,Bi);const e=Dr(i.firestore,xi),t=ws(e),o=new Gc(e);return function Yy(i,e){const t=new ie;return i.asyncQueue.enqueueAndForget((0,oe.Z)(function*(){return(o=(0,oe.Z)(function*(u,f,y){try{const O=yield function(H,q){const he=C(H);return he.persistence.runTransaction("read document","readonly",Ne=>he.Us.ys(Ne,q))}(u,f);O.isFoundDocument()?y.resolve(O):O.isNoDocument()?y.resolve(null):y.reject(new B(S.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(O){const H=Uo(O,`Failed to get document '${f} from cache`);y.reject(H)}}),function(u,f,y){return o.apply(this,arguments)})(yield Hh(i),e,t);var o})),t.promise}(t,i._key).then(u=>new nu(e,o,i._key,u,new ic(null!==u&&u.hasLocalMutations,!0),i.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function g_(i){i=Dr(i,Bi);const e=Dr(i.firestore,xi);return Fp(ws(e),i._key,{source:"server"}).then(t=>uf(e,i,t))}(this._delegate):function km(i){i=Dr(i,Bi);const e=Dr(i.firestore,xi);return Fp(ws(e),i._key).then(t=>uf(e,i,t))}(this._delegate),t.then(o=>new Rl(this.firestore,new nu(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)))}withConverter(e){return new ga(this.firestore,this._delegate.withConverter(e?Wc.getInstance(this.firestore,e):null))}}function Io(i,e,t){return i.message=i.message.replace(e,t),i}function Zm(i){for(const e of i)if("object"==typeof e&&!ng(e))return e;return{}}function Ym(i,e){var t,o;let u;return u=ng(i[0])?i[0]:ng(i[1])?i[1]:"function"==typeof i[0]?{next:i[0],error:i[1],complete:i[2]}:{next:i[1],error:i[2],complete:i[3]},{next:f=>{u.next&&u.next(e(f))},error:null===(t=u.error)||void 0===t?void 0:t.bind(u),complete:null===(o=u.complete)||void 0===o?void 0:o.bind(u)}}class Rl{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new ga(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return zp(this._delegate,e._delegate)}}class Pl extends Rl{data(e){const t=this._delegate.data(e);return function _(i,e){i||b()}(void 0!==t),t}}class oo{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new lf(e)}where(e,t,o){try{return new oo(this.firestore,Cu(this._delegate,function d_(i,e,t){const o=e,u=xd("where",i);return new l_(u,o,t)}(e,t,o)))}catch(u){throw Io(u,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new oo(this.firestore,Cu(this._delegate,function h_(i,e="asc"){const t=e,o=xd("orderBy",i);return new Sm(o,t)}(e,t)))}catch(o){throw Io(o,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new oo(this.firestore,Cu(this._delegate,function xm(i){return qh("limit",i),new Kp("limit",i,"F")}(e)))}catch(t){throw Io(t,"limit()","Query.limit()")}}limitToLast(e){try{return new oo(this.firestore,Cu(this._delegate,function Ml(i){return qh("limitToLast",i),new Kp("limitToLast",i,"L")}(e)))}catch(t){throw Io(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new oo(this.firestore,Cu(this._delegate,function f_(...i){return new Mm("startAt",i,!0)}(...e)))}catch(t){throw Io(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new oo(this.firestore,Cu(this._delegate,function Om(...i){return new Mm("startAfter",i,!1)}(...e)))}catch(t){throw Io(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new oo(this.firestore,Cu(this._delegate,function Pm(...i){return new Rm("endBefore",i,!1)}(...e)))}catch(t){throw Io(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new oo(this.firestore,Cu(this._delegate,function Fv(...i){return new Rm("endAt",i,!0)}(...e)))}catch(t){throw Io(t,"endAt()","Query.endAt()")}}isEqual(e){return Lp(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function Yp(i){i=Dr(i,so);const e=Dr(i.firestore,xi),t=ws(e),o=new Gc(e);return function Qy(i,e){const t=new ie;return i.asyncQueue.enqueueAndForget((0,oe.Z)(function*(){return(o=(0,oe.Z)(function*(u,f,y){try{const O=yield Da(u,f,!0),H=new _p(f,O.Ks),q=H.Ic(O.documents),he=H.applyChanges(q,!1);y.resolve(he.snapshot)}catch(O){const H=Uo(O,`Failed to execute query '${f} against cache`);y.reject(H)}}),function(u,f,y){return o.apply(this,arguments)})(yield Hh(i),e,t);var o})),t.promise}(t,i._query).then(u=>new sc(e,o,i,u))}(this._delegate):"server"===(null==e?void 0:e.source)?function Md(i){i=Dr(i,so);const e=Dr(i.firestore,xi),t=ws(e),o=new Gc(e);return am(t,i._query,{source:"server"}).then(u=>new sc(e,o,i,u))}(this._delegate):function m_(i){i=Dr(i,so);const e=Dr(i.firestore,xi),t=ws(e),o=new Gc(e);return Am(i._query),am(t,i._query).then(u=>new sc(e,o,i,u))}(this._delegate),t.then(o=>new df(this.firestore,new sc(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)))}onSnapshot(...e){const t=Zm(e),o=Ym(e,u=>new df(this.firestore,new sc(this.firestore._delegate,this._userDataWriter,this._delegate,u._snapshot)));return Jp(this._delegate,t,o)}withConverter(e){return new oo(this.firestore,this._delegate.withConverter(e?Wc.getInstance(this.firestore,e):null))}}class Qm{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Pl(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class df{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new oo(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Pl(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new Qm(this._firestore,t))}forEach(e,t){this._delegate.forEach(o=>{e.call(t,new Pl(this._firestore,o))})}isEqual(e){return zp(this._delegate,e._delegate)}}class zc extends oo{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new ga(this.firestore,e):null}doc(e){try{return new ga(this.firestore,void 0===e?Du(this._delegate):Du(this._delegate,e))}catch(t){throw Io(t,"doc()","CollectionReference.doc()")}}add(e){return function Lm(i,e){const t=Dr(i.firestore,xi),o=Du(i),u=Xo(i.converter,e);return Ol(t,[Td(nc(i.firestore),"addDoc",o._key,u,null!==i.converter,{}).toMutation(o._key,Zi.exists(!1))]).then(()=>o)}(this._delegate,e).then(t=>new ga(this.firestore,t))}isEqual(e){return pm(this._delegate,e._delegate)}withConverter(e){return new zc(this.firestore,this._delegate.withConverter(e?Wc.getInstance(this.firestore,e):null))}}function oc(i){return Dr(i,Bi)}class hf{constructor(...e){this._delegate=new tu(...e)}static documentId(){return new hf(is.keyField().canonicalString())}isEqual(e){return(e=(0,Ve.m9)(e))instanceof tu&&this._delegate._internalPath.isEqual(e._internalPath)}}class ac{constructor(e){this._delegate=e}static serverTimestamp(){const e=function Um(){return new Xh("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new ac(e)}static delete(){const e=function cf(){return new Hc("deleteField")}();return e._methodName="FieldValue.delete",new ac(e)}static arrayUnion(...e){const t=function Bm(...i){return new $p("arrayUnion",i)}(...e);return t._methodName="FieldValue.arrayUnion",new ac(t)}static arrayRemove(...e){const t=function jm(...i){return new Im("arrayRemove",i)}(...e);return t._methodName="FieldValue.arrayRemove",new ac(t)}static increment(e){const t=function $m(i){return new u_("increment",i)}(e);return t._methodName="FieldValue.increment",new ac(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const Jm={Firestore:zm,GeoPoint:$c,Timestamp:gi,Blob:Od,Transaction:Km,WriteBatch:qm,DocumentReference:ga,DocumentSnapshot:Rl,Query:oo,QueryDocumentSnapshot:Pl,QuerySnapshot:df,CollectionReference:zc,FieldPath:hf,FieldValue:ac,setLogLevel:function I_(i){!function Fa(i){no.setLogLevel(i)}(i)},CACHE_SIZE_UNLIMITED:-1};!function Kc(i){(function Xm(i,e){i.INTERNAL.registerComponent(new Ue.wA("firestore-compat",t=>{const o=t.getProvider("app-compat").getImmediate(),u=t.getProvider("firestore").getImmediate();return e(o,u)},"PUBLIC").setServiceProps(Object.assign({},Jm)))})(i,(e,t)=>new zm(e,t,new b_)),i.registerVersion("@firebase/firestore-compat","0.1.14")}(Fe.Z);var uc=T(1041),D_=T(440),Nl=T(127);function ff(i,e){return function Lv(i,e=L.z){return new V.y(t=>{let o;return null!=e?e.schedule(()=>{o=i.onSnapshot({includeMetadataChanges:!0},t)}):o=i.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=o&&o()}})}(i,e)}function pf(i,e){return ff(i,e).pipe((0,X.U)(t=>({payload:t,type:"query"})))}function Rd(i,e){return pf(i,e).pipe((0,J.O)(void 0),ne(),(0,X.U)(([t,o])=>{const u=o.payload.docChanges(),f=u.map(y=>({type:y.type,payload:y}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(o.payload.metadata)&&o.payload.docs.forEach((y,O)=>{const H=u.find(he=>he.doc.ref.isEqual(y.ref)),q=null==t?void 0:t.payload.docs.find(he=>he.ref.isEqual(y.ref));H&&JSON.stringify(H.doc.metadata)===JSON.stringify(y.metadata)||!H&&q&&JSON.stringify(q.metadata)===JSON.stringify(y.metadata)||f.push({type:"modified",payload:{oldIndex:O,newIndex:O,type:"modified",doc:y}})}),f}))}function C_(i,e,t){return Rd(i,t).pipe((0,re.R)((o,u)=>function Rn(i,e,t){return e.forEach(o=>{t.indexOf(o.type)>-1&&(i=function T_(i,e){switch(e.type){case"added":if(!i[e.newIndex]||!i[e.newIndex].doc.ref.isEqual(e.doc.ref))return rg(i,e.newIndex,0,e);break;case"modified":if(null==i[e.oldIndex]||i[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=i.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return rg(i,e.newIndex,1,e)}break;case"removed":if(i[e.oldIndex]&&i[e.oldIndex].doc.ref.isEqual(e.doc.ref))return rg(i,e.oldIndex,1)}return i}(i,o))}),i}(o,u.map(f=>f.payload),e),[]),(0,je.x)(),(0,X.U)(o=>o.map(u=>({type:u.type,payload:u}))))}function rg(i,e,t,...o){const u=i.slice();return u.splice(e,t,...o),u}function ey(i){return(!i||0===i.length)&&(i=["added","removed","modified"]),i}class Pd{constructor(e,t,o){this.ref=e,this.query=t,this.afs=o}stateChanges(e){let t=Rd(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,X.U)(o=>o.filter(u=>e.indexOf(u.type)>-1)))),t.pipe((0,J.O)(void 0),ne(),(0,Oe.h)(([o,u])=>u.length>0||!o),(0,X.U)(([o,u])=>u),le.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,re.R)((t,o)=>[...t,...o],[]))}snapshotChanges(e){const t=ey(e);return C_(this.query,t,this.afs.schedulers.outsideAngular).pipe(le.iC)}valueChanges(e={}){return pf(this.query,this.afs.schedulers.outsideAngular).pipe((0,X.U)(t=>t.payload.docs.map(o=>e.idField?Object.assign(Object.assign({},o.data()),{[e.idField]:o.id}):o.data())),le.iC)}get(e){return(0,ue.D)(this.query.get(e)).pipe(le.iC)}add(e){return this.ref.add(e)}doc(e){return new ty(this.ref.doc(e),this.afs)}}class ty{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const o=this.ref.collection(e),{ref:u,query:f}=ry(o,t);return new Pd(u,f,this.afs)}snapshotChanges(){return function Vv(i,e){return ff(i,e).pipe((0,J.O)(void 0),ne(),(0,X.U)(([t,o])=>o.exists?(null==t?void 0:t.exists)?{payload:o,type:"modified"}:{payload:o,type:"added"}:{payload:o,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(le.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,X.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,ue.D)(this.ref.get(e)).pipe(le.iC)}}class gf{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?Rd(this.query,this.afs.schedulers.outsideAngular).pipe((0,X.U)(t=>t.filter(o=>e.indexOf(o.type)>-1)),(0,Oe.h)(t=>t.length>0),le.iC):Rd(this.query,this.afs.schedulers.outsideAngular).pipe(le.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,re.R)((t,o)=>[...t,...o],[]))}snapshotChanges(e){const t=ey(e);return C_(this.query,t,this.afs.schedulers.outsideAngular).pipe(le.iC)}valueChanges(e={}){return pf(this.query,this.afs.schedulers.outsideAngular).pipe((0,X.U)(o=>o.payload.docs.map(u=>e.idField?Object.assign({[e.idField]:u.id},u.data()):u.data())),le.iC)}get(e){return(0,ue.D)(this.query.get(e)).pipe(le.iC)}}const Nd=new p.OlP("angularfire2.enableFirestorePersistence"),Xi=new p.OlP("angularfire2.firestore.persistenceSettings"),Uv=new p.OlP("angularfire2.firestore.settings"),ny=new p.OlP("angularfire2.firestore.use-emulator");function ry(i,e=(t=>t)){return{query:e(i),ref:i}}let iy=(()=>{class i{constructor(t,o,u,f,y,O,H,q,he,Ne,it,_t,At,cn,jn,cs,ao){this.schedulers=H;const Au=(0,$e.on)(t,O,o),Ma=he;Ne&&(0,uc.nw)(Au,O,it,At,cn,jn,_t,cs),[this.firestore,this.persistenceEnabled$]=(0,$e.cc)(`${Au.name}.firestore`,"AngularFirestore",Au.name,()=>{const Oa=O.runOutsideAngular(()=>Au.firestore());if(f&&Oa.settings(f),Ma&&Oa.useEmulator(...Ma),u&&!(0,ot.PM)(y)){const mf=()=>{try{return(0,ue.D)(Oa.enablePersistence(q||void 0).then(()=>!0,()=>!1))}catch(yf){return"undefined"!=typeof console&&console.warn(yf),(0,ee.of)(!1)}};return[Oa,O.runOutsideAngular(mf)]}return[Oa,(0,ee.of)(!1)]},[f,Ma,u])}collection(t,o){let u;u="string"==typeof t?this.firestore.collection(t):t;const{ref:f,query:y}=ry(u,o),O=this.schedulers.ngZone.run(()=>f);return new Pd(O,y,this)}collectionGroup(t,o){const u=o||(y=>y),f=this.firestore.collectionGroup(t);return new gf(u(f),this)}doc(t){let o;o="string"==typeof t?this.firestore.doc(t):t;const u=this.schedulers.ngZone.run(()=>o);return new ty(u,this)}createId(){return this.firestore.collection("_").doc().id}}return i.\u0275fac=function(t){return new(t||i)(p.LFG($e.Dh),p.LFG($e.xv,8),p.LFG(Nd,8),p.LFG(Uv,8),p.LFG(p.Lbi),p.LFG(p.R0b),p.LFG(le.HU),p.LFG(Xi,8),p.LFG(ny,8),p.LFG(uc.zQ,8),p.LFG(uc.Qv,8),p.LFG(uc.L6,8),p.LFG(uc._Q,8),p.LFG(uc.rT,8),p.LFG(uc.lh,8),p.LFG(uc.f7,8),p.LFG(D_.nm,8))},i.\u0275prov=p.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})(),sy=(()=>{class i{constructor(){Nl.Z.registerVersion("angularfire",le.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:i,providers:[{provide:Nd,useValue:!0},{provide:Xi,useValue:t}]}}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=p.oAB({type:i}),i.\u0275inj=p.cJS({providers:[iy]}),i})()},2011:(Me,te,T)=>{"use strict";T.d(te,{hO:()=>je,xv:()=>ne,Dh:()=>ae,GT:()=>le,cc:()=>Oe,on:()=>J,pX:()=>ee});var p=T(5e3),L=T(127),V=T(6351);Me=T.hmd(Me);const ue=["ngOnDestroy"],ee=(Fe,oe,nt,Ue={})=>new Proxy(Fe,{get:(Ce,Ve)=>nt.runOutsideAngular(()=>{var yt;if(Fe[Ve])return(null===(yt=null==Ue?void 0:Ue.spy)||void 0===yt?void 0:yt.get)&&Ue.spy.get(Ve,Fe[Ve]),Fe[Ve];if(ue.indexOf(Ve)>-1)return()=>{};const ve=oe.toPromise().then(we=>{const xe=we&&we[Ve];return"function"==typeof xe?xe.bind(we):xe&&xe.then?xe.then(Ae=>nt.run(()=>Ae)):nt.run(()=>xe)});return new Proxy(()=>{},{get:(we,xe)=>ve[xe],apply:(we,xe,Ae)=>ve.then(ze=>{var ke;const ht=ze&&ze(...Ae);return(null===(ke=null==Ue?void 0:Ue.spy)||void 0===ke?void 0:ke.apply)&&Ue.spy.apply(Ve,Ae,ht),ht})})})}),le=(Fe,oe)=>{oe.forEach(nt=>{Object.getOwnPropertyNames(nt.prototype||nt).forEach(Ue=>{Object.defineProperty(Fe.prototype,Ue,Object.getOwnPropertyDescriptor(nt.prototype||nt,Ue))})})};class ye{constructor(oe){return oe}}const ae=new p.OlP("angularfire2.app.options"),ne=new p.OlP("angularfire2.app.name");function J(Fe,oe,nt){const Ce="object"==typeof nt&&nt||{};Ce.name=Ce.name||"string"==typeof nt&&nt||"[DEFAULT]";const yt=L.Z.apps.filter(ve=>ve&&ve.name===Ce.name)[0]||oe.runOutsideAngular(()=>L.Z.initializeApp(Fe,Ce));try{JSON.stringify(Fe)!==JSON.stringify(yt.options)&&X("error",`${yt.name} Firebase App already initialized with different options${Me.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(ve){}return new ye(yt)}const X=(Fe,...oe)=>{(0,p.X6Q)()&&"undefined"!=typeof console&&console[Fe](...oe)},re={provide:ye,useFactory:J,deps:[ae,p.R0b,[new p.FiY,ne]]};let je=(()=>{class Fe{constructor(nt){L.Z.registerVersion("angularfire",V.q4.full,"core"),L.Z.registerVersion("angularfire",V.q4.full,"app-compat"),L.Z.registerVersion("angular",p.q4F.full,nt.toString())}static initializeApp(nt,Ue){return{ngModule:Fe,providers:[{provide:ae,useValue:nt},{provide:ne,useValue:Ue}]}}}return Fe.\u0275fac=function(nt){return new(nt||Fe)(p.LFG(p.Lbi))},Fe.\u0275mod=p.oAB({type:Fe}),Fe.\u0275inj=p.cJS({providers:[re]}),Fe})();function Oe(Fe,oe,nt,Ue,Ce){const[,Ve,yt]=globalThis.\u0275AngularfireInstanceCache.find(ve=>ve[0]===Fe)||[];if(Ve)return function $e(Fe,oe){try{return Fe.toString()===oe.toString()}catch(nt){return Fe===oe}}(Ce,yt)||(De("error",`${oe} was already initialized on the ${nt} Firebase App with different settings.${ot?" You may need to reload as Firebase is not HMR aware.":""}`),De("warn",{is:Ce,was:yt})),Ve;{const ve=Ue();return globalThis.\u0275AngularfireInstanceCache.push([Fe,ve,Ce]),ve}}const ot=!!Me.hot,De=(Fe,...oe)=>{(0,p.X6Q)()&&"undefined"!=typeof console&&console[Fe](...oe)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},6351:(Me,te,T)=>{"use strict";T.d(te,{q4:()=>qc,iC:()=>uu,HU:()=>Ru,vb:()=>sa,JM:()=>xo});var p=T(5e3),L=T(5867),V=T(5861),ue=T(9681),ee=T(2090),le=T(4859),ye=T(1877),ae=T(2940);const ne="@firebase/installations",J="0.5.5",re=`w:${J}`,je="FIS_v2",oe=new ee.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function nt(x){return x instanceof ee.ZR&&x.code.includes("request-failed")}function Ue({projectId:x}){return`https://firebaseinstallations.googleapis.com/v1/projects/${x}/installations`}function Ce(x){return{token:x.token,requestStatus:2,expiresIn:ze(x.expiresIn),creationTime:Date.now()}}function Ve(x,k){return yt.apply(this,arguments)}function yt(){return(yt=(0,V.Z)(function*(x,k){const fe=(yield k.json()).error;return oe.create("request-failed",{requestName:x,serverCode:fe.code,serverMessage:fe.message,serverStatus:fe.status})})).apply(this,arguments)}function ve({apiKey:x}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":x})}function we(x,{refreshToken:k}){const K=ve(x);return K.append("Authorization",function ke(x){return`${je} ${x}`}(k)),K}function xe(x){return Ae.apply(this,arguments)}function Ae(){return(Ae=(0,V.Z)(function*(x){const k=yield x();return k.status>=500&&k.status<600?x():k})).apply(this,arguments)}function ze(x){return Number(x.replace("s","000"))}function ht(x,k){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,V.Z)(function*(x,{fid:k}){const K=Ue(x),st={method:"POST",headers:ve(x),body:JSON.stringify({fid:k,authVersion:je,appId:x.appId,sdkVersion:re})},Tt=yield xe(()=>fetch(K,st));if(Tt.ok){const Kt=yield Tt.json();return{fid:Kt.fid||k,registrationStatus:2,refreshToken:Kt.refreshToken,authToken:Ce(Kt.authToken)}}throw yield Ve("Create Installation",Tt)})).apply(this,arguments)}function xt(x){return new Promise(k=>{setTimeout(k,x)})}const In=/^[cdef][\w-]{21}$/;function St(){try{const x=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(x),x[0]=112+x[0]%16;const K=function gn(x){return function Lt(x){return btoa(String.fromCharCode(...x)).replace(/\+/g,"-").replace(/\//g,"_")}(x).substr(0,22)}(x);return In.test(K)?K:""}catch(x){return""}}function Bt(x){return`${x.appName}!${x.appId}`}const yn=new Map;function $t(x,k){const K=Bt(x);ln(K,k),function er(x,k){const K=function Ln(){return!Zn&&"BroadcastChannel"in self&&(Zn=new BroadcastChannel("[Firebase] FID Change"),Zn.onmessage=x=>{ln(x.data.key,x.data.fid)}),Zn}();K&&K.postMessage({key:x,fid:k}),function xn(){0===yn.size&&Zn&&(Zn.close(),Zn=null)}()}(K,k)}function ln(x,k){const K=yn.get(x);if(K)for(const fe of K)fe(k)}let Zn=null;const tr="firebase-installations-store";let fn=null;function Rt(){return fn||(fn=(0,ae.openDb)("firebase-installations-database",1,x=>{0===x.oldVersion&&x.createObjectStore(tr)})),fn}function $n(x,k){return nn.apply(this,arguments)}function nn(){return(nn=(0,V.Z)(function*(x,k){const K=Bt(x),We=(yield Rt()).transaction(tr,"readwrite"),st=We.objectStore(tr),Tt=yield st.get(K);return yield st.put(k,K),yield We.complete,(!Tt||Tt.fid!==k.fid)&&$t(x,k.fid),k})).apply(this,arguments)}function wn(x){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,V.Z)(function*(x){const k=Bt(x),fe=(yield Rt()).transaction(tr,"readwrite");yield fe.objectStore(tr).delete(k),yield fe.complete})).apply(this,arguments)}function Rr(x,k){return rn.apply(this,arguments)}function rn(){return(rn=(0,V.Z)(function*(x,k){const K=Bt(x),We=(yield Rt()).transaction(tr,"readwrite"),st=We.objectStore(tr),Tt=yield st.get(K),Kt=k(Tt);return void 0===Kt?yield st.delete(K):yield st.put(Kt,K),yield We.complete,Kt&&(!Tt||Tt.fid!==Kt.fid)&&$t(x,Kt.fid),Kt})).apply(this,arguments)}function Vn(x){return pr.apply(this,arguments)}function pr(){return(pr=(0,V.Z)(function*(x){let k;const K=yield Rr(x,fe=>{const We=Hn(fe),st=Et(x,We);return k=st.registrationPromise,st.installationEntry});return""===K.fid?{installationEntry:yield k}:{installationEntry:K,registrationPromise:k}})).apply(this,arguments)}function Hn(x){return Gr(x||{fid:St(),registrationStatus:0})}function Et(x,k){if(0===k.registrationStatus){if(!navigator.onLine)return{installationEntry:k,registrationPromise:Promise.reject(oe.create("app-offline"))};const K={fid:k.fid,registrationStatus:1,registrationTime:Date.now()},fe=function Pt(x,k){return Ht.apply(this,arguments)}(x,K);return{installationEntry:K,registrationPromise:fe}}return 1===k.registrationStatus?{installationEntry:k,registrationPromise:gr(x)}:{installationEntry:k}}function Ht(){return(Ht=(0,V.Z)(function*(x,k){try{return $n(x,yield ht(x,k))}catch(K){throw nt(K)&&409===K.customData.serverCode?yield wn(x):yield $n(x,{fid:k.fid,registrationStatus:0}),K}})).apply(this,arguments)}function gr(x){return zn.apply(this,arguments)}function zn(){return(zn=(0,V.Z)(function*(x){let k=yield Dn(x);for(;1===k.registrationStatus;)yield xt(100),k=yield Dn(x);if(0===k.registrationStatus){const{installationEntry:K,registrationPromise:fe}=yield Vn(x);return fe||K}return k})).apply(this,arguments)}function Dn(x){return Rr(x,k=>{if(!k)throw oe.create("installation-not-found");return Gr(k)})}function Gr(x){return function Cr(x){return 1===x.registrationStatus&&x.registrationTime+1e4<Date.now()}(x)?{fid:x.fid,registrationStatus:0}:x}function nr(x,k){return pe.apply(this,arguments)}function pe(){return(pe=(0,V.Z)(function*({appConfig:x,platformLoggerProvider:k},K){const fe=Ee(x,K),We=we(x,K),st=k.getImmediate({optional:!0});st&&We.append("x-firebase-client",st.getPlatformInfoString());const Kt={method:"POST",headers:We,body:JSON.stringify({installation:{sdkVersion:re}})},tn=yield xe(()=>fetch(fe,Kt));if(tn.ok)return Ce(yield tn.json());throw yield Ve("Generate Auth Token",tn)})).apply(this,arguments)}function Ee(x,{fid:k}){return`${Ue(x)}/${k}/authTokens:generate`}function Te(x){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,V.Z)(function*(x,k=!1){let K;const fe=yield Rr(x.appConfig,st=>{if(!Nt(st))throw oe.create("not-registered");const Tt=st.authToken;if(!k&&vn(Tt))return st;if(1===Tt.requestStatus)return K=He(x,k),st;{if(!navigator.onLine)throw oe.create("app-offline");const Kt=Mn(st);return K=tt(x,Kt),Kt}});return K?yield K:fe.authToken})).apply(this,arguments)}function He(x,k){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,V.Z)(function*(x,k){let K=yield et(x.appConfig);for(;1===K.authToken.requestStatus;)yield xt(100),K=yield et(x.appConfig);const fe=K.authToken;return 0===fe.requestStatus?Te(x,k):fe})).apply(this,arguments)}function et(x){return Rr(x,k=>{if(!Nt(k))throw oe.create("not-registered");return function Kn(x){return 1===x.requestStatus&&x.requestTime+1e4<Date.now()}(k.authToken)?Object.assign(Object.assign({},k),{authToken:{requestStatus:0}}):k})}function tt(x,k){return wt.apply(this,arguments)}function wt(){return(wt=(0,V.Z)(function*(x,k){try{const K=yield nr(x,k),fe=Object.assign(Object.assign({},k),{authToken:K});return yield $n(x.appConfig,fe),K}catch(K){if(!nt(K)||401!==K.customData.serverCode&&404!==K.customData.serverCode){const fe=Object.assign(Object.assign({},k),{authToken:{requestStatus:0}});yield $n(x.appConfig,fe)}else yield wn(x.appConfig);throw K}})).apply(this,arguments)}function Nt(x){return void 0!==x&&2===x.registrationStatus}function vn(x){return 2===x.requestStatus&&!function qt(x){const k=Date.now();return k<x.creationTime||x.creationTime+x.expiresIn<k+36e5}(x)}function Mn(x){const k={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},x),{authToken:k})}function wr(){return(wr=(0,V.Z)(function*(x){const k=x,{installationEntry:K,registrationPromise:fe}=yield Vn(k.appConfig);return fe?fe.catch(console.error):Te(k).catch(console.error),K.fid})).apply(this,arguments)}function dn(){return(dn=(0,V.Z)(function*(x,k=!1){const K=x;return yield rr(K.appConfig),(yield Te(K,k)).token})).apply(this,arguments)}function rr(x){return yr.apply(this,arguments)}function yr(){return(yr=(0,V.Z)(function*(x){const{registrationPromise:k}=yield Vn(x);k&&(yield k)})).apply(this,arguments)}function Sr(x){return oe.create("missing-app-config-values",{valueName:x})}const On="installations",an=x=>{const k=x.getProvider("app").getImmediate(),K=function Wt(x){if(!x||!x.options)throw Sr("App Configuration");if(!x.name)throw Sr("App Name");const k=["projectId","apiKey","appId"];for(const K of k)if(!x.options[K])throw Sr(K);return{appName:x.name,projectId:x.options.projectId,apiKey:x.options.apiKey,appId:x.options.appId}}(k);return{app:k,appConfig:K,platformLoggerProvider:(0,ue._getProvider)(k,"platform-logger"),_delete:()=>Promise.resolve()}},Bn=x=>{const k=x.getProvider("app").getImmediate(),K=(0,ue._getProvider)(k,On).getImmediate();return{getId:()=>function ai(x){return wr.apply(this,arguments)}(K),getToken:We=>function Pn(x){return dn.apply(this,arguments)}(K,We)}};(function Tr(){(0,ue._registerComponent)(new le.wA(On,an,"PUBLIC")),(0,ue._registerComponent)(new le.wA("installations-internal",Bn,"PRIVATE"))})(),(0,ue.registerVersion)(ne,J),(0,ue.registerVersion)(ne,J,"esm2017");const zr="@firebase/remote-config",Yn=new ee.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Er{constructor(k,K,fe,We){this.client=k,this.storage=K,this.storageCache=fe,this.logger=We}isCachedDataFresh(k,K){if(!K)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const fe=Date.now()-K,We=fe<=k;return this.logger.debug(`Config fetch cache check. Cache age millis: ${fe}. Cache max age millis (minimumFetchIntervalMillis setting): ${k}. Is cache hit: ${We}.`),We}fetch(k){var K=this;return(0,V.Z)(function*(){const[fe,We]=yield Promise.all([K.storage.getLastSuccessfulFetchTimestampMillis(),K.storage.getLastSuccessfulFetchResponse()]);if(We&&K.isCachedDataFresh(k.cacheMaxAgeMillis,fe))return We;k.eTag=We&&We.eTag;const st=yield K.client.fetch(k),Tt=[K.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===st.status&&Tt.push(K.storage.setLastSuccessfulFetchResponse(st)),yield Promise.all(Tt),st})()}}function ji(x=navigator){return x.languages&&x.languages[0]||x.language}class hr{constructor(k,K,fe,We,st,Tt){this.firebaseInstallations=k,this.sdkVersion=K,this.namespace=fe,this.projectId=We,this.apiKey=st,this.appId=Tt}fetch(k){var K=this;return(0,V.Z)(function*(){const[fe,We]=yield Promise.all([K.firebaseInstallations.getId(),K.firebaseInstallations.getToken()]),Tt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${K.projectId}/namespaces/${K.namespace}:fetch?key=${K.apiKey}`,Kt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":k.eTag||"*"},tn={sdk_version:K.sdkVersion,app_instance_id:fe,app_instance_id_token:We,app_id:K.appId,language_code:ji()},ar={method:"POST",headers:Kt,body:JSON.stringify(tn)},Fr=fetch(Tt,ar),Ur=new Promise((Oo,oa)=>{k.signal.addEventListener(()=>{const pc=new Error("The operation was aborted.");pc.name="AbortError",oa(pc)})});let Br;try{yield Promise.race([Fr,Ur]),Br=yield Fr}catch(Oo){let oa="fetch-client-network";throw"AbortError"===Oo.name&&(oa="fetch-timeout"),Yn.create(oa,{originalErrorMessage:Oo.message})}let os=Br.status;const Ua=Br.headers.get("ETag")||void 0;let Ba,wo;if(200===Br.status){let Oo;try{Oo=yield Br.json()}catch(oa){throw Yn.create("fetch-client-parse",{originalErrorMessage:oa.message})}Ba=Oo.entries,wo=Oo.state}if("INSTANCE_STATE_UNSPECIFIED"===wo?os=500:"NO_CHANGE"===wo?os=304:("NO_TEMPLATE"===wo||"EMPTY_CONFIG"===wo)&&(Ba={}),304!==os&&200!==os)throw Yn.create("fetch-status",{httpStatus:os});return{status:os,eTag:Ua,config:Ba}})()}}class Re{constructor(k,K){this.client=k,this.storage=K}fetch(k){var K=this;return(0,V.Z)(function*(){const fe=(yield K.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return K.attemptFetch(k,fe)})()}attemptFetch(k,{throttleEndTimeMillis:K,backoffCount:fe}){var We=this;return(0,V.Z)(function*(){yield function Zs(x,k){return new Promise((K,fe)=>{const We=Math.max(k-Date.now(),0),st=setTimeout(K,We);x.addEventListener(()=>{clearTimeout(st),fe(Yn.create("fetch-throttle",{throttleEndTimeMillis:k}))})})}(k.signal,K);try{const st=yield We.client.fetch(k);return yield We.storage.deleteThrottleMetadata(),st}catch(st){if(!function Es(x){if(!(x instanceof ee.ZR&&x.customData))return!1;const k=Number(x.customData.httpStatus);return 429===k||500===k||503===k||504===k}(st))throw st;const Tt={throttleEndTimeMillis:Date.now()+(0,ee.$s)(fe),backoffCount:fe+1};return yield We.storage.setThrottleMetadata(Tt),We.attemptFetch(k,Tt)}})()}}class ft{constructor(k,K,fe,We,st){this.app=k,this._client=K,this._storageCache=fe,this._storage=We,this._logger=st,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Dt(x,k){const K=x.target.error||void 0;return Yn.create(k,{originalErrorMessage:K&&K.message})}const jt="app_namespace_store";class fi{constructor(k,K,fe,We=function or(){return new Promise((x,k)=>{try{const K=indexedDB.open("firebase_remote_config",1);K.onerror=fe=>{k(Dt(fe,"storage-open"))},K.onsuccess=fe=>{x(fe.target.result)},K.onupgradeneeded=fe=>{0===fe.oldVersion&&fe.target.result.createObjectStore(jt,{keyPath:"compositeKey"})}}catch(K){k(Yn.create("storage-open",{originalErrorMessage:K}))}})}()){this.appId=k,this.appName=K,this.namespace=fe,this.openDbPromise=We}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(k){return this.set("last_fetch_status",k)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(k){return this.set("last_successful_fetch_timestamp_millis",k)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(k){return this.set("last_successful_fetch_response",k)}getActiveConfig(){return this.get("active_config")}setActiveConfig(k){return this.set("active_config",k)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(k){return this.set("active_config_etag",k)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(k){return this.set("throttle_metadata",k)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(k){var K=this;return(0,V.Z)(function*(){const fe=yield K.openDbPromise;return new Promise((We,st)=>{const Kt=fe.transaction([jt],"readonly").objectStore(jt),tn=K.createCompositeKey(k);try{const ar=Kt.get(tn);ar.onerror=Fr=>{st(Dt(Fr,"storage-get"))},ar.onsuccess=Fr=>{const Ur=Fr.target.result;We(Ur?Ur.value:void 0)}}catch(ar){st(Yn.create("storage-get",{originalErrorMessage:ar&&ar.message}))}})})()}set(k,K){var fe=this;return(0,V.Z)(function*(){const We=yield fe.openDbPromise;return new Promise((st,Tt)=>{const tn=We.transaction([jt],"readwrite").objectStore(jt),ar=fe.createCompositeKey(k);try{const Fr=tn.put({compositeKey:ar,value:K});Fr.onerror=Ur=>{Tt(Dt(Ur,"storage-set"))},Fr.onsuccess=()=>{st()}}catch(Fr){Tt(Yn.create("storage-set",{originalErrorMessage:Fr&&Fr.message}))}})})()}delete(k){var K=this;return(0,V.Z)(function*(){const fe=yield K.openDbPromise;return new Promise((We,st)=>{const Kt=fe.transaction([jt],"readwrite").objectStore(jt),tn=K.createCompositeKey(k);try{const ar=Kt.delete(tn);ar.onerror=Fr=>{st(Dt(Fr,"storage-delete"))},ar.onsuccess=()=>{We()}}catch(ar){st(Yn.create("storage-delete",{originalErrorMessage:ar&&ar.message}))}})})()}createCompositeKey(k){return[this.appId,this.appName,this.namespace,k].join()}}class $i{constructor(k){this.storage=k}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var k=this;return(0,V.Z)(function*(){const K=k.storage.getLastFetchStatus(),fe=k.storage.getLastSuccessfulFetchTimestampMillis(),We=k.storage.getActiveConfig(),st=yield K;st&&(k.lastFetchStatus=st);const Tt=yield fe;Tt&&(k.lastSuccessfulFetchTimestampMillis=Tt);const Kt=yield We;Kt&&(k.activeConfig=Kt)})()}setLastFetchStatus(k){return this.lastFetchStatus=k,this.storage.setLastFetchStatus(k)}setLastSuccessfulFetchTimestampMillis(k){return this.lastSuccessfulFetchTimestampMillis=k,this.storage.setLastSuccessfulFetchTimestampMillis(k)}setActiveConfig(k){return this.activeConfig=k,this.storage.setActiveConfig(k)}}function Hs(){return ps.apply(this,arguments)}function ps(){return(ps=(0,V.Z)(function*(){if(!(0,ee.hl)())return!1;try{return yield(0,ee.eu)()}catch(x){return!1}})).apply(this,arguments)}!function es(){(0,ue._registerComponent)(new le.wA("remote-config",function x(k,{instanceIdentifier:K}){const fe=k.getProvider("app").getImmediate(),We=k.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Yn.create("registration-window");if(!(0,ee.hl)())throw Yn.create("indexed-db-unavailable");const{projectId:st,apiKey:Tt,appId:Kt}=fe.options;if(!st)throw Yn.create("registration-project-id");if(!Tt)throw Yn.create("registration-api-key");if(!Kt)throw Yn.create("registration-app-id");const tn=new fi(Kt,fe.name,K=K||"firebase"),ar=new $i(tn),Fr=new ye.Yd(zr);Fr.logLevel=ye.in.ERROR;const Ur=new hr(We,ue.SDK_VERSION,K,st,Tt,Kt),Br=new Re(Ur,tn),os=new Er(Br,tn,ar,Fr),Ua=new ft(fe,os,ar,tn,Fr);return function Ut(x){const k=(0,ee.m9)(x);k._initializePromise||(k._initializePromise=k._storageCache.loadFromStorage().then(()=>{k._isInitializationComplete=!0}))}(Ua),Ua},"PUBLIC").setMultipleInstances(!0)),(0,ue.registerVersion)(zr,"0.3.4"),(0,ue.registerVersion)(zr,"0.3.4","esm2017")}();const ts="/firebase-messaging-sw.js",pi="/firebase-cloud-messaging-push-scope",Di="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ls="google.c.a.c_id",Gs="google.c.a.c_l",Hi="google.c.a.ts",bs="google.c.a.e";var Gi=(()=>{return(x=Gi||(Gi={})).PUSH_RECEIVED="push-received",x.NOTIFICATION_CLICKED="notification-clicked",Gi;var x})();function jr(x){const k=new Uint8Array(x);return btoa(String.fromCharCode(...k)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Ws(x){const K=(x+"=".repeat((4-x.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),fe=atob(K),We=new Uint8Array(fe.length);for(let st=0;st<fe.length;++st)We[st]=fe.charCodeAt(st);return We}const Mr="fcm_token_details_db",Is="fcm_token_object_Store";function Ys(x){return vi.apply(this,arguments)}function vi(){return vi=(0,V.Z)(function*(x){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(st=>st.name).includes(Mr))return null;let k=null;return(yield(0,ae.openDb)(Mr,5,function(){var fe=(0,V.Z)(function*(We){var st;if(We.oldVersion<2||!We.objectStoreNames.contains(Is))return;const Tt=We.transaction.objectStore(Is),Kt=yield Tt.index("fcmSenderId").get(x);if(yield Tt.clear(),Kt)if(2===We.oldVersion){const tn=Kt;if(!tn.auth||!tn.p256dh||!tn.endpoint)return;k={token:tn.fcmToken,createTime:null!==(st=tn.createTime)&&void 0!==st?st:Date.now(),subscriptionOptions:{auth:tn.auth,p256dh:tn.p256dh,endpoint:tn.endpoint,swScope:tn.swScope,vapidKey:"string"==typeof tn.vapidKey?tn.vapidKey:jr(tn.vapidKey)}}}else if(3===We.oldVersion){const tn=Kt;k={token:tn.fcmToken,createTime:tn.createTime,subscriptionOptions:{auth:jr(tn.auth),p256dh:jr(tn.p256dh),endpoint:tn.endpoint,swScope:tn.swScope,vapidKey:jr(tn.vapidKey)}}}else if(4===We.oldVersion){const tn=Kt;k={token:tn.fcmToken,createTime:tn.createTime,subscriptionOptions:{auth:jr(tn.auth),p256dh:jr(tn.p256dh),endpoint:tn.endpoint,swScope:tn.swScope,vapidKey:jr(tn.vapidKey)}}}});return function(We){return fe.apply(this,arguments)}}())).close(),yield(0,ae.deleteDb)(Mr),yield(0,ae.deleteDb)("fcm_vapid_details_db"),yield(0,ae.deleteDb)("undefined"),wi(k)?k:null}),vi.apply(this,arguments)}function wi(x){if(!x||!x.subscriptionOptions)return!1;const{subscriptionOptions:k}=x;return"number"==typeof x.createTime&&x.createTime>0&&"string"==typeof x.token&&x.token.length>0&&"string"==typeof k.auth&&k.auth.length>0&&"string"==typeof k.p256dh&&k.p256dh.length>0&&"string"==typeof k.endpoint&&k.endpoint.length>0&&"string"==typeof k.swScope&&k.swScope.length>0&&"string"==typeof k.vapidKey&&k.vapidKey.length>0}const Ri="firebase-messaging-store";let Wi=null;function Gn(){return Wi||(Wi=(0,ae.openDb)("firebase-messaging-database",1,x=>{0===x.oldVersion&&x.createObjectStore(Ri)})),Wi}function N(x){return G.apply(this,arguments)}function G(){return(G=(0,V.Z)(function*(x){const k=pt(x),fe=yield(yield Gn()).transaction(Ri).objectStore(Ri).get(k);if(fe)return fe;{const We=yield Ys(x.appConfig.senderId);if(We)return yield P(x,We),We}})).apply(this,arguments)}function P(x,k){return Z.apply(this,arguments)}function Z(){return(Z=(0,V.Z)(function*(x,k){const K=pt(x),We=(yield Gn()).transaction(Ri,"readwrite");return yield We.objectStore(Ri).put(k,K),yield We.complete,k})).apply(this,arguments)}function _e(x){return Je.apply(this,arguments)}function Je(){return(Je=(0,V.Z)(function*(x){const k=pt(x),fe=(yield Gn()).transaction(Ri,"readwrite");yield fe.objectStore(Ri).delete(k),yield fe.complete})).apply(this,arguments)}function pt({appConfig:x}){return x.appId}const _n=new ee.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function kn(x,k){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,V.Z)(function*(x,k){const K=yield qr(x),fe=ds(k),We={method:"POST",headers:K,body:JSON.stringify(fe)};let st;try{st=yield(yield fetch(Pi(x.appConfig),We)).json()}catch(Tt){throw _n.create("token-subscribe-failed",{errorInfo:Tt})}if(st.error)throw _n.create("token-subscribe-failed",{errorInfo:st.error.message});if(!st.token)throw _n.create("token-subscribe-no-token");return st.token})).apply(this,arguments)}function Wn(x,k){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,V.Z)(function*(x,k){const K=yield qr(x),fe=ds(k.subscriptionOptions),We={method:"PATCH",headers:K,body:JSON.stringify(fe)};let st;try{st=yield(yield fetch(`${Pi(x.appConfig)}/${k.token}`,We)).json()}catch(Tt){throw _n.create("token-update-failed",{errorInfo:Tt})}if(st.error)throw _n.create("token-update-failed",{errorInfo:st.error.message});if(!st.token)throw _n.create("token-update-no-token");return st.token})).apply(this,arguments)}function mr(x,k){return fr.apply(this,arguments)}function fr(){return(fr=(0,V.Z)(function*(x,k){const fe={method:"DELETE",headers:yield qr(x)};try{const st=yield(yield fetch(`${Pi(x.appConfig)}/${k}`,fe)).json();if(st.error)throw _n.create("token-unsubscribe-failed",{errorInfo:st.error.message})}catch(We){throw _n.create("token-unsubscribe-failed",{errorInfo:We})}})).apply(this,arguments)}function Pi({projectId:x}){return`https://fcmregistrations.googleapis.com/v1/projects/${x}/registrations`}function qr(x){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,V.Z)(function*({appConfig:x,installations:k}){const K=yield k.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":x.apiKey,"x-goog-firebase-installations-auth":`FIS ${K}`})})).apply(this,arguments)}function ds({p256dh:x,auth:k,endpoint:K,vapidKey:fe}){const We={web:{endpoint:K,auth:k,p256dh:x}};return fe!==Di&&(We.web.applicationPubKey=fe),We}const zs=6048e5;function F(x){return R.apply(this,arguments)}function R(){return(R=(0,V.Z)(function*(x){const k=yield ur(x.swRegistration,x.vapidKey),K={vapidKey:x.vapidKey,swScope:x.swRegistration.scope,endpoint:k.endpoint,auth:jr(k.getKey("auth")),p256dh:jr(k.getKey("p256dh"))},fe=yield N(x.firebaseDependencies);if(fe){if(zi(fe.subscriptionOptions,K))return Date.now()>=fe.createTime+zs?at(x,{token:fe.token,createTime:Date.now(),subscriptionOptions:K}):fe.token;try{yield mr(x.firebaseDependencies,fe.token)}catch(We){console.warn(We)}return Qt(x.firebaseDependencies,K)}return Qt(x.firebaseDependencies,K)})).apply(this,arguments)}function M(x){return z.apply(this,arguments)}function z(){return(z=(0,V.Z)(function*(x){const k=yield N(x.firebaseDependencies);k&&(yield mr(x.firebaseDependencies,k.token),yield _e(x.firebaseDependencies));const K=yield x.swRegistration.pushManager.getSubscription();return!K||K.unsubscribe()})).apply(this,arguments)}function at(x,k){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,V.Z)(function*(x,k){try{const K=yield Wn(x.firebaseDependencies,k),fe=Object.assign(Object.assign({},k),{token:K,createTime:Date.now()});return yield P(x.firebaseDependencies,fe),K}catch(K){throw yield M(x),K}})).apply(this,arguments)}function Qt(x,k){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,V.Z)(function*(x,k){const fe={token:yield kn(x,k),createTime:Date.now(),subscriptionOptions:k};return yield P(x,fe),fe.token})).apply(this,arguments)}function ur(x,k){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,V.Z)(function*(x,k){return(yield x.pushManager.getSubscription())||x.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Ws(k)})})).apply(this,arguments)}function zi(x,k){return k.vapidKey===x.vapidKey&&k.endpoint===x.endpoint&&k.auth===x.auth&&k.p256dh===x.p256dh}function Ei(x){const k={from:x.from,collapseKey:x.collapse_key,messageId:x.fcmMessageId};return function uo(x,k){if(!k.notification)return;x.notification={};const K=k.notification.title;K&&(x.notification.title=K);const fe=k.notification.body;fe&&(x.notification.body=fe);const We=k.notification.image;We&&(x.notification.image=We)}(k,x),function Qs(x,k){!k.data||(x.data=k.data)}(k,x),function Pa(x,k){if(!k.fcmOptions)return;x.fcmOptions={};const K=k.fcmOptions.link;K&&(x.fcmOptions.link=K);const fe=k.fcmOptions.analytics_label;fe&&(x.fcmOptions.analyticsLabel=fe)}(k,x),k}function ma(x){return"object"==typeof x&&!!x&&ls in x}function Ks(x,k){const K=[];for(let fe=0;fe<x.length;fe++)K.push(x.charAt(fe)),fe<k.length&&K.push(k.charAt(fe));return K.join("")}function Xr(x){return _n.create("missing-app-config-values",{valueName:x})}Ks("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Ks("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class hs{constructor(k,K,fe){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const We=function Ds(x){if(!x||!x.options)throw Xr("App Configuration Object");if(!x.name)throw Xr("App Name");const k=["projectId","apiKey","appId","messagingSenderId"],{options:K}=x;for(const fe of k)if(!K[fe])throw Xr(fe);return{appName:x.name,projectId:K.projectId,apiKey:K.apiKey,appId:K.appId,senderId:K.messagingSenderId}}(k);this.firebaseDependencies={app:k,appConfig:We,installations:K,analyticsProvider:fe}}_delete(){return Promise.resolve()}}function ta(x){return rs.apply(this,arguments)}function rs(){return(rs=(0,V.Z)(function*(x){try{x.swRegistration=yield navigator.serviceWorker.register(ts,{scope:pi}),x.swRegistration.update().catch(()=>{})}catch(k){throw _n.create("failed-service-worker-registration",{browserErrorMessage:k.message})}})).apply(this,arguments)}function ki(x,k){return Do.apply(this,arguments)}function Do(){return(Do=(0,V.Z)(function*(x,k){if(!k&&!x.swRegistration&&(yield ta(x)),k||!x.swRegistration){if(!(k instanceof ServiceWorkerRegistration))throw _n.create("invalid-sw-registration");x.swRegistration=k}})).apply(this,arguments)}function ri(x,k){return Co.apply(this,arguments)}function Co(){return(Co=(0,V.Z)(function*(x,k){k?x.vapidKey=k:x.vapidKey||(x.vapidKey=Di)})).apply(this,arguments)}function Js(){return(Js=(0,V.Z)(function*(x,k){if(!navigator)throw _n.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw _n.create("permission-blocked");return yield ri(x,null==k?void 0:k.vapidKey),yield ki(x,null==k?void 0:k.serviceWorkerRegistration),F(x)})).apply(this,arguments)}function ya(x,k,K){return co.apply(this,arguments)}function co(){return(co=(0,V.Z)(function*(x,k,K){const fe=_a(k);(yield x.firebaseDependencies.analyticsProvider.get()).logEvent(fe,{message_id:K[ls],message_name:K[Gs],message_time:K[Hi],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function _a(x){switch(x){case Gi.NOTIFICATION_CLICKED:return"notification_open";case Gi.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Xs(){return(Xs=(0,V.Z)(function*(x,k){const K=k.data;if(!K.isFirebaseMessaging)return;x.onMessageHandler&&K.messageType===Gi.PUSH_RECEIVED&&("function"==typeof x.onMessageHandler?x.onMessageHandler(Ei(K)):x.onMessageHandler.next(Ei(K)));const fe=K.data;ma(fe)&&"1"===fe[bs]&&(yield ya(x,K.messageType,fe))})).apply(this,arguments)}const Cs="@firebase/messaging",Ki=x=>{const k=new hs(x.getProvider("app").getImmediate(),x.getProvider("installations-internal").getImmediate(),x.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",K=>function Bo(x,k){return Xs.apply(this,arguments)}(k,K)),k},na=x=>{const k=x.getProvider("messaging").getImmediate();return{getToken:fe=>function Na(x,k){return Js.apply(this,arguments)}(k,fe)}};function lo(){return eo.apply(this,arguments)}function eo(){return(eo=(0,V.Z)(function*(){try{yield(0,ee.eu)()}catch(x){return!1}return"undefined"!=typeof window&&(0,ee.hl)()&&(0,ee.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function ka(){(0,ue._registerComponent)(new le.wA("messaging",Ki,"PUBLIC")),(0,ue._registerComponent)(new le.wA("messaging-internal",na,"PRIVATE")),(0,ue.registerVersion)(Cs,"0.9.9"),(0,ue.registerVersion)(Cs,"0.9.9","esm2017")}();const ho="analytics",ra="firebase_id",To="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",$o="https://www.googletagmanager.com/gtag/js",cr=new ye.Yd("@firebase/analytics");function Ho(x){return Promise.all(x.map(k=>k.catch(K=>K)))}function Ci(x,k){const K=document.createElement("script");K.src=`${$o}?l=${x}&id=${k}`,K.async=!0,document.head.appendChild(K)}function Go(x,k,K,fe,We,st){return ys.apply(this,arguments)}function ys(){return(ys=(0,V.Z)(function*(x,k,K,fe,We,st){const Tt=fe[We];try{if(Tt)yield k[Tt];else{const tn=(yield Ho(K)).find(ar=>ar.measurementId===We);tn&&(yield k[tn.appId])}}catch(Kt){cr.error(Kt)}x("config",We,st)})).apply(this,arguments)}function fo(x,k,K,fe,We){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,V.Z)(function*(x,k,K,fe,We){try{let st=[];if(We&&We.send_to){let Tt=We.send_to;Array.isArray(Tt)||(Tt=[Tt]);const Kt=yield Ho(K);for(const tn of Tt){const ar=Kt.find(Ur=>Ur.measurementId===tn),Fr=ar&&k[ar.appId];if(!Fr){st=[];break}st.push(Fr)}}0===st.length&&(st=Object.values(k)),yield Promise.all(st),x("event",fe,We||{})}catch(st){cr.error(st)}})).apply(this,arguments)}function ia(){const x=window.document.getElementsByTagName("script");for(const k of Object.values(x))if(k.src&&k.src.includes($o))return k;return null}const D=new ee.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),en=new class mt{constructor(k={},K=1e3){this.throttleMetadata=k,this.intervalMillis=K}getThrottleMetadata(k){return this.throttleMetadata[k]}setThrottleMetadata(k,K){this.throttleMetadata[k]=K}deleteThrottleMetadata(k){delete this.throttleMetadata[k]}};function ei(x){return new Headers({Accept:"application/json","x-goog-api-key":x})}function Qn(x){return Ti.apply(this,arguments)}function Ti(){return(Ti=(0,V.Z)(function*(x){var k;const{appId:K,apiKey:fe}=x,We={method:"GET",headers:ei(fe)},st=To.replace("{app-id}",K),Tt=yield fetch(st,We);if(200!==Tt.status&&304!==Tt.status){let Kt="";try{const tn=yield Tt.json();(null===(k=tn.error)||void 0===k?void 0:k.message)&&(Kt=tn.error.message)}catch(tn){}throw D.create("config-fetch-failed",{httpStatus:Tt.status,responseMessage:Kt})}return Tt.json()})).apply(this,arguments)}function Fi(x){return po.apply(this,arguments)}function po(){return(po=(0,V.Z)(function*(x,k=en,K){const{appId:fe,apiKey:We,measurementId:st}=x.options;if(!fe)throw D.create("no-app-id");if(!We){if(st)return{measurementId:st,appId:fe};throw D.create("no-api-key")}const Tt=k.getThrottleMetadata(fe)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Kt=new wa;return setTimeout((0,V.Z)(function*(){Kt.abort()}),void 0!==K?K:6e4),go({appId:fe,apiKey:We,measurementId:st},Tt,Kt,k)})).apply(this,arguments)}function go(x,k,K){return Li.apply(this,arguments)}function Li(){return(Li=(0,V.Z)(function*(x,{throttleEndTimeMillis:k,backoffCount:K},fe,We=en){const{appId:st,measurementId:Tt}=x;try{yield zo(fe,k)}catch(Kt){if(Tt)return cr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Tt} provided in the "measurementId" field in the local Firebase config. [${Kt.message}]`),{appId:st,measurementId:Tt};throw Kt}try{const Kt=yield Qn(x);return We.deleteThrottleMetadata(st),Kt}catch(Kt){if(!no(Kt)){if(We.deleteThrottleMetadata(st),Tt)return cr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Tt} provided in the "measurementId" field in the local Firebase config. [${Kt.message}]`),{appId:st,measurementId:Tt};throw Kt}const tn=503===Number(Kt.customData.httpStatus)?(0,ee.$s)(K,We.intervalMillis,30):(0,ee.$s)(K,We.intervalMillis),ar={throttleEndTimeMillis:Date.now()+tn,backoffCount:K+1};return We.setThrottleMetadata(st,ar),cr.debug(`Calling attemptFetch again in ${tn} millis`),go(x,ar,fe,We)}})).apply(this,arguments)}function zo(x,k){return new Promise((K,fe)=>{const We=Math.max(k-Date.now(),0),st=setTimeout(K,We);x.addEventListener(()=>{clearTimeout(st),fe(D.create("fetch-throttle",{throttleEndTimeMillis:k}))})})}function no(x){if(!(x instanceof ee.ZR&&x.customData))return!1;const k=Number(x.customData.httpStatus);return 429===k||500===k||503===k||504===k}class wa{constructor(){this.listeners=[]}addEventListener(k){this.listeners.push(k)}abort(){this.listeners.forEach(k=>k())}}function Fa(){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,V.Z)(function*(){if(!(0,ee.hl)())return cr.warn(D.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ee.eu)()}catch(x){return cr.warn(D.create("indexeddb-unavailable",{errorInfo:x}).message),!1}return!0})).apply(this,arguments)}function ks(){return(ks=(0,V.Z)(function*(x,k,K,fe,We,st,Tt){var Kt;const tn=Fi(x);tn.then(os=>{K[os.measurementId]=os.appId,x.options.measurementId&&os.measurementId!==x.options.measurementId&&cr.warn(`The measurement ID in the local Firebase config (${x.options.measurementId}) does not match the measurement ID fetched from the server (${os.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(os=>cr.error(os)),k.push(tn);const ar=Fa().then(os=>{if(os)return fe.getId()}),[Fr,Ur]=yield Promise.all([tn,ar]);ia()||Ci(st,Fr.measurementId),We("js",new Date);const Br=null!==(Kt=null==Tt?void 0:Tt.config)&&void 0!==Kt?Kt:{};return Br.origin="firebase",Br.update=!0,null!=Ur&&(Br[ra]=Ur),We("config",Fr.measurementId,Br),Fr.measurementId})).apply(this,arguments)}class Ea{constructor(k){this.app=k}_delete(){return delete b[this.app.options.appId],Promise.resolve()}}let b={},v=[];const _={};let B,ie,C="dataLayer",Ie=!1;function Jn(x,k,K){!function Gt(){const x=[];if((0,ee.ru)()&&x.push("This is a browser extension environment."),(0,ee.zI)()||x.push("Cookies are not available."),x.length>0){const k=x.map((fe,We)=>`(${We+1}) ${fe}`).join(" "),K=D.create("invalid-analytics-context",{errorInfo:k});cr.warn(K.message)}}();const fe=x.options.appId;if(!fe)throw D.create("no-app-id");if(!x.options.apiKey){if(!x.options.measurementId)throw D.create("no-api-key");cr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${x.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=b[fe])throw D.create("already-exists",{id:fe});if(!Ie){!function qi(x){let k=[];Array.isArray(window[x])?k=window[x]:window[x]=k}(C);const{wrappedGtag:st,gtagCore:Tt}=function fs(x,k,K,fe,We){let st=function(...Tt){window[fe].push(arguments)};return window[We]&&"function"==typeof window[We]&&(st=window[We]),window[We]=function Wo(x,k,K,fe){function st(){return(st=(0,V.Z)(function*(Tt,Kt,tn){try{"event"===Tt?yield fo(x,k,K,Kt,tn):"config"===Tt?yield Go(x,k,K,fe,Kt,tn):x("set",Kt)}catch(ar){cr.error(ar)}})).apply(this,arguments)}return function We(Tt,Kt,tn){return st.apply(this,arguments)}}(st,x,k,K),{gtagCore:st,wrappedGtag:window[We]}}(b,v,_,C,"gtag");ie=st,B=Tt,Ie=!0}return b[fe]=function Vr(x,k,K,fe,We,st,Tt){return ks.apply(this,arguments)}(x,v,_,k,B,C,K),new Ea(x)}function vr(){return(vr=(0,V.Z)(function*(x,k,K,fe,We){if(We&&We.global)x("event",K,fe);else{const st=yield k;x("event",K,Object.assign(Object.assign({},fe),{send_to:st}))}})).apply(this,arguments)}function An(){return Ou.apply(this,arguments)}function Ou(){return(Ou=(0,V.Z)(function*(){if((0,ee.ru)()||!(0,ee.zI)()||!(0,ee.hl)())return!1;try{return yield(0,ee.eu)()}catch(x){return!1}})).apply(this,arguments)}const is="@firebase/analytics";!function Ld(){(0,ue._registerComponent)(new le.wA(ho,(k,{options:K})=>Jn(k.getProvider("app").getImmediate(),k.getProvider("installations-internal").getImmediate(),K),"PUBLIC")),(0,ue._registerComponent)(new le.wA("analytics-internal",function x(k){try{const K=k.getProvider(ho).getImmediate();return{logEvent:(fe,We,st)=>function Fl(x,k,K,fe){x=(0,ee.m9)(x),function un(x,k,K,fe,We){return vr.apply(this,arguments)}(ie,b[x.app.options.appId],k,K,fe).catch(We=>cr.error(We))}(K,fe,We,st)}}catch(K){throw D.create("interop-component-reg-failed",{reason:K})}},"PRIVATE")),(0,ue.registerVersion)(is,"0.7.5"),(0,ue.registerVersion)(is,"0.7.5","esm2017")}();var oi=T(233),Vd=T(4986),Hr=T(8505),ci=T(9468),qs=T(5363);const qc=new p.GfV("7.2.1"),Va="__angularfire_symbol__analyticsIsSupportedValue",Ai="__angularfire_symbol__analyticsIsSupported",Fs="__angularfire_symbol__remoteConfigIsSupportedValue",So="__angularfire_symbol__remoteConfigIsSupported",Ls="__angularfire_symbol__messagingIsSupportedValue",xs="__angularfire_symbol__messagingIsSupported";function xo(x,k,K){if(k){if(1===k.length)return k[0];const st=k.filter(Tt=>Tt.app===K);if(1===st.length)return st[0]}return K.container.getProvider(x).getImmediate({optional:!0})}globalThis[Ai]||(globalThis[Ai]=An().then(x=>globalThis[Va]=x).catch(()=>globalThis[Va]=!1)),globalThis[xs]||(globalThis[xs]=lo().then(x=>globalThis[Ls]=x).catch(()=>globalThis[Ls]=!1)),globalThis[So]||(globalThis[So]=Hs().then(x=>globalThis[Fs]=x).catch(()=>globalThis[Fs]=!1));const sa=(x,k)=>{const K=k?[k]:(0,L.C6)(),fe=[];return K.forEach(We=>{We.container.getProvider(x).instances.forEach(Tt=>{fe.includes(Tt)||fe.push(Tt)})}),fe};function li(){}class ou{constructor(k,K=oi.N){this.zone=k,this.delegate=K}now(){return this.delegate.now()}schedule(k,K,fe){const We=this.zone;return this.delegate.schedule(function(Tt){We.runGuarded(()=>{k.apply(this,[Tt])})},K,fe)}}class _o{constructor(k){this.zone=k,this.task=null}call(k,K){const fe=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",li,{},li,li)),K.pipe((0,Hr.b)({next:fe,complete:fe,error:fe})).subscribe(k).add(fe)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ru=(()=>{class x{constructor(K){this.ngZone=K,this.outsideAngular=K.runOutsideAngular(()=>new ou(Zone.current)),this.insideAngular=K.run(()=>new ou(Zone.current,Vd.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return x.\u0275fac=function(K){return new(K||x)(p.LFG(p.R0b))},x.\u0275prov=p.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})();function vo(){const x=globalThis.\u0275AngularFireScheduler;if(!x)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return x}function uu(x){return vo(),function Zo(x){return function(K){return(K=K.lift(new _o(x.ngZone))).pipe((0,ci.R)(x.outsideAngular),(0,qs.Q)(x.insideAngular))}}(vo())(x)}},2090:(Me,te,T)=>{"use strict";T.d(te,{BH:()=>je,LL:()=>Qe,ZR:()=>ht,zI:()=>Ae,US:()=>le,tV:()=>ne,h$:()=>ye,$s:()=>Dn,r3:()=>bn,Sg:()=>Oe,ne:()=>fn,vZ:()=>Zn,ZB:()=>X,pd:()=>Nn,m9:()=>nr,z$:()=>$e,jU:()=>Fe,ru:()=>oe,d:()=>Ue,xb:()=>ln,w1:()=>Ce,hl:()=>we,uI:()=>ot,UG:()=>De,b$:()=>nt,G6:()=>ve,Mn:()=>Ve,xO:()=>xn,zd:()=>lr,eu:()=>xe});const ue=function(pe){const Ee=[];let Te=0;for(let Ke=0;Ke<pe.length;Ke++){let He=pe.charCodeAt(Ke);He<128?Ee[Te++]=He:He<2048?(Ee[Te++]=He>>6|192,Ee[Te++]=63&He|128):55296==(64512&He)&&Ke+1<pe.length&&56320==(64512&pe.charCodeAt(Ke+1))?(He=65536+((1023&He)<<10)+(1023&pe.charCodeAt(++Ke)),Ee[Te++]=He>>18|240,Ee[Te++]=He>>12&63|128,Ee[Te++]=He>>6&63|128,Ee[Te++]=63&He|128):(Ee[Te++]=He>>12|224,Ee[Te++]=He>>6&63|128,Ee[Te++]=63&He|128)}return Ee},le={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(pe,Ee){if(!Array.isArray(pe))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Te=Ee?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ke=[];for(let He=0;He<pe.length;He+=3){const Mt=pe[He],et=He+1<pe.length,tt=et?pe[He+1]:0,wt=He+2<pe.length,Nt=wt?pe[He+2]:0;let Mn=(15&tt)<<2|Nt>>6,Kn=63&Nt;wt||(Kn=64,et||(Mn=64)),Ke.push(Te[Mt>>2],Te[(3&Mt)<<4|tt>>4],Te[Mn],Te[Kn])}return Ke.join("")},encodeString(pe,Ee){return this.HAS_NATIVE_SUPPORT&&!Ee?btoa(pe):this.encodeByteArray(ue(pe),Ee)},decodeString(pe,Ee){return this.HAS_NATIVE_SUPPORT&&!Ee?atob(pe):function(pe){const Ee=[];let Te=0,Ke=0;for(;Te<pe.length;){const He=pe[Te++];if(He<128)Ee[Ke++]=String.fromCharCode(He);else if(He>191&&He<224){const Mt=pe[Te++];Ee[Ke++]=String.fromCharCode((31&He)<<6|63&Mt)}else if(He>239&&He<365){const wt=((7&He)<<18|(63&pe[Te++])<<12|(63&pe[Te++])<<6|63&pe[Te++])-65536;Ee[Ke++]=String.fromCharCode(55296+(wt>>10)),Ee[Ke++]=String.fromCharCode(56320+(1023&wt))}else{const Mt=pe[Te++],et=pe[Te++];Ee[Ke++]=String.fromCharCode((15&He)<<12|(63&Mt)<<6|63&et)}}return Ee.join("")}(this.decodeStringToByteArray(pe,Ee))},decodeStringToByteArray(pe,Ee){this.init_();const Te=Ee?this.charToByteMapWebSafe_:this.charToByteMap_,Ke=[];for(let He=0;He<pe.length;){const Mt=Te[pe.charAt(He++)],tt=He<pe.length?Te[pe.charAt(He)]:0;++He;const Nt=He<pe.length?Te[pe.charAt(He)]:64;++He;const qt=He<pe.length?Te[pe.charAt(He)]:64;if(++He,null==Mt||null==tt||null==Nt||null==qt)throw Error();Ke.push(Mt<<2|tt>>4),64!==Nt&&(Ke.push(tt<<4&240|Nt>>2),64!==qt&&Ke.push(Nt<<6&192|qt))}return Ke},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let pe=0;pe<this.ENCODED_VALS.length;pe++)this.byteToCharMap_[pe]=this.ENCODED_VALS.charAt(pe),this.charToByteMap_[this.byteToCharMap_[pe]]=pe,this.byteToCharMapWebSafe_[pe]=this.ENCODED_VALS_WEBSAFE.charAt(pe),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[pe]]=pe,pe>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(pe)]=pe,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(pe)]=pe)}}},ye=function(pe){const Ee=ue(pe);return le.encodeByteArray(Ee,!0)},ae=function(pe){return ye(pe).replace(/\./g,"")},ne=function(pe){try{return le.decodeString(pe,!0)}catch(Ee){console.error("base64Decode failed: ",Ee)}return null};function X(pe,Ee){if(!(Ee instanceof Object))return Ee;switch(Ee.constructor){case Date:return new Date(Ee.getTime());case Object:void 0===pe&&(pe={});break;case Array:pe=[];break;default:return Ee}for(const Te in Ee)!Ee.hasOwnProperty(Te)||!re(Te)||(pe[Te]=X(pe[Te],Ee[Te]));return pe}function re(pe){return"__proto__"!==pe}class je{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Ee,Te)=>{this.resolve=Ee,this.reject=Te})}wrapCallback(Ee){return(Te,Ke)=>{Te?this.reject(Te):this.resolve(Ke),"function"==typeof Ee&&(this.promise.catch(()=>{}),1===Ee.length?Ee(Te):Ee(Te,Ke))}}}function Oe(pe,Ee){if(pe.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Ke=Ee||"demo-project",He=pe.iat||0,Mt=pe.sub||pe.user_id;if(!Mt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const et=Object.assign({iss:`https://securetoken.google.com/${Ke}`,aud:Ke,iat:He,exp:He+3600,auth_time:He,sub:Mt,user_id:Mt,firebase:{sign_in_provider:"custom",identities:{}}},pe);return[ae(JSON.stringify({alg:"none",type:"JWT"})),ae(JSON.stringify(et)),""].join(".")}function $e(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ot(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($e())}function De(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(pe){return!1}}function Fe(){return"object"==typeof self&&self.self===self}function oe(){const pe="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof pe&&void 0!==pe.id}function nt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ue(){return $e().indexOf("Electron/")>=0}function Ce(){const pe=$e();return pe.indexOf("MSIE ")>=0||pe.indexOf("Trident/")>=0}function Ve(){return $e().indexOf("MSAppHost/")>=0}function ve(){return!De()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function we(){return"object"==typeof indexedDB}function xe(){return new Promise((pe,Ee)=>{try{let Te=!0;const Ke="validate-browser-context-for-indexeddb-analytics-module",He=self.indexedDB.open(Ke);He.onsuccess=()=>{He.result.close(),Te||self.indexedDB.deleteDatabase(Ke),pe(!0)},He.onupgradeneeded=()=>{Te=!1},He.onerror=()=>{var Mt;Ee((null===(Mt=He.error)||void 0===Mt?void 0:Mt.message)||"")}}catch(Te){Ee(Te)}})}function Ae(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class ht extends Error{constructor(Ee,Te,Ke){super(Te),this.code=Ee,this.customData=Ke,this.name="FirebaseError",Object.setPrototypeOf(this,ht.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qe.prototype.create)}}class Qe{constructor(Ee,Te,Ke){this.service=Ee,this.serviceName=Te,this.errors=Ke}create(Ee,...Te){const Ke=Te[0]||{},He=`${this.service}/${Ee}`,Mt=this.errors[Ee],et=Mt?function xt(pe,Ee){return pe.replace(Lt,(Te,Ke)=>{const He=Ee[Ke];return null!=He?String(He):`<${Ke}?>`})}(Mt,Ke):"Error";return new ht(He,`${this.serviceName}: ${et} (${He}).`,Ke)}}const Lt=/\{\$([^}]+)}/g;function bn(pe,Ee){return Object.prototype.hasOwnProperty.call(pe,Ee)}function ln(pe){for(const Ee in pe)if(Object.prototype.hasOwnProperty.call(pe,Ee))return!1;return!0}function Zn(pe,Ee){if(pe===Ee)return!0;const Te=Object.keys(pe),Ke=Object.keys(Ee);for(const He of Te){if(!Ke.includes(He))return!1;const Mt=pe[He],et=Ee[He];if(Ln(Mt)&&Ln(et)){if(!Zn(Mt,et))return!1}else if(Mt!==et)return!1}for(const He of Ke)if(!Te.includes(He))return!1;return!0}function Ln(pe){return null!==pe&&"object"==typeof pe}function xn(pe){const Ee=[];for(const[Te,Ke]of Object.entries(pe))Array.isArray(Ke)?Ke.forEach(He=>{Ee.push(encodeURIComponent(Te)+"="+encodeURIComponent(He))}):Ee.push(encodeURIComponent(Te)+"="+encodeURIComponent(Ke));return Ee.length?"&"+Ee.join("&"):""}function lr(pe){const Ee={};return pe.replace(/^\?/,"").split("&").forEach(Ke=>{if(Ke){const[He,Mt]=Ke.split("=");Ee[decodeURIComponent(He)]=decodeURIComponent(Mt)}}),Ee}function Nn(pe){const Ee=pe.indexOf("?");if(!Ee)return"";const Te=pe.indexOf("#",Ee);return pe.substring(Ee,Te>0?Te:void 0)}function fn(pe,Ee){const Te=new Rt(pe,Ee);return Te.subscribe.bind(Te)}class Rt{constructor(Ee,Te){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Te,this.task.then(()=>{Ee(this)}).catch(Ke=>{this.error(Ke)})}next(Ee){this.forEachObserver(Te=>{Te.next(Ee)})}error(Ee){this.forEachObserver(Te=>{Te.error(Ee)}),this.close(Ee)}complete(){this.forEachObserver(Ee=>{Ee.complete()}),this.close()}subscribe(Ee,Te,Ke){let He;if(void 0===Ee&&void 0===Te&&void 0===Ke)throw new Error("Missing Observer.");He=function nn(pe,Ee){if("object"!=typeof pe||null===pe)return!1;for(const Te of Ee)if(Te in pe&&"function"==typeof pe[Te])return!0;return!1}(Ee,["next","error","complete"])?Ee:{next:Ee,error:Te,complete:Ke},void 0===He.next&&(He.next=wn),void 0===He.error&&(He.error=wn),void 0===He.complete&&(He.complete=wn);const Mt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?He.error(this.finalError):He.complete()}catch(et){}}),this.observers.push(He),Mt}unsubscribeOne(Ee){void 0===this.observers||void 0===this.observers[Ee]||(delete this.observers[Ee],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Ee){if(!this.finalized)for(let Te=0;Te<this.observers.length;Te++)this.sendOne(Te,Ee)}sendOne(Ee,Te){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Ee])try{Te(this.observers[Ee])}catch(Ke){"undefined"!=typeof console&&console.error&&console.error(Ke)}})}close(Ee){this.finalized||(this.finalized=!0,void 0!==Ee&&(this.finalError=Ee),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function wn(){}function Dn(pe,Ee=1e3,Te=2){const Ke=Ee*Math.pow(Te,pe),He=Math.round(.5*Ke*(Math.random()-.5)*2);return Math.min(144e5,Ke+He)}function nr(pe){return pe&&pe._delegate?pe._delegate:pe}},3259:(Me,te,T)=>{"use strict";T.d(te,{a:()=>L,U:()=>V});var p=T(5620);const L=(0,p.PH)("[Auth] setUSer",(0,p.Ky)()),V=(0,p.PH)("[Auth] unSetUSer")},9189:(Me,te,T)=>{"use strict";T.d(te,{M:()=>X});var p=T(9300),L=T(8928),V=T(5e3),ue=T(5620),ee=T(8302);let le=(()=>{class re{constructor(Oe){this.store=Oe,this.userSubscription=this.store.select("auth").pipe((0,p.h)(({user:$e})=>null!==$e)).subscribe(({user:$e})=>this.usernombre=$e.nombre)}ngOnInit(){}ngOnDestroy(){this.userSubscription.unsubscribe()}}return re.\u0275fac=function(Oe){return new(Oe||re)(V.Y36(ue.yh))},re.\u0275cmp=V.Xpm({type:re,selectors:[["app-navbar"]],decls:15,vars:1,consts:[[1,"navbar","default-layout","col-sm-12","col-12","p-0","fixed-top","d-flex","flex-row"],[1,"text-center","navbar-brand-wrapper","d-flex","align-items-top","justify-content-center"],[1,"navbar-brand","brand-logo"],["src","assets/images/logo.svg","alt","logo"],[1,"navbar-brand","brand-logo-mini"],["src","assets/images/logo-mini.svg","alt","logo"],[1,"navbar-menu-wrapper","d-flex","align-items-center"],[1,"navbar-nav","navbar-nav-right"],[1,"nav-item","d-none","d-sm-inline-block"],["id","UserDropdown","href","#","data-toggle","dropdown","aria-expanded","false",1,"nav-link"],[1,"profile-text"],["src","assets/images/faces/face1.jpg","alt","Profile image",1,"img-xs","rounded-circle"],["type","button","data-toggle","offcanvas",1,"navbar-toggler","navbar-toggler-right","d-sm-none","align-self-center"],[1,"icon-menu"]],template:function(Oe,$e){1&Oe&&(V.TgZ(0,"nav",0)(1,"div",1)(2,"a",2),V._UZ(3,"img",3),V.qZA(),V.TgZ(4,"a",4),V._UZ(5,"img",5),V.qZA()(),V.TgZ(6,"div",6)(7,"ul",7)(8,"li",8)(9,"a",9)(10,"span",10),V._uU(11),V.qZA(),V._UZ(12,"img",11),V.qZA()()(),V.TgZ(13,"button",12),V._UZ(14,"span",13),V.qZA()()()),2&Oe&&(V.xp6(11),V.hij("Hello, ",$e.usernombre," !"))},encapsulation:2}),re})();var ye=T(1353),ae=T(4232);let ne=(()=>{class re{constructor(Oe,$e){this.authService=Oe,this.store=$e,this.userSubs=this.store.select("auth").pipe((0,p.h)(({user:ot})=>null!==ot)).subscribe(({user:ot})=>this.nombre=ot.nombre)}ngOnInit(){}ngOnDestroy(){this.userSubs.unsubscribe()}logout(){this.authService.logout()}}return re.\u0275fac=function(Oe){return new(Oe||re)(V.Y36(ye.e),V.Y36(ue.yh))},re.\u0275cmp=V.Xpm({type:re,selectors:[["app-sidebar"]],decls:33,vars:1,consts:[[1,"sidebar","sidebar-offcanvas"],[1,"nav"],[1,"nav-item","nav-profile"],[1,"nav-link"],[1,"user-wrapper"],[1,"profile-image"],["src","assets/images/faces/face1.jpg","alt","profile image"],[1,"text-wrapper"],[1,"profile-name"],[1,"designation","text-muted"],[1,"nav-item"],["routerLink","/",1,"nav-link"],[1,"menu-icon","fa","fa-tachometer-alt"],[1,"menu-title"],["routerLink","/ingreso-egreso",1,"nav-link","button"],[1,"menu-icon","fa","fa-clipboard-list"],["routerLink","/detalle",1,"nav-link"],[1,"menu-icon","fa","fa-table"],[1,"nav-item","cursor"],[1,"nav-link","btn",3,"click"],[1,"menu-icon","fa","fa-sign-out-alt"]],template:function(Oe,$e){1&Oe&&(V.TgZ(0,"nav",0)(1,"ul",1)(2,"li",2)(3,"div",3)(4,"div",4)(5,"div",5),V._UZ(6,"img",6),V.qZA(),V.TgZ(7,"div",7)(8,"p",8),V._uU(9),V.qZA(),V.TgZ(10,"div")(11,"small",9),V._uU(12,"Gerente"),V.qZA()()()()()(),V.TgZ(13,"li",10)(14,"a",11),V._UZ(15,"i",12),V.TgZ(16,"span",13),V._uU(17,"Dashboard"),V.qZA()()(),V.TgZ(18,"li",10)(19,"a",14),V._UZ(20,"i",15),V.TgZ(21,"span",13),V._uU(22,"Ingresos y Egresos"),V.qZA()()(),V.TgZ(23,"li",10)(24,"a",16),V._UZ(25,"i",17),V.TgZ(26,"span",13),V._uU(27,"Detalle"),V.qZA()()(),V.TgZ(28,"li",18)(29,"a",19),V.NdJ("click",function(){return $e.logout()}),V._UZ(30,"i",20),V.TgZ(31,"span",13),V._uU(32,"Cerrar sesi\xf3n"),V.qZA()()()()()),2&Oe&&(V.xp6(9),V.Oqu($e.nombre))},directives:[ae.yS],encapsulation:2}),re})(),J=(()=>{class re{constructor(){}ngOnInit(){}}return re.\u0275fac=function(Oe){return new(Oe||re)},re.\u0275cmp=V.Xpm({type:re,selectors:[["app-footer"]],decls:10,vars:0,consts:[[1,"footer"],[1,"container-fluid","clearfix"],[1,"text-muted","d-block","text-center","text-sm-left","d-sm-inline-block"],["href","http://fernando-herrera.com","target","_blank"],[1,"float-none","float-sm-right","d-block","mt-1","mt-sm-0","text-center"],[1,"fa","fa-heart","text-danger"]],template:function(Oe,$e){1&Oe&&(V.TgZ(0,"footer",0)(1,"div",1)(2,"span",2),V._uU(3,"Derechos reservados \xa9 20XX "),V.TgZ(4,"a",3),V._uU(5,"Fernando Herrera"),V.qZA(),V._uU(6,"."),V.qZA(),V.TgZ(7,"span",4),V._uU(8,"Creado a mano con "),V._UZ(9,"i",5),V.qZA()()())},encapsulation:2}),re})(),X=(()=>{class re{constructor(Oe,$e){this.store=Oe,this.ingresoEgresoService=$e,this.userSubs=this.store.select("auth").pipe((0,p.h)(ot=>null!==ot.user)).subscribe(({user:ot})=>this.ingresosSubs=this.ingresoEgresoService.initIngresoEgresoListener(ot.uid).subscribe(De=>this.store.dispatch((0,L.U)({items:De}))))}ngOnDestroy(){var Oe,$e;null===(Oe=this.userSubs)||void 0===Oe||Oe.unsubscribe(),null===($e=this.ingresosSubs)||void 0===$e||$e.unsubscribe()}}return re.\u0275fac=function(Oe){return new(Oe||re)(V.Y36(ue.yh),V.Y36(ee.W))},re.\u0275cmp=V.Xpm({type:re,selectors:[["app-dashboard"]],decls:7,vars:0,consts:[[1,"page-body-wrapper"],[1,"main-panel"],[1,"content-wrapper"]],template:function(Oe,$e){1&Oe&&(V._UZ(0,"app-navbar"),V.TgZ(1,"div",0),V._UZ(2,"app-sidebar"),V.TgZ(3,"div",1)(4,"div",2),V._UZ(5,"router-outlet"),V.qZA()(),V._UZ(6,"app-footer"),V.qZA())},directives:[le,ne,ae.lC,J],encapsulation:2}),re})()},8928:(Me,te,T)=>{"use strict";T.d(te,{U:()=>L,H:()=>V});var p=T(5620);const L=(0,p.PH)("[IngresoEgreso] setItems",(0,p.Ky)()),V=(0,p.PH)("[IngresoEgreso] UnSetItems")},1353:(Me,te,T)=>{"use strict";T.d(te,{e:()=>J});var p=T(4004);class L{constructor(re,je,Oe){this.uid=re,this.nombre=je,this.email=Oe}static fromFirebase({email:re,nombre:je,uid:Oe}){return new L(Oe,je,re)}}var V=T(3259),ue=T(8928),ee=T(5e3),le=T(1041),ye=T(4232),ae=T(7407),ne=T(5620);let J=(()=>{class X{constructor(je,Oe,$e,ot){this.auth=je,this.router=Oe,this.firestore=$e,this.store=ot}get user(){return Object.assign({},this._user)}initAuthListener(){this.auth.authState.subscribe(je=>{je?this.userSubscription=this.firestore.doc(`${je.uid}/usuario`).valueChanges().subscribe(Oe=>{const $e=L.fromFirebase(Oe);this._user=$e,this.store.dispatch(V.a({user:$e}))}):(this._user=null,this.userSubscription&&this.userSubscription.unsubscribe(),this.store.dispatch((0,V.U)()),this.store.dispatch((0,ue.H)()))})}createUsuario(je,Oe,$e){return this.auth.createUserWithEmailAndPassword(Oe,$e).then(({user:ot})=>{const De=new L(ot.uid,je,ot.email);return this.firestore.doc(`${ot.uid}/usuario`).set(Object.assign({},De))})}loginUsuario(je,Oe){return this.auth.signInWithEmailAndPassword(je,Oe)}logout(){return this.auth.signOut().then(()=>{this.router.navigate(["/login"])})}isAuth(){return this.auth.authState.pipe((0,p.U)(je=>null!==je))}}return X.\u0275fac=function(je){return new(je||X)(ee.LFG(le.zQ),ee.LFG(ye.F0),ee.LFG(ae.ST),ee.LFG(ne.yh))},X.\u0275prov=ee.Yz7({token:X,factory:X.\u0275fac,providedIn:"root"}),X})()},8302:(Me,te,T)=>{"use strict";T.d(te,{W:()=>ee});var p=T(4004),L=T(5e3),V=T(7407),ue=T(1353);let ee=(()=>{class le{constructor(ae,ne){this.firestore=ae,this.authService=ne}crearIngresoEgreso(ae){const ne=this.authService.user.uid;return delete ae.uid,this.firestore.doc(`${ne}/ingresos-egresos`).collection("items").add(Object.assign({},ae))}initIngresoEgresoListener(ae){return this.firestore.collection(`${ae}/ingresos-egresos/items`).snapshotChanges().pipe((0,p.U)(ne=>ne.map(J=>Object.assign({uid:J.payload.doc.id},J.payload.doc.data()))))}borrarIngresoEgreso(ae){return this.firestore.doc(`${this.authService.user.uid}/ingresos-egresos/items/${ae}`).delete()}}return le.\u0275fac=function(ae){return new(ae||le)(L.LFG(V.ST),L.LFG(ue.e))},le.\u0275prov=L.Yz7({token:le,factory:le.\u0275fac,providedIn:"root"}),le})()},5299:(Me,te,T)=>{"use strict";T.d(te,{h:()=>L,V:()=>V});var p=T(5620);const L=(0,p.PH)("[UI Component] Is Loading"),V=(0,p.PH)("[UI Component] Stop Loading")},4468:(Me,te,T)=>{"use strict";var p=T(9808),L=T(5e3);class V extends p.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ue extends V{static makeCurrent(){(0,p.HT)(new ue)}onAndCancel(de,Q,Be){return de.addEventListener(Q,Be,!1),()=>{de.removeEventListener(Q,Be,!1)}}dispatchEvent(de,Q){de.dispatchEvent(Q)}remove(de){de.parentNode&&de.parentNode.removeChild(de)}createElement(de,Q){return(Q=Q||this.getDefaultDocument()).createElement(de)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(de){return de.nodeType===Node.ELEMENT_NODE}isShadowRoot(de){return de instanceof DocumentFragment}getGlobalEventTarget(de,Q){return"window"===Q?window:"document"===Q?de:"body"===Q?de.body:null}getBaseHref(de){const Q=function le(){return ee=ee||document.querySelector("base"),ee?ee.getAttribute("href"):null}();return null==Q?null:function ae(ce){ye=ye||document.createElement("a"),ye.setAttribute("href",ce);const de=ye.pathname;return"/"===de.charAt(0)?de:`/${de}`}(Q)}resetBaseElement(){ee=null}getUserAgent(){return window.navigator.userAgent}getCookie(de){return(0,p.Mx)(document.cookie,de)}}let ye,ee=null;const ne=new L.OlP("TRANSITION_ID"),X=[{provide:L.ip1,useFactory:function J(ce,de,Q){return()=>{Q.get(L.CZH).donePromise.then(()=>{const Be=(0,p.q)(),dt=de.querySelectorAll(`style[ng-transition="${ce}"]`);for(let Vt=0;Vt<dt.length;Vt++)Be.remove(dt[Vt])})}},deps:[ne,p.K0,L.zs3],multi:!0}];class re{static init(){(0,L.VLi)(new re)}addToWindow(de){L.dqk.getAngularTestability=(Be,dt=!0)=>{const Vt=de.findTestabilityInTree(Be,dt);if(null==Vt)throw new Error("Could not find testability for element.");return Vt},L.dqk.getAllAngularTestabilities=()=>de.getAllTestabilities(),L.dqk.getAllAngularRootElements=()=>de.getAllRootElements(),L.dqk.frameworkStabilizers||(L.dqk.frameworkStabilizers=[]),L.dqk.frameworkStabilizers.push(Be=>{const dt=L.dqk.getAllAngularTestabilities();let Vt=dt.length,sn=!1;const Kr=function(Er){sn=sn||Er,Vt--,0==Vt&&Be(sn)};dt.forEach(function(Er){Er.whenStable(Kr)})})}findTestabilityInTree(de,Q,Be){if(null==Q)return null;const dt=de.getTestability(Q);return null!=dt?dt:Be?(0,p.q)().isShadowRoot(Q)?this.findTestabilityInTree(de,Q.host,!0):this.findTestabilityInTree(de,Q.parentElement,!0):null}}let je=(()=>{class ce{build(){return new XMLHttpRequest}}return ce.\u0275fac=function(Q){return new(Q||ce)},ce.\u0275prov=L.Yz7({token:ce,factory:ce.\u0275fac}),ce})();const Oe=new L.OlP("EventManagerPlugins");let $e=(()=>{class ce{constructor(Q,Be){this._zone=Be,this._eventNameToPlugin=new Map,Q.forEach(dt=>dt.manager=this),this._plugins=Q.slice().reverse()}addEventListener(Q,Be,dt){return this._findPluginFor(Be).addEventListener(Q,Be,dt)}addGlobalEventListener(Q,Be,dt){return this._findPluginFor(Be).addGlobalEventListener(Q,Be,dt)}getZone(){return this._zone}_findPluginFor(Q){const Be=this._eventNameToPlugin.get(Q);if(Be)return Be;const dt=this._plugins;for(let Vt=0;Vt<dt.length;Vt++){const sn=dt[Vt];if(sn.supports(Q))return this._eventNameToPlugin.set(Q,sn),sn}throw new Error(`No event manager plugin found for event ${Q}`)}}return ce.\u0275fac=function(Q){return new(Q||ce)(L.LFG(Oe),L.LFG(L.R0b))},ce.\u0275prov=L.Yz7({token:ce,factory:ce.\u0275fac}),ce})();class ot{constructor(de){this._doc=de}addGlobalEventListener(de,Q,Be){const dt=(0,p.q)().getGlobalEventTarget(this._doc,de);if(!dt)throw new Error(`Unsupported event target ${dt} for event ${Q}`);return this.addEventListener(dt,Q,Be)}}let De=(()=>{class ce{constructor(){this._stylesSet=new Set}addStyles(Q){const Be=new Set;Q.forEach(dt=>{this._stylesSet.has(dt)||(this._stylesSet.add(dt),Be.add(dt))}),this.onStylesAdded(Be)}onStylesAdded(Q){}getAllStyles(){return Array.from(this._stylesSet)}}return ce.\u0275fac=function(Q){return new(Q||ce)},ce.\u0275prov=L.Yz7({token:ce,factory:ce.\u0275fac}),ce})(),Fe=(()=>{class ce extends De{constructor(Q){super(),this._doc=Q,this._hostNodes=new Map,this._hostNodes.set(Q.head,[])}_addStylesToHost(Q,Be,dt){Q.forEach(Vt=>{const sn=this._doc.createElement("style");sn.textContent=Vt,dt.push(Be.appendChild(sn))})}addHost(Q){const Be=[];this._addStylesToHost(this._stylesSet,Q,Be),this._hostNodes.set(Q,Be)}removeHost(Q){const Be=this._hostNodes.get(Q);Be&&Be.forEach(oe),this._hostNodes.delete(Q)}onStylesAdded(Q){this._hostNodes.forEach((Be,dt)=>{this._addStylesToHost(Q,dt,Be)})}ngOnDestroy(){this._hostNodes.forEach(Q=>Q.forEach(oe))}}return ce.\u0275fac=function(Q){return new(Q||ce)(L.LFG(p.K0))},ce.\u0275prov=L.Yz7({token:ce,factory:ce.\u0275fac}),ce})();function oe(ce){(0,p.q)().remove(ce)}const nt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ue=/%COMP%/g;function Ae(ce,de,Q){for(let Be=0;Be<de.length;Be++){let dt=de[Be];Array.isArray(dt)?Ae(ce,dt,Q):(dt=dt.replace(Ue,ce),Q.push(dt))}return Q}function ze(ce){return de=>{if("__ngUnwrap__"===de)return ce;!1===ce(de)&&(de.preventDefault(),de.returnValue=!1)}}let ht=(()=>{class ce{constructor(Q,Be,dt){this.eventManager=Q,this.sharedStylesHost=Be,this.appId=dt,this.rendererByCompId=new Map,this.defaultRenderer=new Qe(Q)}createRenderer(Q,Be){if(!Q||!Be)return this.defaultRenderer;switch(Be.encapsulation){case L.ifc.Emulated:{let dt=this.rendererByCompId.get(Be.id);return dt||(dt=new In(this.eventManager,this.sharedStylesHost,Be,this.appId),this.rendererByCompId.set(Be.id,dt)),dt.applyToHost(Q),dt}case 1:case L.ifc.ShadowDom:return new Ot(this.eventManager,this.sharedStylesHost,Q,Be);default:if(!this.rendererByCompId.has(Be.id)){const dt=Ae(Be.id,Be.styles,[]);this.sharedStylesHost.addStyles(dt),this.rendererByCompId.set(Be.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return ce.\u0275fac=function(Q){return new(Q||ce)(L.LFG($e),L.LFG(Fe),L.LFG(L.AFp))},ce.\u0275prov=L.Yz7({token:ce,factory:ce.\u0275fac}),ce})();class Qe{constructor(de){this.eventManager=de,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(de,Q){return Q?document.createElementNS(nt[Q]||Q,de):document.createElement(de)}createComment(de){return document.createComment(de)}createText(de){return document.createTextNode(de)}appendChild(de,Q){de.appendChild(Q)}insertBefore(de,Q,Be){de&&de.insertBefore(Q,Be)}removeChild(de,Q){de&&de.removeChild(Q)}selectRootElement(de,Q){let Be="string"==typeof de?document.querySelector(de):de;if(!Be)throw new Error(`The selector "${de}" did not match any elements`);return Q||(Be.textContent=""),Be}parentNode(de){return de.parentNode}nextSibling(de){return de.nextSibling}setAttribute(de,Q,Be,dt){if(dt){Q=dt+":"+Q;const Vt=nt[dt];Vt?de.setAttributeNS(Vt,Q,Be):de.setAttribute(Q,Be)}else de.setAttribute(Q,Be)}removeAttribute(de,Q,Be){if(Be){const dt=nt[Be];dt?de.removeAttributeNS(dt,Q):de.removeAttribute(`${Be}:${Q}`)}else de.removeAttribute(Q)}addClass(de,Q){de.classList.add(Q)}removeClass(de,Q){de.classList.remove(Q)}setStyle(de,Q,Be,dt){dt&(L.JOm.DashCase|L.JOm.Important)?de.style.setProperty(Q,Be,dt&L.JOm.Important?"important":""):de.style[Q]=Be}removeStyle(de,Q,Be){Be&L.JOm.DashCase?de.style.removeProperty(Q):de.style[Q]=""}setProperty(de,Q,Be){de[Q]=Be}setValue(de,Q){de.nodeValue=Q}listen(de,Q,Be){return"string"==typeof de?this.eventManager.addGlobalEventListener(de,Q,ze(Be)):this.eventManager.addEventListener(de,Q,ze(Be))}}class In extends Qe{constructor(de,Q,Be,dt){super(de),this.component=Be;const Vt=Ae(dt+"-"+Be.id,Be.styles,[]);Q.addStyles(Vt),this.contentAttr=function we(ce){return"_ngcontent-%COMP%".replace(Ue,ce)}(dt+"-"+Be.id),this.hostAttr=function xe(ce){return"_nghost-%COMP%".replace(Ue,ce)}(dt+"-"+Be.id)}applyToHost(de){super.setAttribute(de,this.hostAttr,"")}createElement(de,Q){const Be=super.createElement(de,Q);return super.setAttribute(Be,this.contentAttr,""),Be}}class Ot extends Qe{constructor(de,Q,Be,dt){super(de),this.sharedStylesHost=Q,this.hostEl=Be,this.shadowRoot=Be.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Vt=Ae(dt.id,dt.styles,[]);for(let sn=0;sn<Vt.length;sn++){const Kr=document.createElement("style");Kr.textContent=Vt[sn],this.shadowRoot.appendChild(Kr)}}nodeOrShadowRoot(de){return de===this.hostEl?this.shadowRoot:de}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(de,Q){return super.appendChild(this.nodeOrShadowRoot(de),Q)}insertBefore(de,Q,Be){return super.insertBefore(this.nodeOrShadowRoot(de),Q,Be)}removeChild(de,Q){return super.removeChild(this.nodeOrShadowRoot(de),Q)}parentNode(de){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(de)))}}let St=(()=>{class ce extends ot{constructor(Q){super(Q)}supports(Q){return!0}addEventListener(Q,Be,dt){return Q.addEventListener(Be,dt,!1),()=>this.removeEventListener(Q,Be,dt)}removeEventListener(Q,Be,dt){return Q.removeEventListener(Be,dt)}}return ce.\u0275fac=function(Q){return new(Q||ce)(L.LFG(p.K0))},ce.\u0275prov=L.Yz7({token:ce,factory:ce.\u0275fac}),ce})();const gn=["alt","control","meta","shift"],yn={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},$t={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},bn={alt:ce=>ce.altKey,control:ce=>ce.ctrlKey,meta:ce=>ce.metaKey,shift:ce=>ce.shiftKey};let on=(()=>{class ce extends ot{constructor(Q){super(Q)}supports(Q){return null!=ce.parseEventName(Q)}addEventListener(Q,Be,dt){const Vt=ce.parseEventName(Be),sn=ce.eventCallback(Vt.fullKey,dt,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,p.q)().onAndCancel(Q,Vt.domEventName,sn))}static parseEventName(Q){const Be=Q.toLowerCase().split("."),dt=Be.shift();if(0===Be.length||"keydown"!==dt&&"keyup"!==dt)return null;const Vt=ce._normalizeKey(Be.pop());let sn="";if(gn.forEach(Er=>{const ji=Be.indexOf(Er);ji>-1&&(Be.splice(ji,1),sn+=Er+".")}),sn+=Vt,0!=Be.length||0===Vt.length)return null;const Kr={};return Kr.domEventName=dt,Kr.fullKey=sn,Kr}static getEventFullKey(Q){let Be="",dt=function ln(ce){let de=ce.key;if(null==de){if(de=ce.keyIdentifier,null==de)return"Unidentified";de.startsWith("U+")&&(de=String.fromCharCode(parseInt(de.substring(2),16)),3===ce.location&&$t.hasOwnProperty(de)&&(de=$t[de]))}return yn[de]||de}(Q);return dt=dt.toLowerCase()," "===dt?dt="space":"."===dt&&(dt="dot"),gn.forEach(Vt=>{Vt!=dt&&bn[Vt](Q)&&(Be+=Vt+".")}),Be+=dt,Be}static eventCallback(Q,Be,dt){return Vt=>{ce.getEventFullKey(Vt)===Q&&dt.runGuarded(()=>Be(Vt))}}static _normalizeKey(Q){return"esc"===Q?"escape":Q}}return ce.\u0275fac=function(Q){return new(Q||ce)(L.LFG(p.K0))},ce.\u0275prov=L.Yz7({token:ce,factory:ce.\u0275fac}),ce})();const lr=(0,L.eFA)(L._c5,"browser",[{provide:L.Lbi,useValue:p.bD},{provide:L.g9A,useValue:function er(){ue.makeCurrent(),re.init()},multi:!0},{provide:p.K0,useFactory:function Ln(){return(0,L.RDi)(document),document},deps:[]}]),Nn=[{provide:L.zSh,useValue:"root"},{provide:L.qLn,useFactory:function Zn(){return new L.qLn},deps:[]},{provide:Oe,useClass:St,multi:!0,deps:[p.K0,L.R0b,L.Lbi]},{provide:Oe,useClass:on,multi:!0,deps:[p.K0]},{provide:ht,useClass:ht,deps:[$e,Fe,L.AFp]},{provide:L.FYo,useExisting:ht},{provide:De,useExisting:Fe},{provide:Fe,useClass:Fe,deps:[p.K0]},{provide:L.dDg,useClass:L.dDg,deps:[L.R0b]},{provide:$e,useClass:$e,deps:[Oe,L.R0b]},{provide:p.JF,useClass:je,deps:[]}];let tr=(()=>{class ce{constructor(Q){if(Q)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(Q){return{ngModule:ce,providers:[{provide:L.AFp,useValue:Q.appId},{provide:ne,useExisting:L.AFp},X]}}}return ce.\u0275fac=function(Q){return new(Q||ce)(L.LFG(ce,12))},ce.\u0275mod=L.oAB({type:ce}),ce.\u0275inj=L.cJS({providers:Nn,imports:[p.ez,L.hGG]}),ce})();"undefined"!=typeof window&&window;var wr=T(4232),Pn=T(2382),dn=T(5226),rr=T.n(dn),yr=T(5299),_r=T(1353),Un=T(5620);function Ar(ce,de){if(1&ce&&(L.TgZ(0,"button",20),L._uU(1,"Login"),L.qZA()),2&ce){const Q=L.oxw();L.Q6J("disabled",Q.loginForm.invalid)}}function Mi(ce,de){1&ce&&(L.TgZ(0,"button",21),L._UZ(1,"i",22),L._uU(2,"Espere..."),L.qZA()),2&ce&&L.Q6J("disabled",!0)}let ui=(()=>{class ce{constructor(Q,Be,dt,Vt){this.fb=Q,this.authService=Be,this.router=dt,this.store=Vt,this.loginForm=this.fb.group({email:["",[Pn.kI.required,Pn.kI.email]],password:["",Pn.kI.required]}),this.cargando=!1,this.uiSubscription=this.store.select("ui").subscribe(sn=>this.cargando=sn.isLoading)}ngOnDestroy(){this.uiSubscription.unsubscribe()}loginUsuario(){if(this.loginForm.valid){this.store.dispatch(yr.h());const{email:Q,password:Be}=this.loginForm.value;this.authService.loginUsuario(Q,Be).then(()=>{this.store.dispatch(yr.V()),this.router.navigate(["/"])}).catch(dt=>{this.store.dispatch(yr.V()),rr().fire({icon:"error",title:"Oops...",text:dt.message})})}}}return ce.\u0275fac=function(Q){return new(Q||ce)(L.Y36(Pn.qu),L.Y36(_r.e),L.Y36(wr.F0),L.Y36(Un.yh))},ce.\u0275cmp=L.Xpm({type:ce,selectors:[["app-login"]],decls:33,vars:3,consts:[[1,"page-body-wrapper","full-page-wrapper","auth-page"],[1,"content-wrapper","d-flex","align-items-center","auth","auth-bg-1","theme-one"],[1,"row","w-100"],[1,"col-lg-4","mx-auto"],[1,"text-center","mb-4",2,"color","white"],[1,"auto-form-wrapper"],[3,"formGroup","ngSubmit"],[1,"form-group"],[1,"label"],[1,"input-group"],["type","email","formControlName","email","placeholder","Email",1,"form-control"],[1,"input-group-append"],[1,"input-group-text"],[1,"fa","fa-check-circle"],["type","password","formControlName","password","placeholder","*********",1,"form-control"],["class","btn btn-primary submit-btn btn-block","type","submit",3,"disabled",4,"ngIf"],["class","btn btn-primary submit-btn btn-block","type","button",3,"disabled",4,"ngIf"],[1,"text-block","text-center","my-3"],[1,"text-small","font-weight-semibold"],["routerLink","/register",1,"text-black","text-small"],["type","submit",1,"btn","btn-primary","submit-btn","btn-block",3,"disabled"],["type","button",1,"btn","btn-primary","submit-btn","btn-block",3,"disabled"],[1,"fa","fa-spin","fa-sync"]],template:function(Q,Be){1&Q&&(L.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),L._uU(5,"Ingresar"),L.qZA(),L.TgZ(6,"div",5)(7,"form",6),L.NdJ("ngSubmit",function(){return Be.loginUsuario()}),L.TgZ(8,"div",7)(9,"label",8),L._uU(10,"Usuario"),L.qZA(),L.TgZ(11,"div",9),L._UZ(12,"input",10),L.TgZ(13,"div",11)(14,"span",12),L._UZ(15,"i",13),L.qZA()()()(),L.TgZ(16,"div",7)(17,"label",8),L._uU(18,"Contrase\xf1a"),L.qZA(),L.TgZ(19,"div",9),L._UZ(20,"input",14),L.TgZ(21,"div",11)(22,"span",12),L._UZ(23,"i",13),L.qZA()()()(),L.TgZ(24,"div",7),L.YNc(25,Ar,2,1,"button",15),L.YNc(26,Mi,3,1,"button",16),L.qZA(),L.TgZ(27,"div",17)(28,"span",18),L._uU(29,"No estas registrado? "),L.qZA(),L._UZ(30,"br"),L.TgZ(31,"a",19),L._uU(32,"Crear una cuenta"),L.qZA()()()()()()()()),2&Q&&(L.xp6(7),L.Q6J("formGroup",Be.loginForm),L.xp6(18),L.Q6J("ngIf",!Be.cargando),L.xp6(1),L.Q6J("ngIf",Be.cargando))},directives:[Pn._Y,Pn.JL,Pn.sg,Pn.Fj,Pn.JJ,Pn.u,p.O5,wr.yS],encapsulation:2}),ce})();function Wr(ce,de){1&ce&&L._UZ(0,"i",12)}function Pr(ce,de){if(1&ce&&(L.TgZ(0,"button",21),L._uU(1,"Login"),L.qZA()),2&ce){const Q=L.oxw();L.Q6J("disabled",Q.registroFrom.invalid)}}function Wt(ce,de){1&ce&&(L.TgZ(0,"button",22),L._UZ(1,"i",23),L._uU(2,"Espere..."),L.qZA()),2&ce&&L.Q6J("disabled",!0)}let Sr=(()=>{class ce{constructor(Q,Be,dt,Vt){this.fb=Q,this.authService=Be,this.router=dt,this.store=Vt,this.registroFrom=this.fb.group({nombre:["",Pn.kI.required],correo:["",[Pn.kI.required,Pn.kI.email]],password:["",Pn.kI.required]}),this.cargando=!1}ngOnInit(){this.uiSubscription=this.store.select("ui").subscribe(Q=>this.cargando=Q.isLoading)}ngOnDestroy(){this.uiSubscription.unsubscribe()}crearUsuario(){if(this.registroFrom.valid){this.store.dispatch(yr.h());const{nombre:Q,correo:Be,password:dt}=this.registroFrom.value;this.authService.createUsuario(Q,Be,dt).then(Vt=>{console.log(Vt),this.store.dispatch(yr.V()),this.router.navigate(["/"])}).catch(Vt=>{rr().fire({icon:"error",title:"Oops...",text:Vt.message})})}}}return ce.\u0275fac=function(Q){return new(Q||ce)(L.Y36(Pn.qu),L.Y36(_r.e),L.Y36(wr.F0),L.Y36(Un.yh))},ce.\u0275cmp=L.Xpm({type:ce,selectors:[["app-register"]],decls:35,vars:4,consts:[[1,"page-body-wrapper","full-page-wrapper","auth-page"],[1,"content-wrapper","d-flex","align-items-center","auth","register-bg-1","theme-one"],[1,"row","w-100"],[1,"col-lg-4","mx-auto"],[1,"text-center","mb-4"],[1,"auto-form-wrapper"],[3,"formGroup","ngSubmit"],[1,"form-group"],[1,"input-group"],["type","email","formControlName","nombre","placeholder","Nombre",1,"form-control"],[1,"input-group-append"],[1,"input-group-text"],[1,"fa","fa-check-circle"],["type","email","formControlName","correo","placeholder","Correo",1,"form-control"],["type","password","formControlName","password","placeholder","Password",1,"form-control"],["class","fa fa-check-circle",4,"ngIf"],["class","btn btn-primary submit-btn btn-block","type","submit",3,"disabled",4,"ngIf"],["class","btn btn-primary submit-btn btn-block","type","button",3,"disabled",4,"ngIf"],[1,"text-block","text-center","my-3"],[1,"text-small","font-weight-semibold"],["href","","routerLink","/login",1,"text-black","text-small"],["type","submit",1,"btn","btn-primary","submit-btn","btn-block",3,"disabled"],["type","button",1,"btn","btn-primary","submit-btn","btn-block",3,"disabled"],[1,"fa","fa-spin","fa-sync"]],template:function(Q,Be){1&Q&&(L.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),L._uU(5,"Registro"),L.qZA(),L.TgZ(6,"div",5)(7,"form",6),L.NdJ("ngSubmit",function(){return Be.crearUsuario()}),L.TgZ(8,"div",7)(9,"div",8),L._UZ(10,"input",9),L.TgZ(11,"div",10)(12,"span",11),L._UZ(13,"i",12),L.qZA()()()(),L.TgZ(14,"div",7)(15,"div",8),L._UZ(16,"input",13),L.TgZ(17,"div",10)(18,"span",11),L._UZ(19,"i",12),L.qZA()()()(),L.TgZ(20,"div",7)(21,"div",8),L._UZ(22,"input",14),L.TgZ(23,"div",10)(24,"span",11),L.YNc(25,Wr,1,0,"i",15),L.qZA()()()(),L.TgZ(26,"div",7),L.YNc(27,Pr,2,1,"button",16),L.YNc(28,Wt,3,1,"button",17),L.qZA(),L.TgZ(29,"div",18)(30,"span",19),L._uU(31,"ya tienes una cuenta?"),L.qZA(),L._UZ(32,"br"),L.TgZ(33,"a",20),L._uU(34,"Login"),L.qZA()()()()()()()()),2&Q&&(L.xp6(7),L.Q6J("formGroup",Be.registroFrom),L.xp6(18),L.Q6J("ngIf",Be.registroFrom.get("password").valid),L.xp6(2),L.Q6J("ngIf",!Be.cargando),L.xp6(1),L.Q6J("ngIf",Be.cargando))},directives:[Pn._Y,Pn.JL,Pn.sg,Pn.Fj,Pn.JJ,Pn.u,p.O5,wr.yS],encapsulation:2}),ce})();var On=T(9189),lt=T(8505),an=T(5698);const Tr=[{path:"login",component:ui},{path:"register",component:Sr},{path:"",loadChildren:()=>T.e(91).then(T.bind(T,91)).then(ce=>ce.IngresoEgresoModule),canLoad:[(()=>{class ce{constructor(Q,Be){this.authService=Q,this.router=Be}canLoad(){return this.authService.isAuth().pipe((0,lt.b)(Q=>{Q||this.router.navigate(["/login"])}),(0,an.q)(1))}canActivate(){return this.authService.isAuth().pipe((0,lt.b)(Q=>{Q||this.router.navigate(["/login"])}))}}return ce.\u0275fac=function(Q){return new(Q||ce)(L.LFG(_r.e),L.LFG(wr.F0))},ce.\u0275prov=L.Yz7({token:ce,factory:ce.\u0275fac,providedIn:"root"}),ce})()]},{path:"**",component:On.M}];let zr=(()=>{class ce{}return ce.\u0275fac=function(Q){return new(Q||ce)},ce.\u0275mod=L.oAB({type:ce}),ce.\u0275inj=L.cJS({imports:[[wr.Bz.forRoot(Tr)],wr.Bz]}),ce})(),qn=(()=>{class ce{constructor(Q){this.authService=Q,this.title="IngresoEgresoApp",this.authService.initAuthListener()}}return ce.\u0275fac=function(Q){return new(Q||ce)(L.Y36(_r.e))},ce.\u0275cmp=L.Xpm({type:ce,selectors:[["app-root"]],decls:2,vars:0,consts:[[1,"container-scroller"]],template:function(Q,Be){1&Q&&(L.TgZ(0,"div",0),L._UZ(1,"router-outlet"),L.qZA())},directives:[wr.lC],styles:[""]}),ce})();var Qr=T(2011),hn=T(7407),Jr=T(1041);const Yn_firebase={apiKey:"AIzaSyALDvVm0uyQe_q0GyX1xu9potHKZwwnGHQ",authDomain:"ingreso-egreso-app-6ace4.firebaseapp.com",projectId:"ingreso-egreso-app-6ace4",storageBucket:"ingreso-egreso-app-6ace4.appspot.com",messagingSenderId:"369459840459",appId:"1:369459840459:web:bbeec4a434b6cd353aa24e",measurementId:"G-9JENGT63W2"},ni=(0,Un.Lq)({isLoading:!1},(0,Un.on)(yr.h,ce=>Object.assign(Object.assign({},ce),{isLoading:!0})),(0,Un.on)(yr.V,ce=>Object.assign(Object.assign({},ce),{isLoading:!1})));var ge=T(3259);const Le=(0,Un.Lq)({user:null},(0,Un.on)(ge.a,(ce,{user:de})=>Object.assign(Object.assign({},ce),{user:Object.assign({},de)})),(0,Un.on)(ge.U,ce=>Object.assign(Object.assign({},ce),{user:null}))),vt={ui:function yi(ce,de){return ni(ce,de)},auth:function qe(ce,de){return Le(ce,de)}};var bt=T(9565);let Ut=(()=>{class ce{}return ce.\u0275fac=function(Q){return new(Q||ce)},ce.\u0275mod=L.oAB({type:ce}),ce.\u0275inj=L.cJS({imports:[[p.ez,Pn.UX,wr.Bz]]}),ce})(),dr=(()=>{class ce{}return ce.\u0275fac=function(Q){return new(Q||ce)},ce.\u0275mod=L.oAB({type:ce,bootstrap:[qn]}),ce.\u0275inj=L.cJS({providers:[],imports:[[tr,Ut,zr,Qr.hO.initializeApp(Yn_firebase),hn.yb,Jr.ww,Un.Aw.forRoot(vt),bt.FT.instrument({maxAge:25,logOnly:true})]]}),ce})();(0,L.G48)(),lr().bootstrapModule(dr).catch(ce=>console.error(ce))},5867:(Me,te,T)=>{"use strict";T.d(te,{Mq:()=>p.getApp,C6:()=>p.getApps});var p=T(9681);(0,p.registerVersion)("firebase","9.6.8","app")},127:(Me,te,T)=>{"use strict";T.d(te,{Z:()=>p.Z});var p=T(3942);p.Z.registerVersion("firebase","9.6.8","app-compat")},3059:(Me,te,T)=>{"use strict";T.r(te);var p=T(5861),L=T(3942),V=T(2090),ue=T(9681),ee=T(655),le=T(1877),ye=T(4859);const $e=function je(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},ot=function Oe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},De=new V.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),oe=new le.Yd("@firebase/auth");function nt(g,...l){oe.logLevel<=le.in.ERROR&&oe.error(`Auth (${ue.SDK_VERSION}): ${g}`,...l)}function Ue(g,...l){throw ve(g,...l)}function Ce(g,...l){return ve(g,...l)}function Ve(g,l,h){const w=Object.assign(Object.assign({},ot()),{[l]:h});return new V.LL("auth","Firebase",w).create(l,{appName:g.name})}function yt(g,l,h){if(!(l instanceof h))throw h.name!==l.constructor.name&&Ue(g,"argument-error"),Ve(g,"argument-error",`Type of ${l.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ve(g,...l){if("string"!=typeof g){const h=l[0],w=[...l.slice(1)];return w[0]&&(w[0].appName=g.name),g._errorFactory.create(h,...w)}return De.create(g,...l)}function we(g,l,...h){if(!g)throw ve(l,...h)}function xe(g){const l="INTERNAL ASSERTION FAILED: "+g;throw nt(l),new Error(l)}function Ae(g,l){g||xe(l)}const ze=new Map;function ke(g){Ae(g instanceof Function,"Expected a class definition");let l=ze.get(g);return l?(Ae(l instanceof g,"Instance stored in cache mismatched with class"),l):(l=new g,ze.set(g,l),l)}function xt(){var g;return"undefined"!=typeof self&&(null===(g=self.location)||void 0===g?void 0:g.href)||""}function Lt(){return"http:"===In()||"https:"===In()}function In(){var g;return"undefined"!=typeof self&&(null===(g=self.location)||void 0===g?void 0:g.protocol)||null}class gn{constructor(l,h){this.shortDelay=l,this.longDelay=h,Ae(h>l,"Short delay should be less than long delay!"),this.isMobile=(0,V.uI)()||(0,V.b$)()}get(){return function Ot(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Lt()||(0,V.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Bt(g,l){Ae(g.emulator,"Emulator should always be set here");const{url:h}=g.emulator;return l?`${h}${l.startsWith("/")?l.slice(1):l}`:h}class yn{static initialize(l,h,w){this.fetchImpl=l,h&&(this.headersImpl=h),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void xe("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void xe("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void xe("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const $t={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},bn=new gn(3e4,6e4);function on(g,l){return g.tenantId&&!l.tenantId?Object.assign(Object.assign({},l),{tenantId:g.tenantId}):l}function ln(g,l,h,w){return er.apply(this,arguments)}function er(){return(er=(0,p.Z)(function*(g,l,h,w,U={}){return Zn(g,U,(0,p.Z)(function*(){let Y={},Pe={};w&&("GET"===l?Pe=w:Y={body:JSON.stringify(w)});const Xe=(0,V.xO)(Object.assign({key:g.config.apiKey},Pe)).slice(1),kt=yield g._getAdditionalHeaders();return kt["Content-Type"]="application/json",g.languageCode&&(kt["X-Firebase-Locale"]=g.languageCode),yn.fetch()(Nn(g,g.config.apiHost,h,Xe),Object.assign({method:l,headers:kt,referrerPolicy:"no-referrer"},Y))}))})).apply(this,arguments)}function Zn(g,l,h){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,p.Z)(function*(g,l,h){g._canInitEmulator=!1;const w=Object.assign(Object.assign({},$t),l);try{const U=new tr(g),Y=yield Promise.race([h(),U.promise]);U.clearNetworkTimeout();const Pe=yield Y.json();if("needConfirmation"in Pe)throw fn(g,"account-exists-with-different-credential",Pe);if(Y.ok&&!("errorMessage"in Pe))return Pe;{const Xe=Y.ok?Pe.errorMessage:Pe.error.message,[kt,Xt]=Xe.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===kt)throw fn(g,"credential-already-in-use",Pe);if("EMAIL_EXISTS"===kt)throw fn(g,"email-already-in-use",Pe);const Tn=w[kt]||kt.toLowerCase().replace(/[_\s]+/g,"-");if(Xt)throw Ve(g,Tn,Xt);Ue(g,Tn)}}catch(U){if(U instanceof V.ZR)throw U;Ue(g,"network-request-failed")}})).apply(this,arguments)}function xn(g,l,h,w){return lr.apply(this,arguments)}function lr(){return(lr=(0,p.Z)(function*(g,l,h,w,U={}){const Y=yield ln(g,l,h,w,U);return"mfaPendingCredential"in Y&&Ue(g,"multi-factor-auth-required",{_serverResponse:Y}),Y})).apply(this,arguments)}function Nn(g,l,h,w){const U=`${l}${h}?${w}`;return g.config.emulator?Bt(g.config,U):`${g.config.apiScheme}://${U}`}class tr{constructor(l){this.auth=l,this.timer=null,this.promise=new Promise((h,w)=>{this.timer=setTimeout(()=>w(Ce(this.auth,"network-request-failed")),bn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function fn(g,l,h){const w={appName:g.name};h.email&&(w.email=h.email),h.phoneNumber&&(w.phoneNumber=h.phoneNumber);const U=Ce(g,l,w);return U.customData._tokenResponse=h,U}function $n(){return($n=(0,p.Z)(function*(g,l){return ln(g,"POST","/v1/accounts:delete",l)})).apply(this,arguments)}function nn(g,l){return wn.apply(this,arguments)}function wn(){return(wn=(0,p.Z)(function*(g,l){return ln(g,"POST","/v1/accounts:update",l)})).apply(this,arguments)}function Yr(g,l){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,p.Z)(function*(g,l){return ln(g,"POST","/v1/accounts:lookup",l)})).apply(this,arguments)}function rn(g){if(g)try{const l=new Date(Number(g));if(!isNaN(l.getTime()))return l.toUTCString()}catch(l){}}function Hn(){return(Hn=(0,p.Z)(function*(g,l=!1){const h=(0,V.m9)(g),w=yield h.getIdToken(l),U=Pt(w);we(U&&U.exp&&U.auth_time&&U.iat,h.auth,"internal-error");const Y="object"==typeof U.firebase?U.firebase:void 0,Pe=null==Y?void 0:Y.sign_in_provider;return{claims:U,token:w,authTime:rn(Et(U.auth_time)),issuedAtTime:rn(Et(U.iat)),expirationTime:rn(Et(U.exp)),signInProvider:Pe||null,signInSecondFactor:(null==Y?void 0:Y.sign_in_second_factor)||null}})).apply(this,arguments)}function Et(g){return 1e3*Number(g)}function Pt(g){const[l,h,w]=g.split(".");if(void 0===l||void 0===h||void 0===w)return nt("JWT malformed, contained fewer than 3 sections"),null;try{const U=(0,V.tV)(h);return U?JSON.parse(U):(nt("Failed to decode base64 JWT payload"),null)}catch(U){return nt("Caught error parsing JWT payload as JSON",U),null}}function gr(g,l){return zn.apply(this,arguments)}function zn(){return(zn=(0,p.Z)(function*(g,l,h=!1){if(h)return l;try{return yield l}catch(w){throw w instanceof V.ZR&&Dn(w)&&g.auth.currentUser===g&&(yield g.auth.signOut()),w}})).apply(this,arguments)}function Dn({code:g}){return"auth/user-disabled"===g||"auth/user-token-expired"===g}class Gr{constructor(l){this.user=l,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(l){var h;if(l){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const U=(null!==(h=this.user.stsTokenManager.expirationTime)&&void 0!==h?h:0)-Date.now()-3e5;return Math.max(0,U)}}schedule(l=!1){var h=this;if(!this.isRunning)return;const w=this.getInterval(l);this.timerId=setTimeout((0,p.Z)(function*(){yield h.iteration()}),w)}iteration(){var l=this;return(0,p.Z)(function*(){try{yield l.user.getIdToken(!0)}catch(h){return void("auth/network-request-failed"===h.code&&l.schedule(!0))}l.schedule()})()}}class Cr{constructor(l,h){this.createdAt=l,this.lastLoginAt=h,this._initializeTime()}_initializeTime(){this.lastSignInTime=rn(this.lastLoginAt),this.creationTime=rn(this.createdAt)}_copy(l){this.createdAt=l.createdAt,this.lastLoginAt=l.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function nr(g){return pe.apply(this,arguments)}function pe(){return(pe=(0,p.Z)(function*(g){var l;const h=g.auth,w=yield g.getIdToken(),U=yield gr(g,Yr(h,{idToken:w}));we(null==U?void 0:U.users.length,h,"internal-error");const Y=U.users[0];g._notifyReloadListener(Y);const Pe=(null===(l=Y.providerUserInfo)||void 0===l?void 0:l.length)?He(Y.providerUserInfo):[],Xe=Ke(g.providerData,Pe),Tn=!!g.isAnonymous&&!(g.email&&Y.passwordHash||(null==Xe?void 0:Xe.length)),mn={uid:Y.localId,displayName:Y.displayName||null,photoURL:Y.photoUrl||null,email:Y.email||null,emailVerified:Y.emailVerified||!1,phoneNumber:Y.phoneNumber||null,tenantId:Y.tenantId||null,providerData:Xe,metadata:new Cr(Y.createdAt,Y.lastLoginAt),isAnonymous:Tn};Object.assign(g,mn)})).apply(this,arguments)}function Te(){return(Te=(0,p.Z)(function*(g){const l=(0,V.m9)(g);yield nr(l),yield l.auth._persistUserIfCurrent(l),l.auth._notifyListenersIfCurrent(l)})).apply(this,arguments)}function Ke(g,l){return[...g.filter(w=>!l.some(U=>U.providerId===w.providerId)),...l]}function He(g){return g.map(l=>{var{providerId:h}=l,w=(0,ee._T)(l,["providerId"]);return{providerId:h,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}function et(){return(et=(0,p.Z)(function*(g,l){const h=yield Zn(g,{},(0,p.Z)(function*(){const w=(0,V.xO)({grant_type:"refresh_token",refresh_token:l}).slice(1),{tokenApiHost:U,apiKey:Y}=g.config,Pe=Nn(g,U,"/v1/token",`key=${Y}`),Xe=yield g._getAdditionalHeaders();return Xe["Content-Type"]="application/x-www-form-urlencoded",yn.fetch()(Pe,{method:"POST",headers:Xe,body:w})}));return{accessToken:h.access_token,expiresIn:h.expires_in,refreshToken:h.refresh_token}})).apply(this,arguments)}class tt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(l){we(l.idToken,"internal-error"),we(void 0!==l.idToken,"internal-error"),we(void 0!==l.refreshToken,"internal-error");const h="expiresIn"in l&&void 0!==l.expiresIn?Number(l.expiresIn):function Ht(g){const l=Pt(g);return we(l,"internal-error"),we(void 0!==l.exp,"internal-error"),we(void 0!==l.iat,"internal-error"),Number(l.exp)-Number(l.iat)}(l.idToken);this.updateTokensAndExpiration(l.idToken,l.refreshToken,h)}getToken(l,h=!1){var w=this;return(0,p.Z)(function*(){return we(!w.accessToken||w.refreshToken,l,"user-token-expired"),h||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(l,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(l,h){var w=this;return(0,p.Z)(function*(){const{accessToken:U,refreshToken:Y,expiresIn:Pe}=yield function Mt(g,l){return et.apply(this,arguments)}(l,h);w.updateTokensAndExpiration(U,Y,Number(Pe))})()}updateTokensAndExpiration(l,h,w){this.refreshToken=h||null,this.accessToken=l||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(l,h){const{refreshToken:w,accessToken:U,expirationTime:Y}=h,Pe=new tt;return w&&(we("string"==typeof w,"internal-error",{appName:l}),Pe.refreshToken=w),U&&(we("string"==typeof U,"internal-error",{appName:l}),Pe.accessToken=U),Y&&(we("number"==typeof Y,"internal-error",{appName:l}),Pe.expirationTime=Y),Pe}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(l){this.accessToken=l.accessToken,this.refreshToken=l.refreshToken,this.expirationTime=l.expirationTime}_clone(){return Object.assign(new tt,this.toJSON())}_performRefresh(){return xe("not implemented")}}function wt(g,l){we("string"==typeof g||void 0===g,"internal-error",{appName:l})}class Nt{constructor(l){var{uid:h,auth:w,stsTokenManager:U}=l,Y=(0,ee._T)(l,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Gr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=h,this.auth=w,this.stsTokenManager=U,this.accessToken=U.accessToken,this.displayName=Y.displayName||null,this.email=Y.email||null,this.emailVerified=Y.emailVerified||!1,this.phoneNumber=Y.phoneNumber||null,this.photoURL=Y.photoURL||null,this.isAnonymous=Y.isAnonymous||!1,this.tenantId=Y.tenantId||null,this.providerData=Y.providerData?[...Y.providerData]:[],this.metadata=new Cr(Y.createdAt||void 0,Y.lastLoginAt||void 0)}getIdToken(l){var h=this;return(0,p.Z)(function*(){const w=yield gr(h,h.stsTokenManager.getToken(h.auth,l));return we(w,h.auth,"internal-error"),h.accessToken!==w&&(h.accessToken=w,yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)),w})()}getIdTokenResult(l){return function pr(g){return Hn.apply(this,arguments)}(this,l)}reload(){return function Ee(g){return Te.apply(this,arguments)}(this)}_assign(l){this!==l&&(we(this.uid===l.uid,this.auth,"internal-error"),this.displayName=l.displayName,this.photoURL=l.photoURL,this.email=l.email,this.emailVerified=l.emailVerified,this.phoneNumber=l.phoneNumber,this.isAnonymous=l.isAnonymous,this.tenantId=l.tenantId,this.providerData=l.providerData.map(h=>Object.assign({},h)),this.metadata._copy(l.metadata),this.stsTokenManager._assign(l.stsTokenManager))}_clone(l){return new Nt(Object.assign(Object.assign({},this),{auth:l,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(l){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=l,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(l){this.reloadListener?this.reloadListener(l):this.reloadUserInfo=l}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(l,h=!1){var w=this;return(0,p.Z)(function*(){let U=!1;l.idToken&&l.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(l),U=!0),h&&(yield nr(w)),yield w.auth._persistUserIfCurrent(w),U&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var l=this;return(0,p.Z)(function*(){const h=yield l.getIdToken();return yield gr(l,function Rt(g,l){return $n.apply(this,arguments)}(l.auth,{idToken:h})),l.stsTokenManager.clearRefreshToken(),l.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(l=>Object.assign({},l)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(l,h){var w,U,Y,Pe,Xe,kt,Xt,Tn;const mn=null!==(w=h.displayName)&&void 0!==w?w:void 0,Ir=null!==(U=h.email)&&void 0!==U?U:void 0,Si=null!==(Y=h.phoneNumber)&&void 0!==Y?Y:void 0,Us=null!==(Pe=h.photoURL)&&void 0!==Pe?Pe:void 0,Qi=null!==(Xe=h.tenantId)&&void 0!==Xe?Xe:void 0,ju=null!==(kt=h._redirectEventId)&&void 0!==kt?kt:void 0,dl=null!==(Xt=h.createdAt)&&void 0!==Xt?Xt:void 0,Nf=null!==(Tn=h.lastLoginAt)&&void 0!==Tn?Tn:void 0,{uid:Ia,emailVerified:Dc,isAnonymous:ct,providerData:$u,stsTokenManager:io}=h;we(Ia&&io,l,"internal-error");const kf=tt.fromJSON(this.name,io);we("string"==typeof Ia,l,"internal-error"),wt(mn,l.name),wt(Ir,l.name),we("boolean"==typeof Dc,l,"internal-error"),we("boolean"==typeof ct,l,"internal-error"),wt(Si,l.name),wt(Us,l.name),wt(Qi,l.name),wt(ju,l.name),wt(dl,l.name),wt(Nf,l.name);const yu=new Nt({uid:Ia,auth:l,email:Ir,emailVerified:Dc,displayName:mn,isAnonymous:ct,photoURL:Us,phoneNumber:Si,tenantId:Qi,stsTokenManager:kf,createdAt:dl,lastLoginAt:Nf});return $u&&Array.isArray($u)&&(yu.providerData=$u.map(_u=>Object.assign({},_u))),ju&&(yu._redirectEventId=ju),yu}static _fromIdTokenResponse(l,h,w=!1){return(0,p.Z)(function*(){const U=new tt;U.updateFromServerResponse(h);const Y=new Nt({uid:h.localId,auth:l,stsTokenManager:U,isAnonymous:w});return yield nr(Y),Y})()}}const qt=(()=>{class g{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,p.Z)(function*(){return!0})()}_set(h,w){var U=this;return(0,p.Z)(function*(){U.storage[h]=w})()}_get(h){var w=this;return(0,p.Z)(function*(){const U=w.storage[h];return void 0===U?null:U})()}_remove(h){var w=this;return(0,p.Z)(function*(){delete w.storage[h]})()}_addListener(h,w){}_removeListener(h,w){}}return g.type="NONE",g})();function Mn(g,l,h){return`firebase:${g}:${l}:${h}`}class Kn{constructor(l,h,w){this.persistence=l,this.auth=h,this.userKey=w;const{config:U,name:Y}=this.auth;this.fullUserKey=Mn(this.userKey,U.apiKey,Y),this.fullPersistenceKey=Mn("persistence",U.apiKey,Y),this.boundEventHandler=h._onStorageEvent.bind(h),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(l){return this.persistence._set(this.fullUserKey,l.toJSON())}getCurrentUser(){var l=this;return(0,p.Z)(function*(){const h=yield l.persistence._get(l.fullUserKey);return h?Nt._fromJSON(l.auth,h):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(l){var h=this;return(0,p.Z)(function*(){if(h.persistence===l)return;const w=yield h.getCurrentUser();return yield h.removeCurrentUser(),h.persistence=l,w?h.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(l,h,w="authUser"){return(0,p.Z)(function*(){if(!h.length)return new Kn(ke(qt),l,w);const U=(yield Promise.all(h.map(function(){var Xt=(0,p.Z)(function*(Tn){if(yield Tn._isAvailable())return Tn});return function(Tn){return Xt.apply(this,arguments)}}()))).filter(Xt=>Xt);let Y=U[0]||ke(qt);const Pe=Mn(w,l.config.apiKey,l.name);let Xe=null;for(const Xt of h)try{const Tn=yield Xt._get(Pe);if(Tn){const mn=Nt._fromJSON(l,Tn);Xt!==Y&&(Xe=mn),Y=Xt;break}}catch(Tn){}const kt=U.filter(Xt=>Xt._shouldAllowMigration);return Y._shouldAllowMigration&&kt.length?(Y=kt[0],Xe&&(yield Y._set(Pe,Xe.toJSON())),yield Promise.all(h.map(function(){var Xt=(0,p.Z)(function*(Tn){if(Tn!==Y)try{yield Tn._remove(Pe)}catch(mn){}});return function(Tn){return Xt.apply(this,arguments)}}())),new Kn(Y,l,w)):new Kn(Y,l,w)})()}}function ai(g){const l=g.toLowerCase();if(l.includes("opera/")||l.includes("opr/")||l.includes("opios/"))return"Opera";if(rr(l))return"IEMobile";if(l.includes("msie")||l.includes("trident/"))return"IE";if(l.includes("edge/"))return"Edge";if(wr(l))return"Firefox";if(l.includes("silk/"))return"Silk";if(_r(l))return"Blackberry";if(Un(l))return"Webos";if(Pn(l))return"Safari";if((l.includes("chrome/")||dn(l))&&!l.includes("edge/"))return"Chrome";if(yr(l))return"Android";{const w=g.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==w?void 0:w.length))return w[1]}return"Other"}function wr(g=(0,V.z$)()){return/firefox\//i.test(g)}function Pn(g=(0,V.z$)()){const l=g.toLowerCase();return l.includes("safari/")&&!l.includes("chrome/")&&!l.includes("crios/")&&!l.includes("android")}function dn(g=(0,V.z$)()){return/crios\//i.test(g)}function rr(g=(0,V.z$)()){return/iemobile/i.test(g)}function yr(g=(0,V.z$)()){return/android/i.test(g)}function _r(g=(0,V.z$)()){return/blackberry/i.test(g)}function Un(g=(0,V.z$)()){return/webos/i.test(g)}function Ar(g=(0,V.z$)()){return/iphone|ipad|ipod/i.test(g)}function Pr(g=(0,V.z$)()){return Ar(g)||yr(g)||Un(g)||_r(g)||/windows phone/i.test(g)||rr(g)}function Sr(g,l=[]){let h;switch(g){case"Browser":h=ai((0,V.z$)());break;case"Worker":h=`${ai((0,V.z$)())}-${g}`;break;default:h=g}const w=l.length?l.join(","):"FirebaseCore-web";return`${h}/JsCore/${ue.SDK_VERSION}/${w}`}class On{constructor(l,h){this.app=l,this.config=h,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new an(this),this.idTokenSubscription=new an(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=De,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=l.name,this.clientVersion=h.sdkClientVersion}_initializeWithPersistence(l,h){var w=this;return h&&(this._popupRedirectResolver=ke(h)),this._initializationPromise=this.queue((0,p.Z)(function*(){var U,Y;if(!w._deleted&&(w.persistenceManager=yield Kn.create(w,l),!w._deleted)){if(null===(U=w._popupRedirectResolver)||void 0===U?void 0:U._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch(Pe){}yield w.initializeCurrentUser(h),w.lastNotifiedUid=(null===(Y=w.currentUser)||void 0===Y?void 0:Y.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var l=this;return(0,p.Z)(function*(){if(l._deleted)return;const h=yield l.assertedPersistence.getCurrentUser();if(l.currentUser||h){if(l.currentUser&&h&&l.currentUser.uid===h.uid)return l._currentUser._assign(h),void(yield l.currentUser.getIdToken());yield l._updateCurrentUser(h)}})()}initializeCurrentUser(l){var h=this;return(0,p.Z)(function*(){var w;let U=yield h.assertedPersistence.getCurrentUser();if(l&&h.config.authDomain){yield h.getOrInitRedirectPersistenceManager();const Y=null===(w=h.redirectUser)||void 0===w?void 0:w._redirectEventId,Pe=null==U?void 0:U._redirectEventId,Xe=yield h.tryRedirectSignIn(l);(!Y||Y===Pe)&&(null==Xe?void 0:Xe.user)&&(U=Xe.user)}return U?U._redirectEventId?(we(h._popupRedirectResolver,h,"argument-error"),yield h.getOrInitRedirectPersistenceManager(),h.redirectUser&&h.redirectUser._redirectEventId===U._redirectEventId?h.directlySetCurrentUser(U):h.reloadAndSetCurrentUserOrClear(U)):h.reloadAndSetCurrentUserOrClear(U):h.directlySetCurrentUser(null)})()}tryRedirectSignIn(l){var h=this;return(0,p.Z)(function*(){let w=null;try{w=yield h._popupRedirectResolver._completeRedirectFn(h,l,!0)}catch(U){yield h._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(l){var h=this;return(0,p.Z)(function*(){try{yield nr(l)}catch(w){if("auth/network-request-failed"!==w.code)return h.directlySetCurrentUser(null)}return h.directlySetCurrentUser(l)})()}useDeviceLanguage(){this.languageCode=function St(){if("undefined"==typeof navigator)return null;const g=navigator;return g.languages&&g.languages[0]||g.language||null}()}_delete(){var l=this;return(0,p.Z)(function*(){l._deleted=!0})()}updateCurrentUser(l){var h=this;return(0,p.Z)(function*(){const w=l?(0,V.m9)(l):null;return w&&we(w.auth.config.apiKey===h.config.apiKey,h,"invalid-user-token"),h._updateCurrentUser(w&&w._clone(h))})()}_updateCurrentUser(l){var h=this;return(0,p.Z)(function*(){if(!h._deleted)return l&&we(h.tenantId===l.tenantId,h,"tenant-id-mismatch"),h.queue((0,p.Z)(function*(){yield h.directlySetCurrentUser(l),h.notifyAuthListeners()}))})()}signOut(){var l=this;return(0,p.Z)(function*(){return(l.redirectPersistenceManager||l._popupRedirectResolver)&&(yield l._setRedirectUser(null)),l._updateCurrentUser(null)})()}setPersistence(l){var h=this;return this.queue((0,p.Z)(function*(){yield h.assertedPersistence.setPersistence(ke(l))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(l){this._errorFactory=new V.LL("auth","Firebase",l())}onAuthStateChanged(l,h,w){return this.registerStateListener(this.authStateSubscription,l,h,w)}onIdTokenChanged(l,h,w){return this.registerStateListener(this.idTokenSubscription,l,h,w)}toJSON(){var l;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(l=this._currentUser)||void 0===l?void 0:l.toJSON()}}_setRedirectUser(l,h){var w=this;return(0,p.Z)(function*(){const U=yield w.getOrInitRedirectPersistenceManager(h);return null===l?U.removeCurrentUser():U.setCurrentUser(l)})()}getOrInitRedirectPersistenceManager(l){var h=this;return(0,p.Z)(function*(){if(!h.redirectPersistenceManager){const w=l&&ke(l)||h._popupRedirectResolver;we(w,h,"argument-error"),h.redirectPersistenceManager=yield Kn.create(h,[ke(w._redirectPersistence)],"redirectUser"),h.redirectUser=yield h.redirectPersistenceManager.getCurrentUser()}return h.redirectPersistenceManager})()}_redirectUserForId(l){var h=this;return(0,p.Z)(function*(){var w,U;return h._isInitialized&&(yield h.queue((0,p.Z)(function*(){}))),(null===(w=h._currentUser)||void 0===w?void 0:w._redirectEventId)===l?h._currentUser:(null===(U=h.redirectUser)||void 0===U?void 0:U._redirectEventId)===l?h.redirectUser:null})()}_persistUserIfCurrent(l){var h=this;return(0,p.Z)(function*(){if(l===h.currentUser)return h.queue((0,p.Z)(function*(){return h.directlySetCurrentUser(l)}))})()}_notifyListenersIfCurrent(l){l===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var l,h;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(h=null===(l=this.currentUser)||void 0===l?void 0:l.uid)&&void 0!==h?h:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(l,h,w,U){if(this._deleted)return()=>{};const Y="function"==typeof h?h:h.next.bind(h),Pe=this._isInitialized?Promise.resolve():this._initializationPromise;return we(Pe,this,"internal-error"),Pe.then(()=>Y(this.currentUser)),"function"==typeof h?l.addObserver(h,w,U):l.addObserver(h)}directlySetCurrentUser(l){var h=this;return(0,p.Z)(function*(){h.currentUser&&h.currentUser!==l&&(h._currentUser._stopProactiveRefresh(),l&&h.isProactiveRefreshEnabled&&l._startProactiveRefresh()),h.currentUser=l,l?yield h.assertedPersistence.setCurrentUser(l):yield h.assertedPersistence.removeCurrentUser()})()}queue(l){return this.operations=this.operations.then(l,l),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(l){!l||this.frameworks.includes(l)||(this.frameworks.push(l),this.frameworks.sort(),this.clientVersion=Sr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var l=this;return(0,p.Z)(function*(){const h={"X-Client-Version":l.clientVersion};return l.app.options.appId&&(h["X-Firebase-gmpid"]=l.app.options.appId),h})()}}function lt(g){return(0,V.m9)(g)}class an{constructor(l){this.auth=l,this.observer=null,this.addObserver=(0,V.ne)(h=>this.observer=h)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Tr(g){const l=g.indexOf(":");return l<0?"":g.substr(0,l+1)}function qn(g){if(!g)return null;const l=Number(g);return isNaN(l)?null:l}class hn{constructor(l,h){this.providerId=l,this.signInMethod=h}toJSON(){return xe("not implemented")}_getIdTokenResponse(l){return xe("not implemented")}_linkToIdToken(l,h){return xe("not implemented")}_getReauthenticationResolver(l){return xe("not implemented")}}function Jr(g,l){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,p.Z)(function*(g,l){return ln(g,"POST","/v1/accounts:resetPassword",on(g,l))})).apply(this,arguments)}function En(g,l){return ni.apply(this,arguments)}function ni(){return(ni=(0,p.Z)(function*(g,l){return ln(g,"POST","/v1/accounts:update",l)})).apply(this,arguments)}function yi(g,l){return ge.apply(this,arguments)}function ge(){return(ge=(0,p.Z)(function*(g,l){return ln(g,"POST","/v1/accounts:update",on(g,l))})).apply(this,arguments)}function Le(){return(Le=(0,p.Z)(function*(g,l){return xn(g,"POST","/v1/accounts:signInWithPassword",on(g,l))})).apply(this,arguments)}function qe(g,l){return vt.apply(this,arguments)}function vt(){return(vt=(0,p.Z)(function*(g,l){return ln(g,"POST","/v1/accounts:sendOobCode",on(g,l))})).apply(this,arguments)}function bt(g,l){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,p.Z)(function*(g,l){return qe(g,l)})).apply(this,arguments)}function dr(g,l){return ce.apply(this,arguments)}function ce(){return(ce=(0,p.Z)(function*(g,l){return qe(g,l)})).apply(this,arguments)}function de(g,l){return Q.apply(this,arguments)}function Q(){return(Q=(0,p.Z)(function*(g,l){return qe(g,l)})).apply(this,arguments)}function Be(g,l){return dt.apply(this,arguments)}function dt(){return(dt=(0,p.Z)(function*(g,l){return qe(g,l)})).apply(this,arguments)}function sn(){return(sn=(0,p.Z)(function*(g,l){return xn(g,"POST","/v1/accounts:signInWithEmailLink",on(g,l))})).apply(this,arguments)}function Er(){return(Er=(0,p.Z)(function*(g,l){return xn(g,"POST","/v1/accounts:signInWithEmailLink",on(g,l))})).apply(this,arguments)}class ji extends hn{constructor(l,h,w,U=null){super("password",w),this._email=l,this._password=h,this._tenantId=U}static _fromEmailAndPassword(l,h){return new ji(l,h,"password")}static _fromEmailAndCode(l,h,w=null){return new ji(l,h,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(l){const h="string"==typeof l?JSON.parse(l):l;if((null==h?void 0:h.email)&&(null==h?void 0:h.password)){if("password"===h.signInMethod)return this._fromEmailAndPassword(h.email,h.password);if("emailLink"===h.signInMethod)return this._fromEmailAndCode(h.email,h.password,h.tenantId)}return null}_getIdTokenResponse(l){var h=this;return(0,p.Z)(function*(){switch(h.signInMethod){case"password":return function rt(g,l){return Le.apply(this,arguments)}(l,{returnSecureToken:!0,email:h._email,password:h._password});case"emailLink":return function Vt(g,l){return sn.apply(this,arguments)}(l,{email:h._email,oobCode:h._password});default:Ue(l,"internal-error")}})()}_linkToIdToken(l,h){var w=this;return(0,p.Z)(function*(){switch(w.signInMethod){case"password":return En(l,{idToken:h,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function Kr(g,l){return Er.apply(this,arguments)}(l,{idToken:h,email:w._email,oobCode:w._password});default:Ue(l,"internal-error")}})()}_getReauthenticationResolver(l){return this._getIdTokenResponse(l)}}function hr(g,l){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,p.Z)(function*(g,l){return xn(g,"POST","/v1/accounts:signInWithIdp",on(g,l))})).apply(this,arguments)}class Re extends hn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(l){const h=new Re(l.providerId,l.signInMethod);return l.idToken||l.accessToken?(l.idToken&&(h.idToken=l.idToken),l.accessToken&&(h.accessToken=l.accessToken),l.nonce&&!l.pendingToken&&(h.nonce=l.nonce),l.pendingToken&&(h.pendingToken=l.pendingToken)):l.oauthToken&&l.oauthTokenSecret?(h.accessToken=l.oauthToken,h.secret=l.oauthTokenSecret):Ue("argument-error"),h}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(l){const h="string"==typeof l?JSON.parse(l):l,{providerId:w,signInMethod:U}=h,Y=(0,ee._T)(h,["providerId","signInMethod"]);if(!w||!U)return null;const Pe=new Re(w,U);return Pe.idToken=Y.idToken||void 0,Pe.accessToken=Y.accessToken||void 0,Pe.secret=Y.secret,Pe.nonce=Y.nonce,Pe.pendingToken=Y.pendingToken||null,Pe}_getIdTokenResponse(l){return hr(l,this.buildRequest())}_linkToIdToken(l,h){const w=this.buildRequest();return w.idToken=h,hr(l,w)}_getReauthenticationResolver(l){const h=this.buildRequest();return h.autoCreate=!1,hr(l,h)}buildRequest(){const l={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)l.pendingToken=this.pendingToken;else{const h={};this.idToken&&(h.id_token=this.idToken),this.accessToken&&(h.access_token=this.accessToken),this.secret&&(h.oauth_token_secret=this.secret),h.providerId=this.providerId,this.nonce&&!this.pendingToken&&(h.nonce=this.nonce),l.postBody=(0,V.xO)(h)}return l}}function be(g,l){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,p.Z)(function*(g,l){return ln(g,"POST","/v1/accounts:sendVerificationCode",on(g,l))})).apply(this,arguments)}function Dt(){return(Dt=(0,p.Z)(function*(g,l){return xn(g,"POST","/v1/accounts:signInWithPhoneNumber",on(g,l))})).apply(this,arguments)}function ir(){return(ir=(0,p.Z)(function*(g,l){const h=yield xn(g,"POST","/v1/accounts:signInWithPhoneNumber",on(g,l));if(h.temporaryProof)throw fn(g,"account-exists-with-different-credential",h);return h})).apply(this,arguments)}const xr={USER_NOT_FOUND:"user-not-found"};function fi(){return(fi=(0,p.Z)(function*(g,l){return xn(g,"POST","/v1/accounts:signInWithPhoneNumber",on(g,Object.assign(Object.assign({},l),{operation:"REAUTH"})),xr)})).apply(this,arguments)}class $i extends hn{constructor(l){super("phone","phone"),this.params=l}static _fromVerification(l,h){return new $i({verificationId:l,verificationCode:h})}static _fromTokenResponse(l,h){return new $i({phoneNumber:l,temporaryProof:h})}_getIdTokenResponse(l){return function ft(g,l){return Dt.apply(this,arguments)}(l,this._makeVerificationRequest())}_linkToIdToken(l,h){return function jt(g,l){return ir.apply(this,arguments)}(l,Object.assign({idToken:h},this._makeVerificationRequest()))}_getReauthenticationResolver(l){return function or(g,l){return fi.apply(this,arguments)}(l,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:l,phoneNumber:h,verificationId:w,verificationCode:U}=this.params;return l&&h?{temporaryProof:l,phoneNumber:h}:{sessionInfo:w,code:U}}toJSON(){const l={providerId:this.providerId};return this.params.phoneNumber&&(l.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(l.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(l.verificationCode=this.params.verificationCode),this.params.verificationId&&(l.verificationId=this.params.verificationId),l}static fromJSON(l){"string"==typeof l&&(l=JSON.parse(l));const{verificationId:h,verificationCode:w,phoneNumber:U,temporaryProof:Y}=l;return w||h||U||Y?new $i({verificationId:h,verificationCode:w,phoneNumber:U,temporaryProof:Y}):null}}class _i{constructor(l){var h,w,U,Y,Pe,Xe;const kt=(0,V.zd)((0,V.pd)(l)),Xt=null!==(h=kt.apiKey)&&void 0!==h?h:null,Tn=null!==(w=kt.oobCode)&&void 0!==w?w:null,mn=function es(g){switch(g){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(U=kt.mode)&&void 0!==U?U:null);we(Xt&&Tn&&mn,"argument-error"),this.apiKey=Xt,this.operation=mn,this.code=Tn,this.continueUrl=null!==(Y=kt.continueUrl)&&void 0!==Y?Y:null,this.languageCode=null!==(Pe=kt.languageCode)&&void 0!==Pe?Pe:null,this.tenantId=null!==(Xe=kt.tenantId)&&void 0!==Xe?Xe:null}static parseLink(l){const h=function Rs(g){const l=(0,V.zd)((0,V.pd)(g)).link,h=l?(0,V.zd)((0,V.pd)(l)).deep_link_id:null,w=(0,V.zd)((0,V.pd)(g)).deep_link_id;return(w?(0,V.zd)((0,V.pd)(w)).link:null)||w||h||l||g}(l);try{return new _i(h)}catch(w){return null}}}let ps=(()=>{class g{constructor(){this.providerId=g.PROVIDER_ID}static credential(h,w){return ji._fromEmailAndPassword(h,w)}static credentialWithLink(h,w){const U=_i.parseLink(w);return we(U,"argument-error"),ji._fromEmailAndCode(h,U.code,U.tenantId)}}return g.PROVIDER_ID="password",g.EMAIL_PASSWORD_SIGN_IN_METHOD="password",g.EMAIL_LINK_SIGN_IN_METHOD="emailLink",g})();class ts{constructor(l){this.providerId=l,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(l){this.defaultLanguageCode=l}setCustomParameters(l){return this.customParameters=l,this}getCustomParameters(){return this.customParameters}}class pi extends ts{constructor(){super(...arguments),this.scopes=[]}addScope(l){return this.scopes.includes(l)||this.scopes.push(l),this}getScopes(){return[...this.scopes]}}class Di extends pi{static credentialFromJSON(l){const h="string"==typeof l?JSON.parse(l):l;return we("providerId"in h&&"signInMethod"in h,"argument-error"),Re._fromParams(h)}credential(l){return this._credential(Object.assign(Object.assign({},l),{nonce:l.rawNonce}))}_credential(l){return we(l.idToken||l.accessToken,"argument-error"),Re._fromParams(Object.assign(Object.assign({},l),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(l){return Di.oauthCredentialFromTaggedObject(l)}static credentialFromError(l){return Di.oauthCredentialFromTaggedObject(l.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:l}){if(!l)return null;const{oauthIdToken:h,oauthAccessToken:w,oauthTokenSecret:U,pendingToken:Y,nonce:Pe,providerId:Xe}=l;if(!w&&!U&&!h&&!Y||!Xe)return null;try{return new Di(Xe)._credential({idToken:h,accessToken:w,nonce:Pe,pendingToken:Y})}catch(kt){return null}}}let gs=(()=>{class g extends pi{constructor(){super("facebook.com")}static credential(h){return Re._fromParams({providerId:g.PROVIDER_ID,signInMethod:g.FACEBOOK_SIGN_IN_METHOD,accessToken:h})}static credentialFromResult(h){return g.credentialFromTaggedObject(h)}static credentialFromError(h){return g.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h||!("oauthAccessToken"in h)||!h.oauthAccessToken)return null;try{return g.credential(h.oauthAccessToken)}catch(w){return null}}}return g.FACEBOOK_SIGN_IN_METHOD="facebook.com",g.PROVIDER_ID="facebook.com",g})(),ls=(()=>{class g extends pi{constructor(){super("google.com"),this.addScope("profile")}static credential(h,w){return Re._fromParams({providerId:g.PROVIDER_ID,signInMethod:g.GOOGLE_SIGN_IN_METHOD,idToken:h,accessToken:w})}static credentialFromResult(h){return g.credentialFromTaggedObject(h)}static credentialFromError(h){return g.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:w,oauthAccessToken:U}=h;if(!w&&!U)return null;try{return g.credential(w,U)}catch(Y){return null}}}return g.GOOGLE_SIGN_IN_METHOD="google.com",g.PROVIDER_ID="google.com",g})(),Gs=(()=>{class g extends pi{constructor(){super("github.com")}static credential(h){return Re._fromParams({providerId:g.PROVIDER_ID,signInMethod:g.GITHUB_SIGN_IN_METHOD,accessToken:h})}static credentialFromResult(h){return g.credentialFromTaggedObject(h)}static credentialFromError(h){return g.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h||!("oauthAccessToken"in h)||!h.oauthAccessToken)return null;try{return g.credential(h.oauthAccessToken)}catch(w){return null}}}return g.GITHUB_SIGN_IN_METHOD="github.com",g.PROVIDER_ID="github.com",g})();class bs extends hn{constructor(l,h){super(l,l),this.pendingToken=h}_getIdTokenResponse(l){return hr(l,this.buildRequest())}_linkToIdToken(l,h){const w=this.buildRequest();return w.idToken=h,hr(l,w)}_getReauthenticationResolver(l){const h=this.buildRequest();return h.autoCreate=!1,hr(l,h)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(l){const h="string"==typeof l?JSON.parse(l):l,{providerId:w,signInMethod:U,pendingToken:Y}=h;return w&&U&&Y&&w===U?new bs(w,Y):null}static _create(l,h){return new bs(l,h)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Gi extends ts{constructor(l){we(l.startsWith("saml."),"argument-error"),super(l)}static credentialFromResult(l){return Gi.samlCredentialFromTaggedObject(l)}static credentialFromError(l){return Gi.samlCredentialFromTaggedObject(l.customData||{})}static credentialFromJSON(l){const h=bs.fromJSON(l);return we(h,"argument-error"),h}static samlCredentialFromTaggedObject({_tokenResponse:l}){if(!l)return null;const{pendingToken:h,providerId:w}=l;if(!h||!w)return null;try{return bs._create(w,h)}catch(U){return null}}}let jr=(()=>{class g extends pi{constructor(){super("twitter.com")}static credential(h,w){return Re._fromParams({providerId:g.PROVIDER_ID,signInMethod:g.TWITTER_SIGN_IN_METHOD,oauthToken:h,oauthTokenSecret:w})}static credentialFromResult(h){return g.credentialFromTaggedObject(h)}static credentialFromError(h){return g.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthAccessToken:w,oauthTokenSecret:U}=h;if(!w||!U)return null;try{return g.credential(w,U)}catch(Y){return null}}}return g.TWITTER_SIGN_IN_METHOD="twitter.com",g.PROVIDER_ID="twitter.com",g})();function Ws(g,l){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,p.Z)(function*(g,l){return xn(g,"POST","/v1/accounts:signUp",on(g,l))})).apply(this,arguments)}class $r{constructor(l){this.user=l.user,this.providerId=l.providerId,this._tokenResponse=l._tokenResponse,this.operationType=l.operationType}static _fromIdTokenResponse(l,h,w,U=!1){return(0,p.Z)(function*(){const Y=yield Nt._fromIdTokenResponse(l,w,U),Pe=Is(w);return new $r({user:Y,providerId:Pe,_tokenResponse:w,operationType:h})})()}static _forOperation(l,h,w){return(0,p.Z)(function*(){yield l._updateTokensIfNecessary(w,!0);const U=Is(w);return new $r({user:l,providerId:U,_tokenResponse:w,operationType:h})})()}}function Is(g){return g.providerId?g.providerId:"phoneNumber"in g?"phone":null}function vi(){return(vi=(0,p.Z)(function*(g){var l;const h=lt(g);if(yield h._initializationPromise,null===(l=h.currentUser)||void 0===l?void 0:l.isAnonymous)return new $r({user:h.currentUser,providerId:null,operationType:"signIn"});const w=yield Ws(h,{returnSecureToken:!0}),U=yield $r._fromIdTokenResponse(h,"signIn",w,!0);return yield h._updateCurrentUser(U.user),U})).apply(this,arguments)}class wi extends V.ZR{constructor(l,h,w,U){var Y;super(h.code,h.message),this.operationType=w,this.user=U,Object.setPrototypeOf(this,wi.prototype),this.customData={appName:l.name,tenantId:null!==(Y=l.tenantId)&&void 0!==Y?Y:void 0,_serverResponse:h.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(l,h,w,U){return new wi(l,h,w,U)}}function ns(g,l,h,w){return("reauthenticate"===l?h._getReauthenticationResolver(g):h._getIdTokenResponse(g)).catch(Y=>{throw"auth/multi-factor-auth-required"===Y.code?wi._fromErrorAndOperation(g,Y,l,w):Y})}function Ps(g){return new Set(g.map(({providerId:l})=>l).filter(l=>!!l))}function Wi(){return(Wi=(0,p.Z)(function*(g,l){const h=(0,V.m9)(g);yield G(!0,h,l);const{providerUserInfo:w}=yield nn(h.auth,{idToken:yield h.getIdToken(),deleteProvider:[l]}),U=Ps(w||[]);return h.providerData=h.providerData.filter(Y=>U.has(Y.providerId)),U.has("phone")||(h.phoneNumber=null),yield h.auth._persistUserIfCurrent(h),h})).apply(this,arguments)}function Gn(g,l){return N.apply(this,arguments)}function N(){return(N=(0,p.Z)(function*(g,l,h=!1){const w=yield gr(g,l._linkToIdToken(g.auth,yield g.getIdToken()),h);return $r._forOperation(g,"link",w)})).apply(this,arguments)}function G(g,l,h){return P.apply(this,arguments)}function P(){return(P=(0,p.Z)(function*(g,l,h){yield nr(l);const U=!1===g?"provider-already-linked":"no-such-provider";we(Ps(l.providerData).has(h)===g,l.auth,U)})).apply(this,arguments)}function Z(g,l){return _e.apply(this,arguments)}function _e(){return(_e=(0,p.Z)(function*(g,l,h=!1){const{auth:w}=g,U="reauthenticate";try{const Y=yield gr(g,ns(w,U,l,g),h);we(Y.idToken,w,"internal-error");const Pe=Pt(Y.idToken);we(Pe,w,"internal-error");const{sub:Xe}=Pe;return we(g.uid===Xe,w,"user-mismatch"),$r._forOperation(g,U,Y)}catch(Y){throw"auth/user-not-found"===(null==Y?void 0:Y.code)&&Ue(w,"user-mismatch"),Y}})).apply(this,arguments)}function Je(g,l){return pt.apply(this,arguments)}function pt(){return(pt=(0,p.Z)(function*(g,l,h=!1){const w="signIn",U=yield ns(g,w,l),Y=yield $r._fromIdTokenResponse(g,w,U);return h||(yield g._updateCurrentUser(Y.user)),Y})).apply(this,arguments)}function Zt(g,l){return _n.apply(this,arguments)}function _n(){return(_n=(0,p.Z)(function*(g,l){return Je(lt(g),l)})).apply(this,arguments)}function kn(g,l){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,p.Z)(function*(g,l){const h=(0,V.m9)(g);return yield G(!1,h,l.providerId),Gn(h,l)})).apply(this,arguments)}function Wn(g,l){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,p.Z)(function*(g,l){return Z((0,V.m9)(g),l)})).apply(this,arguments)}function mr(g,l){return fr.apply(this,arguments)}function fr(){return(fr=(0,p.Z)(function*(g,l){return xn(g,"POST","/v1/accounts:signInWithCustomToken",on(g,l))})).apply(this,arguments)}function qr(){return(qr=(0,p.Z)(function*(g,l){const h=lt(g),w=yield mr(h,{token:l,returnSecureToken:!0}),U=yield $r._fromIdTokenResponse(h,"signIn",w);return yield h._updateCurrentUser(U.user),U})).apply(this,arguments)}class Yt{constructor(l,h){this.factorId=l,this.uid=h.mfaEnrollmentId,this.enrollmentTime=new Date(h.enrolledAt).toUTCString(),this.displayName=h.displayName}static _fromServerResponse(l,h){return"phoneInfo"in h?ds._fromServerResponse(l,h):Ue(l,"internal-error")}}class ds extends Yt{constructor(l){super("phone",l),this.phoneNumber=l.phoneInfo}static _fromServerResponse(l,h){return new ds(h)}}function zs(g,l,h){var w;we((null===(w=h.url)||void 0===w?void 0:w.length)>0,g,"invalid-continue-uri"),we(void 0===h.dynamicLinkDomain||h.dynamicLinkDomain.length>0,g,"invalid-dynamic-link-domain"),l.continueUrl=h.url,l.dynamicLinkDomain=h.dynamicLinkDomain,l.canHandleCodeInApp=h.handleCodeInApp,h.iOS&&(we(h.iOS.bundleId.length>0,g,"missing-ios-bundle-id"),l.iOSBundleId=h.iOS.bundleId),h.android&&(we(h.android.packageName.length>0,g,"missing-android-pkg-name"),l.androidInstallApp=h.android.installApp,l.androidMinimumVersionCode=h.android.minimumVersion,l.androidPackageName=h.android.packageName)}function R(){return(R=(0,p.Z)(function*(g,l,h){const w=(0,V.m9)(g),U={requestType:"PASSWORD_RESET",email:l};h&&zs(w,U,h),yield dr(w,U)})).apply(this,arguments)}function z(){return(z=(0,p.Z)(function*(g,l,h){yield Jr((0,V.m9)(g),{oobCode:l,newPassword:h})})).apply(this,arguments)}function Ge(){return(Ge=(0,p.Z)(function*(g,l){yield yi((0,V.m9)(g),{oobCode:l})})).apply(this,arguments)}function Qt(g,l){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,p.Z)(function*(g,l){const h=(0,V.m9)(g),w=yield Jr(h,{oobCode:l}),U=w.requestType;switch(we(U,h,"internal-error"),U){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":we(w.newEmail,h,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":we(w.mfaInfo,h,"internal-error");default:we(w.email,h,"internal-error")}let Y=null;return w.mfaInfo&&(Y=Yt._fromServerResponse(lt(h),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:Y},operation:U}})).apply(this,arguments)}function Ni(){return(Ni=(0,p.Z)(function*(g,l){const{data:h}=yield Qt((0,V.m9)(g),l);return h.email})).apply(this,arguments)}function Ei(){return(Ei=(0,p.Z)(function*(g,l,h){const w=lt(g),U=yield Ws(w,{returnSecureToken:!0,email:l,password:h}),Y=yield $r._fromIdTokenResponse(w,"signIn",U);return yield w._updateCurrentUser(Y.user),Y})).apply(this,arguments)}function Pa(){return(Pa=(0,p.Z)(function*(g,l,h){const w=(0,V.m9)(g),U={requestType:"EMAIL_SIGNIN",email:l};we(h.handleCodeInApp,w,"argument-error"),h&&zs(w,U,h),yield de(w,U)})).apply(this,arguments)}function Ds(){return(Ds=(0,p.Z)(function*(g,l,h){const w=(0,V.m9)(g),U=ps.credentialWithLink(l,h||xt());return we(U._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),Zt(w,U)})).apply(this,arguments)}function Xr(g,l){return hs.apply(this,arguments)}function hs(){return(hs=(0,p.Z)(function*(g,l){return ln(g,"POST","/v1/accounts:createAuthUri",on(g,l))})).apply(this,arguments)}function rs(){return(rs=(0,p.Z)(function*(g,l){const w={identifier:l,continueUri:Lt()?xt():"http://localhost"},{signinMethods:U}=yield Xr((0,V.m9)(g),w);return U||[]})).apply(this,arguments)}function Do(){return(Do=(0,p.Z)(function*(g,l){const h=(0,V.m9)(g),U={requestType:"VERIFY_EMAIL",idToken:yield g.getIdToken()};l&&zs(h.auth,U,l);const{email:Y}=yield bt(h.auth,U);Y!==g.email&&(yield g.reload())})).apply(this,arguments)}function Co(){return(Co=(0,p.Z)(function*(g,l,h){const w=(0,V.m9)(g),Y={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield g.getIdToken(),newEmail:l};h&&zs(w.auth,Y,h);const{email:Pe}=yield Be(w.auth,Y);Pe!==g.email&&(yield g.reload())})).apply(this,arguments)}function Na(g,l){return Js.apply(this,arguments)}function Js(){return(Js=(0,p.Z)(function*(g,l){return ln(g,"POST","/v1/accounts:update",l)})).apply(this,arguments)}function co(){return(co=(0,p.Z)(function*(g,{displayName:l,photoURL:h}){if(void 0===l&&void 0===h)return;const w=(0,V.m9)(g),Y={idToken:yield w.getIdToken(),displayName:l,photoUrl:h,returnSecureToken:!0},Pe=yield gr(w,Na(w.auth,Y));w.displayName=Pe.displayName||null,w.photoURL=Pe.photoUrl||null;const Xe=w.providerData.find(({providerId:kt})=>"password"===kt);Xe&&(Xe.displayName=w.displayName,Xe.photoURL=w.photoURL),yield w._updateTokensIfNecessary(Pe)})).apply(this,arguments)}function Xs(g,l,h){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,p.Z)(function*(g,l,h){const{auth:w}=g,Y={idToken:yield g.getIdToken(),returnSecureToken:!0};l&&(Y.email=l),h&&(Y.password=h);const Pe=yield gr(g,En(w,Y));yield g._updateTokensIfNecessary(Pe,!0)})).apply(this,arguments)}class Ki{constructor(l,h,w={}){this.isNewUser=l,this.providerId=h,this.profile=w}}class na extends Ki{constructor(l,h,w,U){super(l,h,w),this.username=U}}class ka extends Ki{constructor(l,h){super(l,"facebook.com",h)}}class lo extends na{constructor(l,h){super(l,"github.com",h,"string"==typeof(null==h?void 0:h.login)?null==h?void 0:h.login:null)}}class eo extends Ki{constructor(l,h){super(l,"google.com",h)}}class va extends na{constructor(l,h,w){super(l,"twitter.com",h,w)}}function ii(g){const{user:l,_tokenResponse:h}=g;return l.isAnonymous&&!h?{providerId:null,isNewUser:!1,profile:null}:function jo(g){var l,h;if(!g)return null;const{providerId:w}=g,U=g.rawUserInfo?JSON.parse(g.rawUserInfo):{},Y=g.isNewUser||"identitytoolkit#SignupNewUserResponse"===g.kind;if(!w&&(null==g?void 0:g.idToken)){const Pe=null===(h=null===(l=Pt(g.idToken))||void 0===l?void 0:l.firebase)||void 0===h?void 0:h.sign_in_provider;if(Pe)return new Ki(Y,"anonymous"!==Pe&&"custom"!==Pe?Pe:null)}if(!w)return null;switch(w){case"facebook.com":return new ka(Y,U);case"github.com":return new lo(Y,U);case"google.com":return new eo(Y,U);case"twitter.com":return new va(Y,U,g.screenName||null);case"custom":case"anonymous":return new Ki(Y,null);default:return new Ki(Y,w,U)}}(h)}class ms{constructor(l,h){this.type=l,this.credential=h}static _fromIdtoken(l){return new ms("enroll",l)}static _fromMfaPendingCredential(l){return new ms("signin",l)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(l){var h,w;if(null==l?void 0:l.multiFactorSession){if(null===(h=l.multiFactorSession)||void 0===h?void 0:h.pendingCredential)return ms._fromMfaPendingCredential(l.multiFactorSession.pendingCredential);if(null===(w=l.multiFactorSession)||void 0===w?void 0:w.idToken)return ms._fromIdtoken(l.multiFactorSession.idToken)}return null}}class Ts{constructor(l,h,w){this.session=l,this.hints=h,this.signInResolver=w}static _fromError(l,h){const w=lt(l),U=h.customData._serverResponse,Y=(U.mfaInfo||[]).map(Xe=>Yt._fromServerResponse(w,Xe));we(U.mfaPendingCredential,w,"internal-error");const Pe=ms._fromMfaPendingCredential(U.mfaPendingCredential);return new Ts(Pe,Y,function(){var Xe=(0,p.Z)(function*(kt){const Xt=yield kt._process(w,Pe);delete U.mfaInfo,delete U.mfaPendingCredential;const Tn=Object.assign(Object.assign({},U),{idToken:Xt.idToken,refreshToken:Xt.refreshToken});switch(h.operationType){case"signIn":const mn=yield $r._fromIdTokenResponse(w,h.operationType,Tn);return yield w._updateCurrentUser(mn.user),mn;case"reauthenticate":return we(h.user,w,"internal-error"),$r._forOperation(h.user,h.operationType,Tn);default:Ue(w,"internal-error")}});return function(kt){return Xe.apply(this,arguments)}}())}resolveSignIn(l){var h=this;return(0,p.Z)(function*(){return h.signInResolver(l)})()}}function $o(g,l){return ln(g,"POST","/v2/accounts/mfaEnrollment:start",on(g,l))}class Ci{constructor(l){this.user=l,this.enrolledFactors=[],l._onReload(h=>{h.mfaInfo&&(this.enrolledFactors=h.mfaInfo.map(w=>Yt._fromServerResponse(l.auth,w)))})}static _fromUser(l){return new Ci(l)}getSession(){var l=this;return(0,p.Z)(function*(){return ms._fromIdtoken(yield l.user.getIdToken())})()}enroll(l,h){var w=this;return(0,p.Z)(function*(){const U=l,Y=yield w.getSession(),Pe=yield gr(w.user,U._process(w.user.auth,Y,h));return yield w.user._updateTokensIfNecessary(Pe),w.user.reload()})()}unenroll(l){var h=this;return(0,p.Z)(function*(){const w="string"==typeof l?l:l.uid,U=yield h.user.getIdToken(),Y=yield gr(h.user,function Ho(g,l){return ln(g,"POST","/v2/accounts/mfaEnrollment:withdraw",on(g,l))}(h.user.auth,{idToken:U,mfaEnrollmentId:w}));h.enrolledFactors=h.enrolledFactors.filter(({uid:Pe})=>Pe!==w),yield h.user._updateTokensIfNecessary(Y);try{yield h.user.reload()}catch(Pe){if("auth/user-token-expired"!==Pe.code)throw Pe}})()}}const qi=new WeakMap,ys="__sak";class fo{constructor(l,h){this.storageRetriever=l,this.type=h}_isAvailable(){try{return this.storage?(this.storage.setItem(ys,"1"),this.storage.removeItem(ys),Promise.resolve(!0)):Promise.resolve(!1)}catch(l){return Promise.resolve(!1)}}_set(l,h){return this.storage.setItem(l,JSON.stringify(h)),Promise.resolve()}_get(l){const h=this.storage.getItem(l);return Promise.resolve(h?JSON.parse(h):null)}_remove(l){return this.storage.removeItem(l),Promise.resolve()}get storage(){return this.storageRetriever()}}const I=(()=>{class g extends fo{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(h,w)=>this.onStorageEvent(h,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Ao(){const g=(0,V.z$)();return Pn(g)||Ar(g)}()&&function Wt(){try{return!(!window||window===window.top)}catch(g){return!1}}(),this.fallbackToPolling=Pr(),this._shouldAllowMigration=!0}forAllChangedKeys(h){for(const w of Object.keys(this.listeners)){const U=this.storage.getItem(w),Y=this.localCache[w];U!==Y&&h(w,Y,U)}}onStorageEvent(h,w=!1){if(!h.key)return void this.forAllChangedKeys((Xe,kt,Xt)=>{this.notifyListeners(Xe,Xt)});const U=h.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Xe=this.storage.getItem(U);if(h.newValue!==Xe)null!==h.newValue?this.storage.setItem(U,h.newValue):this.storage.removeItem(U);else if(this.localCache[U]===h.newValue&&!w)return}const Y=()=>{const Xe=this.storage.getItem(U);!w&&this.localCache[U]===Xe||this.notifyListeners(U,Xe)},Pe=this.storage.getItem(U);!function Wr(){return(0,V.w1)()&&10===document.documentMode}()||Pe===h.newValue||h.newValue===h.oldValue?Y():setTimeout(Y,10)}notifyListeners(h,w){this.localCache[h]=w;const U=this.listeners[h];if(U)for(const Y of Array.from(U))Y(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((h,w,U)=>{this.onStorageEvent(new StorageEvent("storage",{key:h,oldValue:w,newValue:U}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(h,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[h]||(this.listeners[h]=new Set,this.localCache[h]=this.storage.getItem(h)),this.listeners[h].add(w)}_removeListener(h,w){this.listeners[h]&&(this.listeners[h].delete(w),0===this.listeners[h].size&&delete this.listeners[h]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(h,w){var U=()=>super._set,Y=this;return(0,p.Z)(function*(){yield U().call(Y,h,w),Y.localCache[h]=JSON.stringify(w)})()}_get(h){var w=()=>super._get,U=this;return(0,p.Z)(function*(){const Y=yield w().call(U,h);return U.localCache[h]=JSON.stringify(Y),Y})()}_remove(h){var w=()=>super._remove,U=this;return(0,p.Z)(function*(){yield w().call(U,h),delete U.localCache[h]})()}}return g.type="LOCAL",g})(),$=(()=>{class g extends fo{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(h,w){}_removeListener(h,w){}}return g.type="SESSION",g})();let mt=(()=>{class g{constructor(h){this.eventTarget=h,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(h){const w=this.receivers.find(Y=>Y.isListeningto(h));if(w)return w;const U=new g(h);return this.receivers.push(U),U}isListeningto(h){return this.eventTarget===h}handleEvent(h){var w=this;return(0,p.Z)(function*(){const U=h,{eventId:Y,eventType:Pe,data:Xe}=U.data,kt=w.handlersMap[Pe];if(!(null==kt?void 0:kt.size))return;U.ports[0].postMessage({status:"ack",eventId:Y,eventType:Pe});const Xt=Array.from(kt).map(function(){var mn=(0,p.Z)(function*(Ir){return Ir(U.origin,Xe)});return function(Ir){return mn.apply(this,arguments)}}()),Tn=yield function me(g){return Promise.all(g.map(function(){var l=(0,p.Z)(function*(h){try{return{fulfilled:!0,value:yield h}}catch(w){return{fulfilled:!1,reason:w}}});return function(h){return l.apply(this,arguments)}}()))}(Xt);U.ports[0].postMessage({status:"done",eventId:Y,eventType:Pe,response:Tn})})()}_subscribe(h,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[h]||(this.handlersMap[h]=new Set),this.handlersMap[h].add(w)}_unsubscribe(h,w){this.handlersMap[h]&&w&&this.handlersMap[h].delete(w),(!w||0===this.handlersMap[h].size)&&delete this.handlersMap[h],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return g.receivers=[],g})();function en(g="",l=10){let h="";for(let w=0;w<l;w++)h+=Math.floor(10*Math.random());return g+h}class ei{constructor(l){this.target=l,this.handlers=new Set}removeMessageHandler(l){l.messageChannel&&(l.messageChannel.port1.removeEventListener("message",l.onMessage),l.messageChannel.port1.close()),this.handlers.delete(l)}_send(l,h,w=50){var U=this;return(0,p.Z)(function*(){const Y="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!Y)throw new Error("connection_unavailable");let Pe,Xe;return new Promise((kt,Xt)=>{const Tn=en("",20);Y.port1.start();const mn=setTimeout(()=>{Xt(new Error("unsupported_event"))},w);Xe={messageChannel:Y,onMessage(Ir){const Si=Ir;if(Si.data.eventId===Tn)switch(Si.data.status){case"ack":clearTimeout(mn),Pe=setTimeout(()=>{Xt(new Error("timeout"))},3e3);break;case"done":clearTimeout(Pe),kt(Si.data.response);break;default:clearTimeout(mn),clearTimeout(Pe),Xt(new Error("invalid_response"))}}},U.handlers.add(Xe),Y.port1.addEventListener("message",Xe.onMessage),U.target.postMessage({eventType:l,eventId:Tn,data:h},[Y.port2])}).finally(()=>{Xe&&U.removeMessageHandler(Xe)})})()}}function Qn(){return window}function Fi(){return void 0!==Qn().WorkerGlobalScope&&"function"==typeof Qn().importScripts}function go(){return(go=(0,p.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(g){return null}})).apply(this,arguments)}const no="firebaseLocalStorageDb",Fa="firebaseLocalStorage",Ct="fbase_key";class Vr{constructor(l){this.request=l}toPromise(){return new Promise((l,h)=>{this.request.addEventListener("success",()=>{l(this.request.result)}),this.request.addEventListener("error",()=>{h(this.request.error)})})}}function ks(g,l){return g.transaction([Fa],l?"readwrite":"readonly").objectStore(Fa)}function b(){const g=indexedDB.open(no,1);return new Promise((l,h)=>{g.addEventListener("error",()=>{h(g.error)}),g.addEventListener("upgradeneeded",()=>{const w=g.result;try{w.createObjectStore(Fa,{keyPath:Ct})}catch(U){h(U)}}),g.addEventListener("success",(0,p.Z)(function*(){const w=g.result;w.objectStoreNames.contains(Fa)?l(w):(w.close(),yield function Ea(){const g=indexedDB.deleteDatabase(no);return new Vr(g).toPromise()}(),l(yield b()))}))})}function v(g,l,h){return _.apply(this,arguments)}function _(){return(_=(0,p.Z)(function*(g,l,h){const w=ks(g,!0).put({[Ct]:l,value:h});return new Vr(w).toPromise()})).apply(this,arguments)}function S(){return(S=(0,p.Z)(function*(g,l){const h=ks(g,!1).get(l),w=yield new Vr(h).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function B(g,l){const h=ks(g,!0).delete(l);return new Vr(h).toPromise()}const Gt=(()=>{class g{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var h=this;return(0,p.Z)(function*(){return h.db||(h.db=yield b()),h.db})()}_withRetries(h){var w=this;return(0,p.Z)(function*(){let U=0;for(;;)try{const Y=yield w._openDb();return yield h(Y)}catch(Y){if(U++>3)throw Y;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var h=this;return(0,p.Z)(function*(){return Fi()?h.initializeReceiver():h.initializeSender()})()}initializeReceiver(){var h=this;return(0,p.Z)(function*(){h.receiver=mt._getInstance(function zo(){return Fi()?self:null}()),h.receiver._subscribe("keyChanged",function(){var w=(0,p.Z)(function*(U,Y){return{keyProcessed:(yield h._poll()).includes(Y.key)}});return function(U,Y){return w.apply(this,arguments)}}()),h.receiver._subscribe("ping",function(){var w=(0,p.Z)(function*(U,Y){return["keyChanged"]});return function(U,Y){return w.apply(this,arguments)}}())})()}initializeSender(){var h=this;return(0,p.Z)(function*(){var w,U;if(h.activeServiceWorker=yield function po(){return go.apply(this,arguments)}(),!h.activeServiceWorker)return;h.sender=new ei(h.activeServiceWorker);const Y=yield h.sender._send("ping",{},800);!Y||(null===(w=Y[0])||void 0===w?void 0:w.fulfilled)&&(null===(U=Y[0])||void 0===U?void 0:U.value.includes("keyChanged"))&&(h.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(h){var w=this;return(0,p.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function Li(){var g;return(null===(g=null==navigator?void 0:navigator.serviceWorker)||void 0===g?void 0:g.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:h},w.serviceWorkerReceiverAvailable?800:50)}catch(U){}})()}_isAvailable(){return(0,p.Z)(function*(){try{if(!indexedDB)return!1;const h=yield b();return yield v(h,ys,"1"),yield B(h,ys),!0}catch(h){}return!1})()}_withPendingWrite(h){var w=this;return(0,p.Z)(function*(){w.pendingWrites++;try{yield h()}finally{w.pendingWrites--}})()}_set(h,w){var U=this;return(0,p.Z)(function*(){return U._withPendingWrite((0,p.Z)(function*(){return yield U._withRetries(Y=>v(Y,h,w)),U.localCache[h]=w,U.notifyServiceWorker(h)}))})()}_get(h){var w=this;return(0,p.Z)(function*(){const U=yield w._withRetries(Y=>function C(g,l){return S.apply(this,arguments)}(Y,h));return w.localCache[h]=U,U})()}_remove(h){var w=this;return(0,p.Z)(function*(){return w._withPendingWrite((0,p.Z)(function*(){return yield w._withRetries(U=>B(U,h)),delete w.localCache[h],w.notifyServiceWorker(h)}))})()}_poll(){var h=this;return(0,p.Z)(function*(){const w=yield h._withRetries(Pe=>{const Xe=ks(Pe,!1).getAll();return new Vr(Xe).toPromise()});if(!w)return[];if(0!==h.pendingWrites)return[];const U=[],Y=new Set;for(const{fbase_key:Pe,value:Xe}of w)Y.add(Pe),JSON.stringify(h.localCache[Pe])!==JSON.stringify(Xe)&&(h.notifyListeners(Pe,Xe),U.push(Pe));for(const Pe of Object.keys(h.localCache))h.localCache[Pe]&&!Y.has(Pe)&&(h.notifyListeners(Pe,null),U.push(Pe));return U})()}notifyListeners(h,w){this.localCache[h]=w;const U=this.listeners[h];if(U)for(const Y of Array.from(U))Y(w)}startPolling(){var h=this;this.stopPolling(),this.pollTimer=setInterval((0,p.Z)(function*(){return h._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(h,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[h]||(this.listeners[h]=new Set,this._get(h)),this.listeners[h].add(w)}_removeListener(h,w){this.listeners[h]&&(this.listeners[h].delete(w),0===this.listeners[h].size&&delete this.listeners[h]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return g.type="LOCAL",g})();function Jn(g,l){return ln(g,"POST","/v2/accounts/mfaSignIn:start",on(g,l))}function sr(){return(sr=(0,p.Z)(function*(g){return(yield ln(g,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function mo(g){return new Promise((l,h)=>{const w=document.createElement("script");w.setAttribute("src",g),w.onload=l,w.onerror=U=>{const Y=Ce("internal-error");Y.customData=U,h(Y)},w.type="text/javascript",w.charset="UTF-8",function As(){var g,l;return null!==(l=null===(g=document.getElementsByTagName("head"))||void 0===g?void 0:g[0])&&void 0!==l?l:document}().appendChild(w)})}function bi(g){return`__${g}${Math.floor(1e6*Math.random())}`}const Fn=1e12;class qo{constructor(l){this.auth=l,this.counter=Fn,this._widgets=new Map}render(l,h){const w=this.counter;return this._widgets.set(w,new lc(l,this.auth.name,h||{})),this.counter++,w}reset(l){var h;const w=l||Fn;null===(h=this._widgets.get(w))||void 0===h||h.delete(),this._widgets.delete(w)}getResponse(l){var h;return(null===(h=this._widgets.get(l||Fn))||void 0===h?void 0:h.getResponse())||""}execute(l){var h=this;return(0,p.Z)(function*(){var w;return null===(w=h._widgets.get(l||Fn))||void 0===w||w.execute(),""})()}}class lc{constructor(l,h,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const U="string"==typeof l?document.getElementById(l):l;we(U,"argument-error",{appName:h}),this.container=U,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function gi(g){const l=[],h="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<g;w++)l.push(h.charAt(Math.floor(Math.random()*h.length)));return l.join("")}(50);const{callback:l,"expired-callback":h}=this.params;if(l)try{l(this.responseToken)}catch(w){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,h)try{h()}catch(w){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const An=bi("rcb"),Ou=new gn(3e4,6e4);class kl{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Qn().grecaptcha}load(l,h=""){return we(function dc(g){return g.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(g)}(h),l,"argument-error"),this.shouldResolveImmediately(h)?Promise.resolve(Qn().grecaptcha):new Promise((w,U)=>{const Y=Qn().setTimeout(()=>{U(Ce(l,"network-request-failed"))},Ou.get());Qn()[An]=()=>{Qn().clearTimeout(Y),delete Qn()[An];const Xe=Qn().grecaptcha;if(!Xe)return void U(Ce(l,"internal-error"));const kt=Xe.render;Xe.render=(Xt,Tn)=>{const mn=kt(Xt,Tn);return this.counter++,mn},this.hostLanguage=h,w(Xe)},mo(`https://www.google.com/recaptcha/api.js??${(0,V.xO)({onload:An,render:"explicit",hl:h})}`).catch(()=>{clearTimeout(Y),U(Ce(l,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(l){return!!Qn().grecaptcha&&(l===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class kr{load(l){return(0,p.Z)(function*(){return new qo(l)})()}clearedOneInstance(){}}const Fl="recaptcha",is={theme:"light",type:"image"};class La{constructor(l,h=Object.assign({},is),w){this.parameters=h,this.type=Fl,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=lt(w),this.isInvisible="invisible"===this.parameters.size,we("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const U="string"==typeof l?document.getElementById(l):l;we(U,this.auth,"argument-error"),this.container=U,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new kr:new kl,this.validateStartingState()}verify(){var l=this;return(0,p.Z)(function*(){l.assertNotDestroyed();const h=yield l.render(),w=l.getAssertedRecaptcha();return w.getResponse(h)||new Promise(Y=>{const Pe=Xe=>{!Xe||(l.tokenChangeListeners.delete(Pe),Y(Xe))};l.tokenChangeListeners.add(Pe),l.isInvisible&&w.execute(h)})})()}render(){try{this.assertNotDestroyed()}catch(l){return Promise.reject(l)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(l=>{throw this.renderPromise=null,l})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(l=>{this.container.removeChild(l)})}validateStartingState(){we(!this.parameters.sitekey,this.auth,"argument-error"),we(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),we("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(l){return h=>{if(this.tokenChangeListeners.forEach(w=>w(h)),"function"==typeof l)l(h);else if("string"==typeof l){const w=Qn()[l];"function"==typeof w&&w(h)}}}assertNotDestroyed(){we(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var l=this;return(0,p.Z)(function*(){if(yield l.init(),!l.widgetId){let h=l.container;if(!l.isInvisible){const w=document.createElement("div");h.appendChild(w),h=w}l.widgetId=l.getAssertedRecaptcha().render(h,l.parameters)}return l.widgetId})()}init(){var l=this;return(0,p.Z)(function*(){we(Lt()&&!Fi(),l.auth,"internal-error"),yield function Ld(){let g=null;return new Promise(l=>{"complete"!==document.readyState?(g=()=>l(),window.addEventListener("load",g)):l()}).catch(l=>{throw g&&window.removeEventListener("load",g),l})}(),l.recaptcha=yield l._recaptchaLoader.load(l.auth,l.auth.languageCode||void 0);const h=yield function vr(g){return sr.apply(this,arguments)}(l.auth);we(h,l.auth,"internal-error"),l.parameters.sitekey=h})()}getAssertedRecaptcha(){return we(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class oi{constructor(l,h){this.verificationId=l,this.onConfirmation=h}confirm(l){const h=$i._fromVerification(this.verificationId,l);return this.onConfirmation(h)}}function Hr(){return(Hr=(0,p.Z)(function*(g,l,h){const w=lt(g),U=yield Ai(w,l,(0,V.m9)(h));return new oi(U,Y=>Zt(w,Y))})).apply(this,arguments)}function qs(){return(qs=(0,p.Z)(function*(g,l,h){const w=(0,V.m9)(g);yield G(!1,w,"phone");const U=yield Ai(w.auth,l,(0,V.m9)(h));return new oi(U,Y=>kn(w,Y))})).apply(this,arguments)}function Va(){return(Va=(0,p.Z)(function*(g,l,h){const w=(0,V.m9)(g),U=yield Ai(w.auth,l,(0,V.m9)(h));return new oi(U,Y=>Wn(w,Y))})).apply(this,arguments)}function Ai(g,l,h){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,p.Z)(function*(g,l,h){var w;const U=yield h.verify();try{let Y;if(we("string"==typeof U,g,"argument-error"),we(h.type===Fl,g,"argument-error"),Y="string"==typeof l?{phoneNumber:l}:l,"session"in Y){const Pe=Y.session;if("phoneNumber"in Y)return we("enroll"===Pe.type,g,"internal-error"),(yield $o(g,{idToken:Pe.credential,phoneEnrollmentInfo:{phoneNumber:Y.phoneNumber,recaptchaToken:U}})).phoneSessionInfo.sessionInfo;{we("signin"===Pe.type,g,"internal-error");const Xe=(null===(w=Y.multiFactorHint)||void 0===w?void 0:w.uid)||Y.multiFactorUid;return we(Xe,g,"missing-multi-factor-info"),(yield Jn(g,{mfaPendingCredential:Pe.credential,mfaEnrollmentId:Xe,phoneSignInInfo:{recaptchaToken:U}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Pe}=yield be(g,{phoneNumber:Y.phoneNumber,recaptchaToken:U});return Pe}}finally{h._reset()}})).apply(this,arguments)}function Ls(){return(Ls=(0,p.Z)(function*(g,l){yield Gn((0,V.m9)(g),l)})).apply(this,arguments)}let xs=(()=>{class g{constructor(h){this.providerId=g.PROVIDER_ID,this.auth=lt(h)}verifyPhoneNumber(h,w){return Ai(this.auth,h,(0,V.m9)(w))}static credential(h,w){return $i._fromVerification(h,w)}static credentialFromResult(h){return g.credentialFromTaggedObject(h)}static credentialFromError(h){return g.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{phoneNumber:w,temporaryProof:U}=h;return w&&U?$i._fromTokenResponse(w,U):null}}return g.PROVIDER_ID="phone",g.PHONE_SIGN_IN_METHOD="phone",g})();function yo(g,l){return l?ke(l):(we(g._popupRedirectResolver,g,"argument-error"),g._popupRedirectResolver)}class Jt extends hn{constructor(l){super("custom","custom"),this.params=l}_getIdTokenResponse(l){return hr(l,this._buildIdpRequest())}_linkToIdToken(l,h){return hr(l,this._buildIdpRequest(h))}_getReauthenticationResolver(l){return hr(l,this._buildIdpRequest())}_buildIdpRequest(l){const h={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return l&&(h.idToken=l),h}}function Ud(g){return Je(g.auth,new Jt(g),g.bypassAuthState)}function su(g){const{auth:l,user:h}=g;return we(h,l,"internal-error"),Z(h,new Jt(g),g.bypassAuthState)}function xo(g){return sa.apply(this,arguments)}function sa(){return(sa=(0,p.Z)(function*(g){const{auth:l,user:h}=g;return we(h,l,"internal-error"),Gn(h,new Jt(g),g.bypassAuthState)})).apply(this,arguments)}class li{constructor(l,h,w,U,Y=!1){this.auth=l,this.resolver=w,this.user=U,this.bypassAuthState=Y,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(h)?h:[h]}execute(){var l=this;return new Promise(function(){var h=(0,p.Z)(function*(w,U){l.pendingPromise={resolve:w,reject:U};try{l.eventManager=yield l.resolver._initialize(l.auth),yield l.onExecution(),l.eventManager.registerConsumer(l)}catch(Y){l.reject(Y)}});return function(w,U){return h.apply(this,arguments)}}())}onAuthEvent(l){var h=this;return(0,p.Z)(function*(){const{urlResponse:w,sessionId:U,postBody:Y,tenantId:Pe,error:Xe,type:kt}=l;if(Xe)return void h.reject(Xe);const Xt={auth:h.auth,requestUri:w,sessionId:U,tenantId:Pe||void 0,postBody:Y||void 0,user:h.user,bypassAuthState:h.bypassAuthState};try{h.resolve(yield h.getIdpTask(kt)(Xt))}catch(Tn){h.reject(Tn)}})()}onError(l){this.reject(l)}getIdpTask(l){switch(l){case"signInViaPopup":case"signInViaRedirect":return Ud;case"linkViaPopup":case"linkViaRedirect":return xo;case"reauthViaPopup":case"reauthViaRedirect":return su;default:Ue(this.auth,"internal-error")}}resolve(l){Ae(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(l),this.unregisterAndCleanUp()}reject(l){Ae(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(l),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ou=new gn(2e3,1e4);function Ru(){return(Ru=(0,p.Z)(function*(g,l,h){const w=lt(g);yt(g,l,ts);const U=yo(w,h);return new fc(w,"signInViaPopup",l,U).executeNotNull()})).apply(this,arguments)}function au(){return(au=(0,p.Z)(function*(g,l,h){const w=(0,V.m9)(g);yt(w.auth,l,ts);const U=yo(w.auth,h);return new fc(w.auth,"reauthViaPopup",l,U,w).executeNotNull()})).apply(this,arguments)}function hc(){return(hc=(0,p.Z)(function*(g,l,h){const w=(0,V.m9)(g);yt(w.auth,l,ts);const U=yo(w.auth,h);return new fc(w.auth,"linkViaPopup",l,U,w).executeNotNull()})).apply(this,arguments)}let fc=(()=>{class g extends li{constructor(h,w,U,Y,Pe){super(h,w,Y,Pe),this.provider=U,this.authWindow=null,this.pollId=null,g.currentPopupAction&&g.currentPopupAction.cancel(),g.currentPopupAction=this}executeNotNull(){var h=this;return(0,p.Z)(function*(){const w=yield h.execute();return we(w,h.auth,"internal-error"),w})()}onExecution(){var h=this;return(0,p.Z)(function*(){Ae(1===h.filter.length,"Popup operations only handle one event");const w=en();h.authWindow=yield h.resolver._openPopup(h.auth,h.provider,h.filter[0],w),h.authWindow.associatedEvent=w,h.resolver._originValidation(h.auth).catch(U=>{h.reject(U)}),h.resolver._isIframeWebStorageSupported(h.auth,U=>{U||h.reject(Ce(h.auth,"web-storage-unsupported"))}),h.pollUserCancellation()})()}get eventId(){var h;return(null===(h=this.authWindow)||void 0===h?void 0:h.associatedEvent)||null}cancel(){this.reject(Ce(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,g.currentPopupAction=null}pollUserCancellation(){const h=()=>{var w,U;this.pollId=(null===(U=null===(w=this.authWindow)||void 0===w?void 0:w.window)||void 0===U?void 0:U.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Ce(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(h,ou.get())};h()}}return g.currentPopupAction=null,g})();const Zo=new Map;class ss extends li{constructor(l,h,w=!1){super(l,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],h,void 0,w),this.eventId=null}execute(){var l=()=>super.execute,h=this;return(0,p.Z)(function*(){let w=Zo.get(h.auth._key());if(!w){try{const Y=(yield function Pu(g,l){return x.apply(this,arguments)}(h.resolver,h.auth))?yield l().call(h):null;w=()=>Promise.resolve(Y)}catch(U){w=()=>Promise.reject(U)}Zo.set(h.auth._key(),w)}return h.bypassAuthState||Zo.set(h.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(l){var h=()=>super.onAuthEvent,w=this;return(0,p.Z)(function*(){if("signInViaRedirect"===l.type)return h().call(w,l);if("unknown"!==l.type){if(l.eventId){const U=yield w.auth._redirectUserForId(l.eventId);if(U)return w.user=U,h().call(w,l);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,p.Z)(function*(){})()}cleanUp(){}}function x(){return(x=(0,p.Z)(function*(g,l){const h=st(l),w=We(g);if(!(yield w._isAvailable()))return!1;const U="true"===(yield w._get(h));return yield w._remove(h),U})).apply(this,arguments)}function k(g,l){return K.apply(this,arguments)}function K(){return(K=(0,p.Z)(function*(g,l){return We(g)._set(st(l),"true")})).apply(this,arguments)}function We(g){return ke(g._redirectPersistence)}function st(g){return Mn("pendingRedirect",g.config.apiKey,g.name)}function tn(){return(tn=(0,p.Z)(function*(g,l,h){const w=lt(g);yt(g,l,ts);const U=yo(w,h);return yield k(U,w),U._openRedirect(w,l,"signInViaRedirect")})).apply(this,arguments)}function Ur(){return(Ur=(0,p.Z)(function*(g,l,h){const w=(0,V.m9)(g);yt(w.auth,l,ts);const U=yo(w.auth,h);yield k(U,w.auth);const Y=yield pc(w);return U._openRedirect(w.auth,l,"reauthViaRedirect",Y)})).apply(this,arguments)}function Ua(){return(Ua=(0,p.Z)(function*(g,l,h){const w=(0,V.m9)(g);yt(w.auth,l,ts);const U=yo(w.auth,h);yield G(!1,w,l.providerId),yield k(U,w.auth);const Y=yield pc(w);return U._openRedirect(w.auth,l,"linkViaRedirect",Y)})).apply(this,arguments)}function wo(){return(wo=(0,p.Z)(function*(g,l){return yield lt(g)._initializationPromise,Oo(g,l,!1)})).apply(this,arguments)}function Oo(g,l){return oa.apply(this,arguments)}function oa(){return(oa=(0,p.Z)(function*(g,l,h=!1){const w=lt(g),U=yo(w,l),Pe=yield new ss(w,U,h).execute();return Pe&&!h&&(delete Pe.user._redirectEventId,yield w._persistUserIfCurrent(Pe.user),yield w._setRedirectUser(null,l)),Pe})).apply(this,arguments)}function pc(g){return Yo.apply(this,arguments)}function Yo(){return(Yo=(0,p.Z)(function*(g){const l=en(`${g.uid}:::`);return g._redirectEventId=l,yield g.auth._setRedirectUser(g),yield g.auth._persistUserIfCurrent(g),l})).apply(this,arguments)}class Ll{constructor(l){this.auth=l,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(l){this.consumers.add(l),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,l)&&(this.sendToConsumer(this.queuedRedirectEvent,l),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(l){this.consumers.delete(l)}onEvent(l){if(this.hasEventBeenHandled(l))return!1;let h=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(l,w)&&(h=!0,this.sendToConsumer(l,w),this.saveEventToCache(l))}),this.hasHandledPotentialRedirect||!function ua(g){switch(g.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Vl(g);default:return!1}}(l)||(this.hasHandledPotentialRedirect=!0,h||(this.queuedRedirectEvent=l,h=!0)),h}sendToConsumer(l,h){var w;if(l.error&&!Vl(l)){const U=(null===(w=l.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";h.onError(Ce(this.auth,U))}else h.onAuthEvent(l)}isEventForConsumer(l,h){const w=null===h.eventId||!!l.eventId&&l.eventId===h.eventId;return h.filter.includes(l.type)&&w}hasEventBeenHandled(l){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(cu(l))}saveEventToCache(l){this.cachedEventUids.add(cu(l)),this.lastProcessedEventTime=Date.now()}}function cu(g){return[g.type,g.eventId,g.sessionId,g.tenantId].filter(l=>l).join("-")}function Vl({type:g,error:l}){return"unknown"===g&&"auth/no-auth-event"===(null==l?void 0:l.code)}function gc(g){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,p.Z)(function*(g,l={}){return ln(g,"GET","/v1/projects",l)})).apply(this,arguments)}const mc=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Zc=/^https?/;function ca(){return(ca=(0,p.Z)(function*(g){if(g.config.emulator)return;const{authorizedDomains:l}=yield gc(g);for(const h of l)try{if(lu(h))return}catch(w){}Ue(g,"unauthorized-domain")})).apply(this,arguments)}function lu(g){const l=xt(),{protocol:h,hostname:w}=new URL(l);if(g.startsWith("chrome-extension://")){const Pe=new URL(g);return""===Pe.hostname&&""===w?"chrome-extension:"===h&&g.replace("chrome-extension://","")===l.replace("chrome-extension://",""):"chrome-extension:"===h&&Pe.hostname===w}if(!Zc.test(h))return!1;if(mc.test(g))return w===g;const U=g.replace(/\./g,"\\.");return new RegExp("^(.+\\."+U+"|"+U+")$","i").test(w)}const Nu=new gn(3e4,6e4);function Ro(){const g=Qn().___jsl;if(null==g?void 0:g.H)for(const l of Object.keys(g.H))if(g.H[l].r=g.H[l].r||[],g.H[l].L=g.H[l].L||[],g.H[l].r=[...g.H[l].L],g.CP)for(let h=0;h<g.CP.length;h++)g.CP[h]=null}let ja=null;function If(g){return ja=ja||function Bl(g){return new Promise((l,h)=>{var w,U,Y;function Pe(){Ro(),gapi.load("gapi.iframes",{callback:()=>{l(gapi.iframes.getContext())},ontimeout:()=>{Ro(),h(Ce(g,"network-request-failed"))},timeout:Nu.get()})}if(null===(U=null===(w=Qn().gapi)||void 0===w?void 0:w.iframes)||void 0===U?void 0:U.Iframe)l(gapi.iframes.getContext());else{if(!(null===(Y=Qn().gapi)||void 0===Y?void 0:Y.load)){const Xe=bi("iframefcb");return Qn()[Xe]=()=>{gapi.load?Pe():h(Ce(g,"network-request-failed"))},mo(`https://apis.google.com/js/api.js?onload=${Xe}`).catch(kt=>h(kt))}Pe()}}).catch(l=>{throw ja=null,l})}(g),ja}const jl=new gn(5e3,15e3),Yc={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Qc=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function du(g){const l=g.config;we(l.authDomain,g,"auth-domain-config-required");const h=l.emulator?Bt(l,"emulator/auth/iframe"):`https://${g.config.authDomain}/__/auth/iframe`,w={apiKey:l.apiKey,appName:g.name,v:ue.SDK_VERSION},U=Qc.get(g.config.apiHost);U&&(w.eid=U);const Y=g._getFrameworks();return Y.length&&(w.fw=Y.join(",")),`${h}?${(0,V.xO)(w).slice(1)}`}function ku(){return ku=(0,p.Z)(function*(g){const l=yield If(g),h=Qn().gapi;return we(h,g,"internal-error"),l.open({where:document.body,url:du(g),messageHandlersFilter:h.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Yc,dontclear:!0},w=>new Promise(function(){var U=(0,p.Z)(function*(Y,Pe){yield w.restyle({setHideOnLeave:!1});const Xe=Ce(g,"network-request-failed"),kt=Qn().setTimeout(()=>{Pe(Xe)},jl.get());function Xt(){Qn().clearTimeout(kt),Y(w)}w.ping(Xt).then(Xt,()=>{Pe(Xe)})});return function(Y,Pe){return U.apply(this,arguments)}}()))}),ku.apply(this,arguments)}const dg={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class el{constructor(l){this.window=l,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(l){}}}function tl(g,l,h,w,U,Y){we(g.config.authDomain,g,"auth-domain-config-required"),we(g.config.apiKey,g,"invalid-api-key");const Pe={apiKey:g.config.apiKey,appName:g.name,authType:h,redirectUrl:w,v:ue.SDK_VERSION,eventId:U};if(l instanceof ts){l.setDefaultLanguage(g.languageCode),Pe.providerId=l.providerId||"",(0,V.xb)(l.getCustomParameters())||(Pe.customParameters=JSON.stringify(l.getCustomParameters()));for(const[kt,Xt]of Object.entries(Y||{}))Pe[kt]=Xt}if(l instanceof pi){const kt=l.getScopes().filter(Xt=>""!==Xt);kt.length>0&&(Pe.scopes=kt.join(","))}g.tenantId&&(Pe.tid=g.tenantId);const Xe=Pe;for(const kt of Object.keys(Xe))void 0===Xe[kt]&&delete Xe[kt];return`${function yc({config:g}){return g.emulator?Bt(g,"emulator/auth/handler"):`https://${g.authDomain}/__/auth/handler`}(g)}?${(0,V.xO)(Xe).slice(1)}`}const la="webStorageSupport";class vc extends class Hl{constructor(l){this.factorId=l}_process(l,h,w){switch(h.type){case"enroll":return this._finalizeEnroll(l,h.credential,w);case"signin":return this._finalizeSignIn(l,h.credential);default:return xe("unexpected MultiFactorSessionType")}}}{constructor(l){super("phone"),this.credential=l}static _fromCredential(l){return new vc(l)}_finalizeEnroll(l,h,w){return function cr(g,l){return ln(g,"POST","/v2/accounts/mfaEnrollment:finalize",on(g,l))}(l,{idToken:h,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(l,h){return function un(g,l){return ln(g,"POST","/v2/accounts/mfaSignIn:finalize",on(g,l))}(l,{mfaPendingCredential:h,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let hg=(()=>{class g{constructor(){}static assertion(h){return vc._fromCredential(h)}}return g.FACTOR_ID="phone",g})();var Gl="@firebase/auth";class Wl{constructor(l){this.auth=l,this.internalListeners=new Map}getUid(){var l;return this.assertAuthConfigured(),(null===(l=this.auth.currentUser)||void 0===l?void 0:l.uid)||null}getToken(l){var h=this;return(0,p.Z)(function*(){return h.assertAuthConfigured(),yield h.auth._initializationPromise,h.auth.currentUser?{accessToken:yield h.auth.currentUser.getIdToken(l)}:null})()}addAuthTokenListener(l){if(this.assertAuthConfigured(),this.internalListeners.has(l))return;const h=this.auth.onIdTokenChanged(w=>{var U;l((null===(U=w)||void 0===U?void 0:U.stsTokenManager.accessToken)||null)});this.internalListeners.set(l,h),this.updateProactiveRefresh()}removeAuthTokenListener(l){this.assertAuthConfigured();const h=this.internalListeners.get(l);!h||(this.internalListeners.delete(l),h(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Ga(){return window}function da(){return(da=(0,p.Z)(function*(g,l,h){var w;const{BuildInfo:U}=Ga();Ae(l.sessionId,"AuthEvent did not contain a session ID");const Y=yield as(l.sessionId),Pe={};return Ar()?Pe.ibi=U.packageName:yr()?Pe.apn=U.packageName:Ue(g,"operation-not-supported-in-this-environment"),U.displayName&&(Pe.appDisplayName=U.displayName),Pe.sessionId=Y,tl(g,h,l.type,void 0,null!==(w=l.eventId)&&void 0!==w?w:void 0,Pe)})).apply(this,arguments)}function Po(){return(Po=(0,p.Z)(function*(g){const{BuildInfo:l}=Ga(),h={};Ar()?h.iosBundleId=l.packageName:yr()?h.androidPackageName=l.packageName:Ue(g,"operation-not-supported-in-this-environment"),yield gc(g,h)})).apply(this,arguments)}function Ec(){return(Ec=(0,p.Z)(function*(g,l,h){const{cordova:w}=Ga();let U=()=>{};try{yield new Promise((Y,Pe)=>{let Xe=null;function kt(){var mn;Y();const Ir=null===(mn=w.plugins.browsertab)||void 0===mn?void 0:mn.close;"function"==typeof Ir&&Ir(),"function"==typeof(null==h?void 0:h.close)&&h.close()}function Xt(){Xe||(Xe=window.setTimeout(()=>{Pe(Ce(g,"redirect-cancelled-by-user"))},2e3))}function Tn(){"visible"===(null==document?void 0:document.visibilityState)&&Xt()}l.addPassiveListener(kt),document.addEventListener("resume",Xt,!1),yr()&&document.addEventListener("visibilitychange",Tn,!1),U=()=>{l.removePassiveListener(kt),document.removeEventListener("resume",Xt,!1),document.removeEventListener("visibilitychange",Tn,!1),Xe&&window.clearTimeout(Xe)}})}finally{U()}})).apply(this,arguments)}function as(g){return bc.apply(this,arguments)}function bc(){return(bc=(0,p.Z)(function*(g){const l=Vs(g),h=yield crypto.subtle.digest("SHA-256",l);return Array.from(new Uint8Array(h)).map(U=>U.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Vs(g){if(Ae(/[0-9a-zA-Z]+/.test(g),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(g);const l=new ArrayBuffer(g.length),h=new Uint8Array(l);for(let w=0;w<g.length;w++)h[w]=g.charCodeAt(w);return h}!function wc(g){(0,ue._registerComponent)(new ye.wA("auth",(l,{options:h})=>{const w=l.getProvider("app").getImmediate(),{apiKey:U,authDomain:Y}=w.options;return(Pe=>{we(U&&!U.includes(":"),"invalid-api-key",{appName:Pe.name}),we(!(null==Y?void 0:Y.includes(":")),"argument-error",{appName:Pe.name});const Xe={apiKey:U,authDomain:Y,clientPlatform:g,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Sr(g)},kt=new On(Pe,Xe);return function Qe(g,l){const h=(null==l?void 0:l.persistence)||[],w=(Array.isArray(h)?h:[h]).map(ke);(null==l?void 0:l.errorMap)&&g._updateErrorMap(l.errorMap),g._initializeWithPersistence(w,null==l?void 0:l.popupRedirectResolver)}(kt,h),kt})(w)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((l,h,w)=>{l.getProvider("auth-internal").initialize()})),(0,ue._registerComponent)(new ye.wA("auth-internal",l=>{const h=lt(l.getProvider("auth").getImmediate());return new Wl(h)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ue.registerVersion)(Gl,"0.19.9",function Gd(g){switch(g){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(g)),(0,ue.registerVersion)(Gl,"0.19.9","esm2017")}("Browser");class rl extends Ll{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(l=>{this.resolveInialized=l})}addPassiveListener(l){this.passiveListeners.add(l)}removePassiveListener(l){this.passiveListeners.delete(l)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(l){return this.resolveInialized(),this.passiveListeners.forEach(h=>h(l)),super.onEvent(l)}initialized(){var l=this;return(0,p.Z)(function*(){yield l.initPromise})()}}function No(g){return il.apply(this,arguments)}function il(){return(il=(0,p.Z)(function*(g){const l=yield ql()._get(Lr(g));return l&&(yield ql()._remove(Lr(g))),l})).apply(this,arguments)}function Tf(){const g=[],l="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let h=0;h<20;h++){const w=Math.floor(Math.random()*l.length);g.push(l.charAt(w))}return g.join("")}function ql(){return ke(I)}function Lr(g){return Mn("authEvent",g.config.apiKey,g.name)}function za(g){if(!(null==g?void 0:g.includes("?")))return{};const[l,...h]=g.split("?");return(0,V.zd)(h.join("?"))}function Zl(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ce("no-auth-event")}}function ol(){var g;return(null===(g=null==self?void 0:self.location)||void 0===g?void 0:g.protocol)||null}function Zd(g=(0,V.z$)()){return!("file:"!==ol()&&"ionic:"!==ol()||!g.toLowerCase().match(/iphone|ipad|ipod|android/))}function _s(){try{const g=self.localStorage,l=en();if(g)return g.setItem(l,"1"),g.removeItem(l),!function Vi(g=(0,V.z$)()){return function Sf(){return(0,V.w1)()&&11===(null==document?void 0:document.documentMode)}()||function pg(g=(0,V.z$)()){return/Edge\/\d+/.test(g)}(g)}()||(0,V.hl)()}catch(g){return Vu()&&(0,V.hl)()}return!1}function Vu(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Ka(){return(function Af(){return"http:"===ol()||"https:"===ol()}()||(0,V.ru)()||Zd())&&!function Ic(){return(0,V.b$)()||(0,V.UG)()}()&&_s()&&!Vu()}function ko(){return Zd()&&"undefined"!=typeof document}function qa(){return(qa=(0,p.Z)(function*(){return!!ko()&&new Promise(g=>{const l=setTimeout(()=>{g(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(l),g(!0)})})})).apply(this,arguments)}const ro={LOCAL:"local",NONE:"none",SESSION:"session"},Uu=we,al="persistence";function ul(g){return mu.apply(this,arguments)}function mu(){return(mu=(0,p.Z)(function*(g){yield g._initializationPromise;const l=Yd(),h=Mn(al,g.config.apiKey,g.name);l&&l.setItem(h,g._getPersistence())})).apply(this,arguments)}function Yd(){var g;try{return(null===(g=function gu(){return"undefined"!=typeof window?window:null}())||void 0===g?void 0:g.sessionStorage)||null}catch(l){return null}}const Qd=we;class Jo{constructor(){this.browserResolver=ke(class _c{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=$,this._completeRedirectFn=Oo}_openPopup(l,h,w,U){var Y=this;return(0,p.Z)(function*(){var Pe;Ae(null===(Pe=Y.eventManagers[l._key()])||void 0===Pe?void 0:Pe.manager,"_initialize() not called before _openPopup()");const Xe=tl(l,h,w,xt(),U);return function Ha(g,l,h,w=500,U=600){const Y=Math.max((window.screen.availHeight-U)/2,0).toString(),Pe=Math.max((window.screen.availWidth-w)/2,0).toString();let Xe="";const kt=Object.assign(Object.assign({},dg),{width:w.toString(),height:U.toString(),top:Y,left:Pe}),Xt=(0,V.z$)().toLowerCase();h&&(Xe=dn(Xt)?"_blank":h),wr(Xt)&&(l=l||"http://localhost",kt.scrollbars="yes");const Tn=Object.entries(kt).reduce((Ir,[Si,Us])=>`${Ir}${Si}=${Us},`,"");if(function ui(g=(0,V.z$)()){var l;return Ar(g)&&!!(null===(l=window.navigator)||void 0===l?void 0:l.standalone)}(Xt)&&"_self"!==Xe)return function $d(g,l){const h=document.createElement("a");h.href=g,h.target=l;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),h.dispatchEvent(w)}(l||"",Xe),new el(null);const mn=window.open(l||"",Xe,Tn);we(mn,g,"popup-blocked");try{mn.focus()}catch(Ir){}return new el(mn)}(l,Xe,en())})()}_openRedirect(l,h,w,U){var Y=this;return(0,p.Z)(function*(){return yield Y._originValidation(l),function Ti(g){Qn().location.href=g}(tl(l,h,w,xt(),U)),new Promise(()=>{})})()}_initialize(l){const h=l._key();if(this.eventManagers[h]){const{manager:U,promise:Y}=this.eventManagers[h];return U?Promise.resolve(U):(Ae(Y,"If manager is not set, promise should be"),Y)}const w=this.initAndGetManager(l);return this.eventManagers[h]={promise:w},w.catch(()=>{delete this.eventManagers[h]}),w}initAndGetManager(l){var h=this;return(0,p.Z)(function*(){const w=yield function jd(g){return ku.apply(this,arguments)}(l),U=new Ll(l);return w.register("authEvent",Y=>(we(null==Y?void 0:Y.authEvent,l,"invalid-auth-event"),{status:U.onEvent(Y.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),h.eventManagers[l._key()]={manager:U},h.iframes[l._key()]=w,U})()}_isIframeWebStorageSupported(l,h){this.iframes[l._key()].send(la,{type:la},U=>{var Y;const Pe=null===(Y=null==U?void 0:U[0])||void 0===Y?void 0:Y[la];void 0!==Pe&&h(!!Pe),Ue(l,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(l){const h=l._key();return this.originValidationPromises[h]||(this.originValidationPromises[h]=function Ul(g){return ca.apply(this,arguments)}(l)),this.originValidationPromises[h]}get _shouldInitProactively(){return Pr()||Pn()||Ar()}}),this.cordovaResolver=ke(class sl{constructor(){this._redirectPersistence=$,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Oo}_initialize(l){var h=this;return(0,p.Z)(function*(){const w=l._key();let U=h.eventManagers.get(w);return U||(U=new rl(l),h.eventManagers.set(w,U),h.attachCallbackListeners(l,U)),U})()}_openPopup(l){Ue(l,"operation-not-supported-in-this-environment")}_openRedirect(l,h,w,U){var Y=this;return(0,p.Z)(function*(){!function zl(g){var l,h,w,U,Y,Pe,Xe,kt,Xt,Tn;const mn=Ga();we("function"==typeof(null===(l=null==mn?void 0:mn.universalLinks)||void 0===l?void 0:l.subscribe),g,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),we(void 0!==(null===(h=null==mn?void 0:mn.BuildInfo)||void 0===h?void 0:h.packageName),g,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),we("function"==typeof(null===(Y=null===(U=null===(w=null==mn?void 0:mn.cordova)||void 0===w?void 0:w.plugins)||void 0===U?void 0:U.browsertab)||void 0===Y?void 0:Y.openUrl),g,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),we("function"==typeof(null===(kt=null===(Xe=null===(Pe=null==mn?void 0:mn.cordova)||void 0===Pe?void 0:Pe.plugins)||void 0===Xe?void 0:Xe.browsertab)||void 0===kt?void 0:kt.isAvailable),g,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),we("function"==typeof(null===(Tn=null===(Xt=null==mn?void 0:mn.cordova)||void 0===Xt?void 0:Xt.InAppBrowser)||void 0===Tn?void 0:Tn.open),g,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(l);const Pe=yield Y._initialize(l);yield Pe.initialized(),Pe.resetRedirect(),function fe(){Zo.clear()}(),yield Y._originValidation(l);const Xe=function Wa(g,l,h=null){return{type:l,eventId:h,urlResponse:null,sessionId:Tf(),postBody:null,tenantId:g.tenantId,error:Ce(g,"no-auth-event")}}(l,w,U);yield function fg(g,l){return ql()._set(Lr(g),l)}(l,Xe);const kt=yield function Wd(g,l,h){return da.apply(this,arguments)}(l,Xe,h),Xt=yield function Ii(g){const{cordova:l}=Ga();return new Promise(h=>{l.plugins.browsertab.isAvailable(w=>{let U=null;w?l.plugins.browsertab.openUrl(g):U=l.InAppBrowser.open(g,function Mi(g=(0,V.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(g)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(g)}()?"_blank":"_system","location=yes"),h(U)})})}(kt);return function br(g,l,h){return Ec.apply(this,arguments)}(l,Pe,Xt)})()}_isIframeWebStorageSupported(l,h){throw new Error("Method not implemented.")}_originValidation(l){const h=l._key();return this.originValidationPromises[h]||(this.originValidationPromises[h]=function nl(g){return Po.apply(this,arguments)}(l)),this.originValidationPromises[h]}attachCallbackListeners(l,h){const{universalLinks:w,handleOpenURL:U,BuildInfo:Y}=Ga(),Pe=setTimeout((0,p.Z)(function*(){yield No(l),h.onEvent(Zl())}),500),Xe=function(){var Tn=(0,p.Z)(function*(mn){clearTimeout(Pe);const Ir=yield No(l);let Si=null;Ir&&(null==mn?void 0:mn.url)&&(Si=function Kl(g,l){var h,w;const U=function fu(g){const l=za(g),h=l.link?decodeURIComponent(l.link):void 0,w=za(h).link,U=l.deep_link_id?decodeURIComponent(l.deep_link_id):void 0;return za(U).link||U||w||h||g}(l);if(U.includes("/__/auth/callback")){const Y=za(U),Pe=Y.firebaseError?function zd(g){try{return JSON.parse(g)}catch(l){return null}}(decodeURIComponent(Y.firebaseError)):null,Xe=null===(w=null===(h=null==Pe?void 0:Pe.code)||void 0===h?void 0:h.split("auth/"))||void 0===w?void 0:w[1],kt=Xe?Ce(Xe):null;return kt?{type:g.type,eventId:g.eventId,tenantId:g.tenantId,error:kt,urlResponse:null,sessionId:null,postBody:null}:{type:g.type,eventId:g.eventId,tenantId:g.tenantId,sessionId:g.sessionId,urlResponse:U,postBody:null}}return null}(Ir,mn.url)),h.onEvent(Si||Zl())});return function(Ir){return Tn.apply(this,arguments)}}();void 0!==w&&"function"==typeof w.subscribe&&w.subscribe(null,Xe);const kt=U,Xt=`${Y.packageName.toLowerCase()}://`;Ga().handleOpenURL=function(){var Tn=(0,p.Z)(function*(mn){if(mn.toLowerCase().startsWith(Xt)&&Xe({url:mn}),"function"==typeof kt)try{kt(mn)}catch(Ir){console.error(Ir)}});return function(mn){return Tn.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=$,this._completeRedirectFn=Oo}_initialize(l){var h=this;return(0,p.Z)(function*(){return yield h.selectUnderlyingResolver(),h.assertedUnderlyingResolver._initialize(l)})()}_openPopup(l,h,w,U){var Y=this;return(0,p.Z)(function*(){return yield Y.selectUnderlyingResolver(),Y.assertedUnderlyingResolver._openPopup(l,h,w,U)})()}_openRedirect(l,h,w,U){var Y=this;return(0,p.Z)(function*(){return yield Y.selectUnderlyingResolver(),Y.assertedUnderlyingResolver._openRedirect(l,h,w,U)})()}_isIframeWebStorageSupported(l,h){this.assertedUnderlyingResolver._isIframeWebStorageSupported(l,h)}_originValidation(l){return this.assertedUnderlyingResolver._originValidation(l)}get _shouldInitProactively(){return ko()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Qd(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var l=this;return(0,p.Z)(function*(){if(l.underlyingResolver)return;const h=yield function vs(){return qa.apply(this,arguments)}();l.underlyingResolver=h?l.cordovaResolver:l.browserResolver})()}}function Jl(g){return g.unwrap()}function ll(g){return Jd(g)}function Jd(g){const{_tokenResponse:l}=g instanceof V.ZR?g.customData:g;if(!l)return null;if(!(g instanceof V.ZR)&&"temporaryProof"in l&&"phoneNumber"in l)return xs.credentialFromResult(g);const h=l.providerId;if(!h||"password"===h)return null;let w;switch(h){case"google.com":w=ls;break;case"facebook.com":w=gs;break;case"github.com":w=Gs;break;case"twitter.com":w=jr;break;default:const{oauthIdToken:U,oauthAccessToken:Y,oauthTokenSecret:Pe,pendingToken:Xe,nonce:kt}=l;return Y||Pe||U||Xe?Xe?h.startsWith("saml.")?bs._create(h,Xe):Re._fromParams({providerId:h,signInMethod:h,pendingToken:Xe,idToken:U,accessToken:Y}):new Di(h).credential({idToken:U,accessToken:Y,rawNonce:kt}):null}return g instanceof V.ZR?w.credentialFromError(g):w.credentialFromResult(g)}function Ui(g,l){return l.catch(h=>{throw h instanceof V.ZR&&function Of(g,l){var h;const w=null===(h=l.customData)||void 0===h?void 0:h._tokenResponse;if("auth/multi-factor-auth-required"===l.code)l.resolver=new Rf(g,function To(g,l){var h;const w=(0,V.m9)(g),U=l;return we(l.customData.operationType,w,"argument-error"),we(null===(h=U.customData._serverResponse)||void 0===h?void 0:h.mfaPendingCredential,w,"argument-error"),Ts._fromError(w,U)}(g,l));else if(w){const U=Jd(l),Y=l;U&&(Y.credential=U,Y.tenantId=w.tenantId||void 0,Y.email=w.email||void 0,Y.phoneNumber=w.phoneNumber||void 0)}}(g,h),h}).then(h=>{const U=h.user;return{operationType:h.operationType,credential:ll(h),additionalUserInfo:ii(h),user:ba.getOrCreate(U)}})}function Za(g,l){return Xl.apply(this,arguments)}function Xl(){return(Xl=(0,p.Z)(function*(g,l){const h=yield l;return{verificationId:h.verificationId,confirm:w=>Ui(g,h.confirm(w))}})).apply(this,arguments)}class Rf{constructor(l,h){this.resolver=h,this.auth=function Mf(g){return g.wrapped()}(l)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(l){return Ui(Jl(this.auth),this.resolver.resolveSignIn(l))}}class ba{constructor(l){this._delegate=l,this.multiFactor=function Go(g){const l=(0,V.m9)(g);return qi.has(l)||qi.set(l,Ci._fromUser(l)),qi.get(l)}(l)}static getOrCreate(l){return ba.USER_MAP.has(l)||ba.USER_MAP.set(l,new ba(l)),ba.USER_MAP.get(l)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(l){return this._delegate.getIdTokenResult(l)}getIdToken(l){return this._delegate.getIdToken(l)}linkAndRetrieveDataWithCredential(l){return this.linkWithCredential(l)}linkWithCredential(l){var h=this;return(0,p.Z)(function*(){return Ui(h.auth,kn(h._delegate,l))})()}linkWithPhoneNumber(l,h){var w=this;return(0,p.Z)(function*(){return Za(w.auth,function ci(g,l,h){return qs.apply(this,arguments)}(w._delegate,l,h))})()}linkWithPopup(l){var h=this;return(0,p.Z)(function*(){return Ui(h.auth,function Mo(g,l,h){return hc.apply(this,arguments)}(h._delegate,l,Jo))})()}linkWithRedirect(l){var h=this;return(0,p.Z)(function*(){return yield ul(lt(h.auth)),function Br(g,l,h){return function os(g,l,h){return Ua.apply(this,arguments)}(g,l,h)}(h._delegate,l,Jo)})()}reauthenticateAndRetrieveDataWithCredential(l){return this.reauthenticateWithCredential(l)}reauthenticateWithCredential(l){var h=this;return(0,p.Z)(function*(){return Ui(h.auth,Wn(h._delegate,l))})()}reauthenticateWithPhoneNumber(l,h){return Za(this.auth,function qc(g,l,h){return Va.apply(this,arguments)}(this._delegate,l,h))}reauthenticateWithPopup(l){return Ui(this.auth,function vo(g,l,h){return au.apply(this,arguments)}(this._delegate,l,Jo))}reauthenticateWithRedirect(l){var h=this;return(0,p.Z)(function*(){return yield ul(lt(h.auth)),function ar(g,l,h){return function Fr(g,l,h){return Ur.apply(this,arguments)}(g,l,h)}(h._delegate,l,Jo)})()}sendEmailVerification(l){return function ki(g,l){return Do.apply(this,arguments)}(this._delegate,l)}unlink(l){var h=this;return(0,p.Z)(function*(){return yield function Ri(g,l){return Wi.apply(this,arguments)}(h._delegate,l),h})()}updateEmail(l){return function _a(g,l){return Xs((0,V.m9)(g),l,null)}(this._delegate,l)}updatePassword(l){return function Bo(g,l){return Xs((0,V.m9)(g),null,l)}(this._delegate,l)}updatePhoneNumber(l){return function So(g,l){return Ls.apply(this,arguments)}(this._delegate,l)}updateProfile(l){return function ya(g,l){return co.apply(this,arguments)}(this._delegate,l)}verifyBeforeUpdateEmail(l,h){return function ri(g,l,h){return Co.apply(this,arguments)}(this._delegate,l,h)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ba.USER_MAP=new WeakMap;const Bu=we;let us=(()=>{class g{constructor(h,w){if(this.app=h,w.isInitialized())return this._delegate=w.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:U}=h.options;Bu(U,"invalid-api-key",{appName:h.name}),Bu(U,"invalid-api-key",{appName:h.name});const Y="undefined"!=typeof window?Jo:void 0;this._delegate=w.initialize({options:{persistence:eh(U,h.name),popupRedirectResolver:Y}}),this._delegate._updateErrorMap($e),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ba.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(h){this._delegate.languageCode=h}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(h){this._delegate.tenantId=h}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(h,w){!function Bn(g,l,h){const w=lt(g);we(w._canInitEmulator,w,"emulator-config-failed"),we(/^https?:\/\//.test(l),w,"invalid-emulator-scheme");const U=!!(null==h?void 0:h.disableWarnings),Y=Tr(l),{host:Pe,port:Xe}=function zr(g){const l=Tr(g),h=/(\/\/)?([^?#/]+)/.exec(g.substr(l.length));if(!h)return{host:"",port:null};const w=h[2].split("@").pop()||"",U=/^(\[[^\]]+\])(:|$)/.exec(w);if(U){const Y=U[1];return{host:Y,port:qn(w.substr(Y.length+1))}}{const[Y,Pe]=w.split(":");return{host:Y,port:qn(Pe)}}}(l);w.config.emulator={url:`${Y}//${Pe}${null===Xe?"":`:${Xe}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:Pe,port:Xe,protocol:Y.replace(":",""),options:Object.freeze({disableWarnings:U})}),U||function Qr(){function g(){const l=document.createElement("p"),h=l.style;l.innerText="Running in emulator mode. Do not use with production credentials.",h.position="fixed",h.width="100%",h.backgroundColor="#ffffff",h.border=".1em solid #000000",h.color="#b50000",h.bottom="0px",h.left="0px",h.margin="0px",h.zIndex="10000",h.textAlign="center",l.classList.add("firebase-emulator-warning"),document.body.appendChild(l)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",g):g())}()}(this._delegate,h,w)}applyActionCode(h){return function at(g,l){return Ge.apply(this,arguments)}(this._delegate,h)}checkActionCode(h){return Qt(this._delegate,h)}confirmPasswordReset(h,w){return function M(g,l,h){return z.apply(this,arguments)}(this._delegate,h,w)}createUserWithEmailAndPassword(h,w){var U=this;return(0,p.Z)(function*(){return Ui(U._delegate,function zi(g,l,h){return Ei.apply(this,arguments)}(U._delegate,h,w))})()}fetchProvidersForEmail(h){return this.fetchSignInMethodsForEmail(h)}fetchSignInMethodsForEmail(h){return function ta(g,l){return rs.apply(this,arguments)}(this._delegate,h)}isSignInWithEmailLink(h){return function ma(g,l){const h=_i.parseLink(l);return"EMAIL_SIGNIN"===(null==h?void 0:h.operation)}(0,h)}getRedirectResult(){var h=this;return(0,p.Z)(function*(){Bu(Ka(),h._delegate,"operation-not-supported-in-this-environment");const w=yield function Ba(g,l){return wo.apply(this,arguments)}(h._delegate,Jo);return w?Ui(h._delegate,Promise.resolve(w)):{credential:null,user:null}})()}addFrameworkForLogging(h){!function Kd(g,l){lt(g)._logFramework(l)}(this._delegate,h)}onAuthStateChanged(h,w,U){const{next:Y,error:Pe,complete:Xe}=Xd(h,w,U);return this._delegate.onAuthStateChanged(Y,Pe,Xe)}onIdTokenChanged(h,w,U){const{next:Y,error:Pe,complete:Xe}=Xd(h,w,U);return this._delegate.onIdTokenChanged(Y,Pe,Xe)}sendSignInLinkToEmail(h,w){return function Qs(g,l,h){return Pa.apply(this,arguments)}(this._delegate,h,w)}sendPasswordResetEmail(h,w){return function F(g,l,h){return R.apply(this,arguments)}(this._delegate,h,w||void 0)}setPersistence(h){var w=this;return(0,p.Z)(function*(){let U;switch(function xf(g,l){Uu(Object.values(ro).includes(l),g,"invalid-persistence-type"),(0,V.b$)()?Uu(l!==ro.SESSION,g,"unsupported-persistence-type"):(0,V.UG)()?Uu(l===ro.NONE,g,"unsupported-persistence-type"):Vu()?Uu(l===ro.NONE||l===ro.LOCAL&&(0,V.hl)(),g,"unsupported-persistence-type"):Uu(l===ro.NONE||_s(),g,"unsupported-persistence-type")}(w._delegate,h),h){case ro.SESSION:U=$;break;case ro.LOCAL:U=(yield ke(Gt)._isAvailable())?Gt:I;break;case ro.NONE:U=qt;break;default:return Ue("argument-error",{appName:w._delegate.name})}return w._delegate.setPersistence(U)})()}signInAndRetrieveDataWithCredential(h){return this.signInWithCredential(h)}signInAnonymously(){return Ui(this._delegate,function Ys(g){return vi.apply(this,arguments)}(this._delegate))}signInWithCredential(h){return Ui(this._delegate,Zt(this._delegate,h))}signInWithCustomToken(h){return Ui(this._delegate,function Pi(g,l){return qr.apply(this,arguments)}(this._delegate,h))}signInWithEmailAndPassword(h,w){return Ui(this._delegate,function uo(g,l,h){return Zt((0,V.m9)(g),ps.credential(l,h))}(this._delegate,h,w))}signInWithEmailLink(h,w){return Ui(this._delegate,function Ks(g,l,h){return Ds.apply(this,arguments)}(this._delegate,h,w))}signInWithPhoneNumber(h,w){return Za(this._delegate,function Vd(g,l,h){return Hr.apply(this,arguments)}(this._delegate,h,w))}signInWithPopup(h){var w=this;return(0,p.Z)(function*(){return Bu(Ka(),w._delegate,"operation-not-supported-in-this-environment"),Ui(w._delegate,function _o(g,l,h){return Ru.apply(this,arguments)}(w._delegate,h,Jo))})()}signInWithRedirect(h){var w=this;return(0,p.Z)(function*(){return Bu(Ka(),w._delegate,"operation-not-supported-in-this-environment"),yield ul(w._delegate),function Tt(g,l,h){return function Kt(g,l,h){return tn.apply(this,arguments)}(g,l,h)}(w._delegate,h,Jo)})()}updateCurrentUser(h){return this._delegate.updateCurrentUser(h)}verifyPasswordResetCode(h){return function ur(g,l){return Ni.apply(this,arguments)}(this._delegate,h)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return g.Persistence=ro,g})();function Xd(g,l,h){let w=g;"function"!=typeof g&&({next:w,error:l,complete:h}=g);const U=w;return{next:Pe=>U(Pe&&ba.getOrCreate(Pe)),error:l,complete:h}}function eh(g,l){const h=function cl(g,l){const h=Yd();if(!h)return[];const w=Mn(al,g,l);switch(h.getItem(w)){case ro.NONE:return[qt];case ro.LOCAL:return[Gt,$];case ro.SESSION:return[$];default:return[]}}(g,l);if("undefined"!=typeof self&&!h.includes(Gt)&&h.push(Gt),"undefined"!=typeof window)for(const w of[I,$])h.includes(w)||h.push(w);return h.includes(qt)||h.push(qt),h}class Fo{constructor(){this.providerId="phone",this._delegate=new xs(Jl(L.Z.auth()))}static credential(l,h){return xs.credential(l,h)}verifyPhoneNumber(l,h){return this._delegate.verifyPhoneNumber(l,h)}unwrap(){return this._delegate}}Fo.PHONE_SIGN_IN_METHOD=xs.PHONE_SIGN_IN_METHOD,Fo.PROVIDER_ID=xs.PROVIDER_ID;const Pf=we;class Eo{constructor(l,h,w=L.Z.app()){var U;Pf(null===(U=w.options)||void 0===U?void 0:U.apiKey,"invalid-api-key",{appName:w.name}),this._delegate=new La(l,h,w.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function mi(g){g.INTERNAL.registerComponent(new ye.wA("auth-compat",l=>{const h=l.getProvider("app-compat").getImmediate(),w=l.getProvider("auth");return new us(h,w)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:ps,FacebookAuthProvider:gs,GithubAuthProvider:Gs,GoogleAuthProvider:ls,OAuthProvider:Di,SAMLAuthProvider:Gi,PhoneAuthProvider:Fo,PhoneMultiFactorGenerator:hg,RecaptchaVerifier:Eo,TwitterAuthProvider:jr,Auth:us,AuthCredential:hn,Error:V.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),g.registerVersion("@firebase/auth-compat","0.2.9")}(L.Z)},2940:function(Me,te){!function(T){"use strict";function p(De){return Array.prototype.slice.call(De)}function L(De){return new Promise(function(Fe,oe){De.onsuccess=function(){Fe(De.result)},De.onerror=function(){oe(De.error)}})}function V(De,Fe,oe){var nt,Ue=new Promise(function(Ce,Ve){L(nt=De[Fe].apply(De,oe)).then(Ce,Ve)});return Ue.request=nt,Ue}function ue(De,Fe,oe){var nt=V(De,Fe,oe);return nt.then(function(Ue){if(Ue)return new J(Ue,nt.request)})}function ee(De,Fe,oe){oe.forEach(function(nt){Object.defineProperty(De.prototype,nt,{get:function(){return this[Fe][nt]},set:function(Ue){this[Fe][nt]=Ue}})})}function le(De,Fe,oe,nt){nt.forEach(function(Ue){Ue in oe.prototype&&(De.prototype[Ue]=function(){return V(this[Fe],Ue,arguments)})})}function ye(De,Fe,oe,nt){nt.forEach(function(Ue){Ue in oe.prototype&&(De.prototype[Ue]=function(){return this[Fe][Ue].apply(this[Fe],arguments)})})}function ae(De,Fe,oe,nt){nt.forEach(function(Ue){Ue in oe.prototype&&(De.prototype[Ue]=function(){return ue(this[Fe],Ue,arguments)})})}function ne(De){this._index=De}function J(De,Fe){this._cursor=De,this._request=Fe}function X(De){this._store=De}function re(De){this._tx=De,this.complete=new Promise(function(Fe,oe){De.oncomplete=function(){Fe()},De.onerror=function(){oe(De.error)},De.onabort=function(){oe(De.error)}})}function je(De,Fe,oe){this._db=De,this.oldVersion=Fe,this.transaction=new re(oe)}function Oe(De){this._db=De}ee(ne,"_index",["name","keyPath","multiEntry","unique"]),le(ne,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),ae(ne,"_index",IDBIndex,["openCursor","openKeyCursor"]),ee(J,"_cursor",["direction","key","primaryKey","value"]),le(J,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(De){De in IDBCursor.prototype&&(J.prototype[De]=function(){var Fe=this,oe=arguments;return Promise.resolve().then(function(){return Fe._cursor[De].apply(Fe._cursor,oe),L(Fe._request).then(function(nt){if(nt)return new J(nt,Fe._request)})})})}),X.prototype.createIndex=function(){return new ne(this._store.createIndex.apply(this._store,arguments))},X.prototype.index=function(){return new ne(this._store.index.apply(this._store,arguments))},ee(X,"_store",["name","keyPath","indexNames","autoIncrement"]),le(X,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),ae(X,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),ye(X,"_store",IDBObjectStore,["deleteIndex"]),re.prototype.objectStore=function(){return new X(this._tx.objectStore.apply(this._tx,arguments))},ee(re,"_tx",["objectStoreNames","mode"]),ye(re,"_tx",IDBTransaction,["abort"]),je.prototype.createObjectStore=function(){return new X(this._db.createObjectStore.apply(this._db,arguments))},ee(je,"_db",["name","version","objectStoreNames"]),ye(je,"_db",IDBDatabase,["deleteObjectStore","close"]),Oe.prototype.transaction=function(){return new re(this._db.transaction.apply(this._db,arguments))},ee(Oe,"_db",["name","version","objectStoreNames"]),ye(Oe,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(De){[X,ne].forEach(function(Fe){De in Fe.prototype&&(Fe.prototype[De.replace("open","iterate")]=function(){var oe=p(arguments),nt=oe[oe.length-1],Ue=this._store||this._index,Ce=Ue[De].apply(Ue,oe.slice(0,-1));Ce.onsuccess=function(){nt(Ce.result)}})})}),[ne,X].forEach(function(De){De.prototype.getAll||(De.prototype.getAll=function(Fe,oe){var nt=this,Ue=[];return new Promise(function(Ce){nt.iterateCursor(Fe,function(Ve){Ve?(Ue.push(Ve.value),void 0===oe||Ue.length!=oe?Ve.continue():Ce(Ue)):Ce(Ue)})})})}),T.openDb=function $e(De,Fe,oe){var nt=V(indexedDB,"open",[De,Fe]),Ue=nt.request;return Ue&&(Ue.onupgradeneeded=function(Ce){oe&&oe(new je(Ue.result,Ce.oldVersion,Ue.transaction))}),nt.then(function(Ce){return new Oe(Ce)})},T.deleteDb=function ot(De){return V(indexedDB,"deleteDatabase",[De])},Object.defineProperty(T,"__esModule",{value:!0})}(te)},1135:(Me,te,T)=>{"use strict";T.d(te,{X:()=>L});var p=T(7579);class L extends p.x{constructor(ue){super(),this._value=ue}get value(){return this.getValue()}_subscribe(ue){const ee=super._subscribe(ue);return!ee.closed&&ue.next(this._value),ee}getValue(){const{hasError:ue,thrownError:ee,_value:le}=this;if(ue)throw ee;return this._throwIfClosed(),le}next(ue){super.next(this._value=ue)}}},8306:(Me,te,T)=>{"use strict";T.d(te,{y:()=>J});var p=T(930),L=T(727),V=T(8822),ue=T(4671);var ye=T(2416),ae=T(576),ne=T(2806);let J=(()=>{class Oe{constructor(ot){ot&&(this._subscribe=ot)}lift(ot){const De=new Oe;return De.source=this,De.operator=ot,De}subscribe(ot,De,Fe){const oe=function je(Oe){return Oe&&Oe instanceof p.Lv||function re(Oe){return Oe&&(0,ae.m)(Oe.next)&&(0,ae.m)(Oe.error)&&(0,ae.m)(Oe.complete)}(Oe)&&(0,L.Nn)(Oe)}(ot)?ot:new p.Hp(ot,De,Fe);return(0,ne.x)(()=>{const{operator:nt,source:Ue}=this;oe.add(nt?nt.call(oe,Ue):Ue?this._subscribe(oe):this._trySubscribe(oe))}),oe}_trySubscribe(ot){try{return this._subscribe(ot)}catch(De){ot.error(De)}}forEach(ot,De){return new(De=X(De))((Fe,oe)=>{const nt=new p.Hp({next:Ue=>{try{ot(Ue)}catch(Ce){oe(Ce),nt.unsubscribe()}},error:oe,complete:Fe});this.subscribe(nt)})}_subscribe(ot){var De;return null===(De=this.source)||void 0===De?void 0:De.subscribe(ot)}[V.L](){return this}pipe(...ot){return function le(Oe){return 0===Oe.length?ue.y:1===Oe.length?Oe[0]:function(ot){return Oe.reduce((De,Fe)=>Fe(De),ot)}}(ot)(this)}toPromise(ot){return new(ot=X(ot))((De,Fe)=>{let oe;this.subscribe(nt=>oe=nt,nt=>Fe(nt),()=>De(oe))})}}return Oe.create=$e=>new Oe($e),Oe})();function X(Oe){var $e;return null!==($e=null!=Oe?Oe:ye.v.Promise)&&void 0!==$e?$e:Promise}},4707:(Me,te,T)=>{"use strict";T.d(te,{t:()=>V});var p=T(7579),L=T(6063);class V extends p.x{constructor(ee=1/0,le=1/0,ye=L.l){super(),this._bufferSize=ee,this._windowTime=le,this._timestampProvider=ye,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=le===1/0,this._bufferSize=Math.max(1,ee),this._windowTime=Math.max(1,le)}next(ee){const{isStopped:le,_buffer:ye,_infiniteTimeWindow:ae,_timestampProvider:ne,_windowTime:J}=this;le||(ye.push(ee),!ae&&ye.push(ne.now()+J)),this._trimBuffer(),super.next(ee)}_subscribe(ee){this._throwIfClosed(),this._trimBuffer();const le=this._innerSubscribe(ee),{_infiniteTimeWindow:ye,_buffer:ae}=this,ne=ae.slice();for(let J=0;J<ne.length&&!ee.closed;J+=ye?1:2)ee.next(ne[J]);return this._checkFinalizedStatuses(ee),le}_trimBuffer(){const{_bufferSize:ee,_timestampProvider:le,_buffer:ye,_infiniteTimeWindow:ae}=this,ne=(ae?1:2)*ee;if(ee<1/0&&ne<ye.length&&ye.splice(0,ye.length-ne),!ae){const J=le.now();let X=0;for(let re=1;re<ye.length&&ye[re]<=J;re+=2)X=re;X&&ye.splice(0,X+1)}}}},7579:(Me,te,T)=>{"use strict";T.d(te,{x:()=>ye});var p=T(8306),L=T(727);const ue=(0,T(3888).d)(ne=>function(){ne(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ee=T(8737),le=T(2806);let ye=(()=>{class ne extends p.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(X){const re=new ae(this,this);return re.operator=X,re}_throwIfClosed(){if(this.closed)throw new ue}next(X){(0,le.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const re of this.currentObservers)re.next(X)}})}error(X){(0,le.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=X;const{observers:re}=this;for(;re.length;)re.shift().error(X)}})}complete(){(0,le.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:X}=this;for(;X.length;)X.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var X;return(null===(X=this.observers)||void 0===X?void 0:X.length)>0}_trySubscribe(X){return this._throwIfClosed(),super._trySubscribe(X)}_subscribe(X){return this._throwIfClosed(),this._checkFinalizedStatuses(X),this._innerSubscribe(X)}_innerSubscribe(X){const{hasError:re,isStopped:je,observers:Oe}=this;return re||je?L.Lc:(this.currentObservers=null,Oe.push(X),new L.w0(()=>{this.currentObservers=null,(0,ee.P)(Oe,X)}))}_checkFinalizedStatuses(X){const{hasError:re,thrownError:je,isStopped:Oe}=this;re?X.error(je):Oe&&X.complete()}asObservable(){const X=new p.y;return X.source=this,X}}return ne.create=(J,X)=>new ae(J,X),ne})();class ae extends ye{constructor(J,X){super(),this.destination=J,this.source=X}next(J){var X,re;null===(re=null===(X=this.destination)||void 0===X?void 0:X.next)||void 0===re||re.call(X,J)}error(J){var X,re;null===(re=null===(X=this.destination)||void 0===X?void 0:X.error)||void 0===re||re.call(X,J)}complete(){var J,X;null===(X=null===(J=this.destination)||void 0===J?void 0:J.complete)||void 0===X||X.call(J)}_subscribe(J){var X,re;return null!==(re=null===(X=this.source)||void 0===X?void 0:X.subscribe(J))&&void 0!==re?re:L.Lc}}},930:(Me,te,T)=>{"use strict";T.d(te,{Hp:()=>ot,Lv:()=>re});var p=T(576),L=T(727),V=T(2416),ue=T(7849),ee=T(5032);const le=ne("C",void 0,void 0);function ne(Ue,Ce,Ve){return{kind:Ue,value:Ce,error:Ve}}var J=T(3410),X=T(2806);class re extends L.w0{constructor(Ce){super(),this.isStopped=!1,Ce?(this.destination=Ce,(0,L.Nn)(Ce)&&Ce.add(this)):this.destination=nt}static create(Ce,Ve,yt){return new ot(Ce,Ve,yt)}next(Ce){this.isStopped?oe(function ae(Ue){return ne("N",Ue,void 0)}(Ce),this):this._next(Ce)}error(Ce){this.isStopped?oe(function ye(Ue){return ne("E",void 0,Ue)}(Ce),this):(this.isStopped=!0,this._error(Ce))}complete(){this.isStopped?oe(le,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ce){this.destination.next(Ce)}_error(Ce){try{this.destination.error(Ce)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const je=Function.prototype.bind;function Oe(Ue,Ce){return je.call(Ue,Ce)}class $e{constructor(Ce){this.partialObserver=Ce}next(Ce){const{partialObserver:Ve}=this;if(Ve.next)try{Ve.next(Ce)}catch(yt){De(yt)}}error(Ce){const{partialObserver:Ve}=this;if(Ve.error)try{Ve.error(Ce)}catch(yt){De(yt)}else De(Ce)}complete(){const{partialObserver:Ce}=this;if(Ce.complete)try{Ce.complete()}catch(Ve){De(Ve)}}}class ot extends re{constructor(Ce,Ve,yt){let ve;if(super(),(0,p.m)(Ce)||!Ce)ve={next:null!=Ce?Ce:void 0,error:null!=Ve?Ve:void 0,complete:null!=yt?yt:void 0};else{let we;this&&V.v.useDeprecatedNextContext?(we=Object.create(Ce),we.unsubscribe=()=>this.unsubscribe(),ve={next:Ce.next&&Oe(Ce.next,we),error:Ce.error&&Oe(Ce.error,we),complete:Ce.complete&&Oe(Ce.complete,we)}):ve=Ce}this.destination=new $e(ve)}}function De(Ue){V.v.useDeprecatedSynchronousErrorHandling?(0,X.O)(Ue):(0,ue.h)(Ue)}function oe(Ue,Ce){const{onStoppedNotification:Ve}=V.v;Ve&&J.z.setTimeout(()=>Ve(Ue,Ce))}const nt={closed:!0,next:ee.Z,error:function Fe(Ue){throw Ue},complete:ee.Z}},727:(Me,te,T)=>{"use strict";T.d(te,{Lc:()=>le,w0:()=>ee,Nn:()=>ye});var p=T(576);const V=(0,T(3888).d)(ne=>function(X){ne(this),this.message=X?`${X.length} errors occurred during unsubscription:\n${X.map((re,je)=>`${je+1}) ${re.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=X});var ue=T(8737);class ee{constructor(J){this.initialTeardown=J,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let J;if(!this.closed){this.closed=!0;const{_parentage:X}=this;if(X)if(this._parentage=null,Array.isArray(X))for(const Oe of X)Oe.remove(this);else X.remove(this);const{initialTeardown:re}=this;if((0,p.m)(re))try{re()}catch(Oe){J=Oe instanceof V?Oe.errors:[Oe]}const{_finalizers:je}=this;if(je){this._finalizers=null;for(const Oe of je)try{ae(Oe)}catch($e){J=null!=J?J:[],$e instanceof V?J=[...J,...$e.errors]:J.push($e)}}if(J)throw new V(J)}}add(J){var X;if(J&&J!==this)if(this.closed)ae(J);else{if(J instanceof ee){if(J.closed||J._hasParent(this))return;J._addParent(this)}(this._finalizers=null!==(X=this._finalizers)&&void 0!==X?X:[]).push(J)}}_hasParent(J){const{_parentage:X}=this;return X===J||Array.isArray(X)&&X.includes(J)}_addParent(J){const{_parentage:X}=this;this._parentage=Array.isArray(X)?(X.push(J),X):X?[X,J]:J}_removeParent(J){const{_parentage:X}=this;X===J?this._parentage=null:Array.isArray(X)&&(0,ue.P)(X,J)}remove(J){const{_finalizers:X}=this;X&&(0,ue.P)(X,J),J instanceof ee&&J._removeParent(this)}}ee.EMPTY=(()=>{const ne=new ee;return ne.closed=!0,ne})();const le=ee.EMPTY;function ye(ne){return ne instanceof ee||ne&&"closed"in ne&&(0,p.m)(ne.remove)&&(0,p.m)(ne.add)&&(0,p.m)(ne.unsubscribe)}function ae(ne){(0,p.m)(ne)?ne():ne.unsubscribe()}},2416:(Me,te,T)=>{"use strict";T.d(te,{v:()=>p});const p={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},7272:(Me,te,T)=>{"use strict";T.d(te,{z:()=>ee});var p=T(8189),V=T(7669),ue=T(8996);function ee(...le){return function L(){return(0,p.J)(1)}()((0,ue.D)(le,(0,V.yG)(le)))}},515:(Me,te,T)=>{"use strict";T.d(te,{E:()=>L});const L=new(T(8306).y)(ee=>ee.complete())},8996:(Me,te,T)=>{"use strict";T.d(te,{D:()=>Ce});var p=T(8421),L=T(5363),V=T(9468),le=T(8306),ae=T(2202),ne=T(576),J=T(9672);function re(Ve,yt){if(!Ve)throw new Error("Iterable cannot be null");return new le.y(ve=>{(0,J.f)(ve,yt,()=>{const we=Ve[Symbol.asyncIterator]();(0,J.f)(ve,yt,()=>{we.next().then(xe=>{xe.done?ve.complete():ve.next(xe.value)})},0,!0)})})}var je=T(3670),Oe=T(8239),$e=T(1144),ot=T(6495),De=T(2206),Fe=T(4532),oe=T(3260);function Ce(Ve,yt){return yt?function Ue(Ve,yt){if(null!=Ve){if((0,je.c)(Ve))return function ue(Ve,yt){return(0,p.Xf)(Ve).pipe((0,V.R)(yt),(0,L.Q)(yt))}(Ve,yt);if((0,$e.z)(Ve))return function ye(Ve,yt){return new le.y(ve=>{let we=0;return yt.schedule(function(){we===Ve.length?ve.complete():(ve.next(Ve[we++]),ve.closed||this.schedule())})})}(Ve,yt);if((0,Oe.t)(Ve))return function ee(Ve,yt){return(0,p.Xf)(Ve).pipe((0,V.R)(yt),(0,L.Q)(yt))}(Ve,yt);if((0,De.D)(Ve))return re(Ve,yt);if((0,ot.T)(Ve))return function X(Ve,yt){return new le.y(ve=>{let we;return(0,J.f)(ve,yt,()=>{we=Ve[ae.h](),(0,J.f)(ve,yt,()=>{let xe,Ae;try{({value:xe,done:Ae}=we.next())}catch(ze){return void ve.error(ze)}Ae?ve.complete():ve.next(xe)},0,!0)}),()=>(0,ne.m)(null==we?void 0:we.return)&&we.return()})}(Ve,yt);if((0,oe.L)(Ve))return function nt(Ve,yt){return re((0,oe.Q)(Ve),yt)}(Ve,yt)}throw(0,Fe.z)(Ve)}(Ve,yt):(0,p.Xf)(Ve)}},8421:(Me,te,T)=>{"use strict";T.d(te,{Xf:()=>je});var p=T(655),L=T(1144),V=T(8239),ue=T(8306),ee=T(3670),le=T(2206),ye=T(4532),ae=T(6495),ne=T(3260),J=T(576),X=T(7849),re=T(8822);function je(Ue){if(Ue instanceof ue.y)return Ue;if(null!=Ue){if((0,ee.c)(Ue))return function Oe(Ue){return new ue.y(Ce=>{const Ve=Ue[re.L]();if((0,J.m)(Ve.subscribe))return Ve.subscribe(Ce);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ue);if((0,L.z)(Ue))return function $e(Ue){return new ue.y(Ce=>{for(let Ve=0;Ve<Ue.length&&!Ce.closed;Ve++)Ce.next(Ue[Ve]);Ce.complete()})}(Ue);if((0,V.t)(Ue))return function ot(Ue){return new ue.y(Ce=>{Ue.then(Ve=>{Ce.closed||(Ce.next(Ve),Ce.complete())},Ve=>Ce.error(Ve)).then(null,X.h)})}(Ue);if((0,le.D)(Ue))return Fe(Ue);if((0,ae.T)(Ue))return function De(Ue){return new ue.y(Ce=>{for(const Ve of Ue)if(Ce.next(Ve),Ce.closed)return;Ce.complete()})}(Ue);if((0,ne.L)(Ue))return function oe(Ue){return Fe((0,ne.Q)(Ue))}(Ue)}throw(0,ye.z)(Ue)}function Fe(Ue){return new ue.y(Ce=>{(function nt(Ue,Ce){var Ve,yt,ve,we;return(0,p.mG)(this,void 0,void 0,function*(){try{for(Ve=(0,p.KL)(Ue);!(yt=yield Ve.next()).done;)if(Ce.next(yt.value),Ce.closed)return}catch(xe){ve={error:xe}}finally{try{yt&&!yt.done&&(we=Ve.return)&&(yield we.call(Ve))}finally{if(ve)throw ve.error}}Ce.complete()})})(Ue,Ce).catch(Ve=>Ce.error(Ve))})}},6451:(Me,te,T)=>{"use strict";T.d(te,{T:()=>le});var p=T(8189),L=T(8421),V=T(515),ue=T(7669),ee=T(8996);function le(...ye){const ae=(0,ue.yG)(ye),ne=(0,ue._6)(ye,1/0),J=ye;return J.length?1===J.length?(0,L.Xf)(J[0]):(0,p.J)(ne)((0,ee.D)(J,ae)):V.E}},9646:(Me,te,T)=>{"use strict";T.d(te,{of:()=>V});var p=T(7669),L=T(8996);function V(...ue){const ee=(0,p.yG)(ue);return(0,L.D)(ue,ee)}},5403:(Me,te,T)=>{"use strict";T.d(te,{x:()=>L});var p=T(930);function L(ue,ee,le,ye,ae){return new V(ue,ee,le,ye,ae)}class V extends p.Lv{constructor(ee,le,ye,ae,ne,J){super(ee),this.onFinalize=ne,this.shouldUnsubscribe=J,this._next=le?function(X){try{le(X)}catch(re){ee.error(re)}}:super._next,this._error=ae?function(X){try{ae(X)}catch(re){ee.error(re)}finally{this.unsubscribe()}}:super._error,this._complete=ye?function(){try{ye()}catch(X){ee.error(X)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ee;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:le}=this;super.unsubscribe(),!le&&(null===(ee=this.onFinalize)||void 0===ee||ee.call(this))}}}},262:(Me,te,T)=>{"use strict";T.d(te,{K:()=>ue});var p=T(8421),L=T(5403),V=T(4482);function ue(ee){return(0,V.e)((le,ye)=>{let J,ae=null,ne=!1;ae=le.subscribe((0,L.x)(ye,void 0,void 0,X=>{J=(0,p.Xf)(ee(X,ue(ee)(le))),ae?(ae.unsubscribe(),ae=null,J.subscribe(ye)):ne=!0})),ne&&(ae.unsubscribe(),ae=null,J.subscribe(ye))})}},4351:(Me,te,T)=>{"use strict";T.d(te,{b:()=>V});var p=T(5577),L=T(576);function V(ue,ee){return(0,L.m)(ee)?(0,p.z)(ue,ee,1):(0,p.z)(ue,1)}},8372:(Me,te,T)=>{"use strict";T.d(te,{b:()=>ue});var p=T(4986),L=T(4482),V=T(5403);function ue(ee,le=p.z){return(0,L.e)((ye,ae)=>{let ne=null,J=null,X=null;const re=()=>{if(ne){ne.unsubscribe(),ne=null;const Oe=J;J=null,ae.next(Oe)}};function je(){const Oe=X+ee,$e=le.now();if($e<Oe)return ne=this.schedule(void 0,Oe-$e),void ae.add(ne);re()}ye.subscribe((0,V.x)(ae,Oe=>{J=Oe,X=le.now(),ne||(ne=le.schedule(je,ee),ae.add(ne))},()=>{re(),ae.complete()},void 0,()=>{J=ne=null}))})}},6590:(Me,te,T)=>{"use strict";T.d(te,{d:()=>V});var p=T(4482),L=T(5403);function V(ue){return(0,p.e)((ee,le)=>{let ye=!1;ee.subscribe((0,L.x)(le,ae=>{ye=!0,le.next(ae)},()=>{ye||le.next(ue),le.complete()}))})}},1884:(Me,te,T)=>{"use strict";T.d(te,{x:()=>ue});var p=T(4671),L=T(4482),V=T(5403);function ue(le,ye=p.y){return le=null!=le?le:ee,(0,L.e)((ae,ne)=>{let J,X=!0;ae.subscribe((0,V.x)(ne,re=>{const je=ye(re);(X||!le(J,je))&&(X=!1,J=je,ne.next(re))}))})}function ee(le,ye){return le===ye}},9300:(Me,te,T)=>{"use strict";T.d(te,{h:()=>V});var p=T(4482),L=T(5403);function V(ue,ee){return(0,p.e)((le,ye)=>{let ae=0;le.subscribe((0,L.x)(ye,ne=>ue.call(ee,ne,ae++)&&ye.next(ne)))})}},590:(Me,te,T)=>{"use strict";T.d(te,{P:()=>ye});var p=T(6805),L=T(9300),V=T(5698),ue=T(6590),ee=T(8068),le=T(4671);function ye(ae,ne){const J=arguments.length>=2;return X=>X.pipe(ae?(0,L.h)((re,je)=>ae(re,je,X)):le.y,(0,V.q)(1),J?(0,ue.d)(ne):(0,ee.T)(()=>new p.K))}},4004:(Me,te,T)=>{"use strict";T.d(te,{U:()=>V});var p=T(4482),L=T(5403);function V(ue,ee){return(0,p.e)((le,ye)=>{let ae=0;le.subscribe((0,L.x)(ye,ne=>{ye.next(ue.call(ee,ne,ae++))}))})}},8189:(Me,te,T)=>{"use strict";T.d(te,{J:()=>V});var p=T(5577),L=T(4671);function V(ue=1/0){return(0,p.z)(L.y,ue)}},5577:(Me,te,T)=>{"use strict";T.d(te,{z:()=>ae});var p=T(4004),L=T(8421),V=T(4482),ue=T(9672),ee=T(5403),ye=T(576);function ae(ne,J,X=1/0){return(0,ye.m)(J)?ae((re,je)=>(0,p.U)((Oe,$e)=>J(re,Oe,je,$e))((0,L.Xf)(ne(re,je))),X):("number"==typeof J&&(X=J),(0,V.e)((re,je)=>function le(ne,J,X,re,je,Oe,$e,ot){const De=[];let Fe=0,oe=0,nt=!1;const Ue=()=>{nt&&!De.length&&!Fe&&J.complete()},Ce=yt=>Fe<re?Ve(yt):De.push(yt),Ve=yt=>{Oe&&J.next(yt),Fe++;let ve=!1;(0,L.Xf)(X(yt,oe++)).subscribe((0,ee.x)(J,we=>{null==je||je(we),Oe?Ce(we):J.next(we)},()=>{ve=!0},void 0,()=>{if(ve)try{for(Fe--;De.length&&Fe<re;){const we=De.shift();$e?(0,ue.f)(J,$e,()=>Ve(we)):Ve(we)}Ue()}catch(we){J.error(we)}}))};return ne.subscribe((0,ee.x)(J,Ce,()=>{nt=!0,Ue()})),()=>{null==ot||ot()}}(re,je,ne,X)))}},5363:(Me,te,T)=>{"use strict";T.d(te,{Q:()=>ue});var p=T(9672),L=T(4482),V=T(5403);function ue(ee,le=0){return(0,L.e)((ye,ae)=>{ye.subscribe((0,V.x)(ae,ne=>(0,p.f)(ae,ee,()=>ae.next(ne),le),()=>(0,p.f)(ae,ee,()=>ae.complete(),le),ne=>(0,p.f)(ae,ee,()=>ae.error(ne),le)))})}},5026:(Me,te,T)=>{"use strict";T.d(te,{R:()=>ue});var p=T(4482),L=T(5403);function V(ee,le,ye,ae,ne){return(J,X)=>{let re=ye,je=le,Oe=0;J.subscribe((0,L.x)(X,$e=>{const ot=Oe++;je=re?ee(je,$e,ot):(re=!0,$e),ae&&X.next(je)},ne&&(()=>{re&&X.next(je),X.complete()})))}}function ue(ee,le){return(0,p.e)(V(ee,le,arguments.length>=2,!0))}},3099:(Me,te,T)=>{"use strict";T.d(te,{B:()=>le});var p=T(8996),L=T(5698),V=T(7579),ue=T(930),ee=T(4482);function le(ae={}){const{connector:ne=(()=>new V.x),resetOnError:J=!0,resetOnComplete:X=!0,resetOnRefCountZero:re=!0}=ae;return je=>{let Oe=null,$e=null,ot=null,De=0,Fe=!1,oe=!1;const nt=()=>{null==$e||$e.unsubscribe(),$e=null},Ue=()=>{nt(),Oe=ot=null,Fe=oe=!1},Ce=()=>{const Ve=Oe;Ue(),null==Ve||Ve.unsubscribe()};return(0,ee.e)((Ve,yt)=>{De++,!oe&&!Fe&&nt();const ve=ot=null!=ot?ot:ne();yt.add(()=>{De--,0===De&&!oe&&!Fe&&($e=ye(Ce,re))}),ve.subscribe(yt),Oe||(Oe=new ue.Hp({next:we=>ve.next(we),error:we=>{oe=!0,nt(),$e=ye(Ue,J,we),ve.error(we)},complete:()=>{Fe=!0,nt(),$e=ye(Ue,X),ve.complete()}}),(0,p.D)(Ve).subscribe(Oe))})(je)}}function ye(ae,ne,...J){return!0===ne?(ae(),null):!1===ne?null:ne(...J).pipe((0,L.q)(1)).subscribe(()=>ae())}},5684:(Me,te,T)=>{"use strict";T.d(te,{T:()=>L});var p=T(9300);function L(V){return(0,p.h)((ue,ee)=>V<=ee)}},8675:(Me,te,T)=>{"use strict";T.d(te,{O:()=>ue});var p=T(7272),L=T(7669),V=T(4482);function ue(...ee){const le=(0,L.yG)(ee);return(0,V.e)((ye,ae)=>{(le?(0,p.z)(ee,ye,le):(0,p.z)(ee,ye)).subscribe(ae)})}},9468:(Me,te,T)=>{"use strict";T.d(te,{R:()=>L});var p=T(4482);function L(V,ue=0){return(0,p.e)((ee,le)=>{le.add(V.schedule(()=>ee.subscribe(le),ue))})}},3900:(Me,te,T)=>{"use strict";T.d(te,{w:()=>ue});var p=T(8421),L=T(4482),V=T(5403);function ue(ee,le){return(0,L.e)((ye,ae)=>{let ne=null,J=0,X=!1;const re=()=>X&&!ne&&ae.complete();ye.subscribe((0,V.x)(ae,je=>{null==ne||ne.unsubscribe();let Oe=0;const $e=J++;(0,p.Xf)(ee(je,$e)).subscribe(ne=(0,V.x)(ae,ot=>ae.next(le?le(je,ot,$e,Oe++):ot),()=>{ne=null,re()}))},()=>{X=!0,re()}))})}},5698:(Me,te,T)=>{"use strict";T.d(te,{q:()=>ue});var p=T(515),L=T(4482),V=T(5403);function ue(ee){return ee<=0?()=>p.E:(0,L.e)((le,ye)=>{let ae=0;le.subscribe((0,V.x)(ye,ne=>{++ae<=ee&&(ye.next(ne),ee<=ae&&ye.complete())}))})}},2722:(Me,te,T)=>{"use strict";T.d(te,{R:()=>ee});var p=T(4482),L=T(5403),V=T(8421),ue=T(5032);function ee(le){return(0,p.e)((ye,ae)=>{(0,V.Xf)(le).subscribe((0,L.x)(ae,()=>ae.complete(),ue.Z)),!ae.closed&&ye.subscribe(ae)})}},8505:(Me,te,T)=>{"use strict";T.d(te,{b:()=>ee});var p=T(576),L=T(4482),V=T(5403),ue=T(4671);function ee(le,ye,ae){const ne=(0,p.m)(le)||ye||ae?{next:le,error:ye,complete:ae}:le;return ne?(0,L.e)((J,X)=>{var re;null===(re=ne.subscribe)||void 0===re||re.call(ne);let je=!0;J.subscribe((0,V.x)(X,Oe=>{var $e;null===($e=ne.next)||void 0===$e||$e.call(ne,Oe),X.next(Oe)},()=>{var Oe;je=!1,null===(Oe=ne.complete)||void 0===Oe||Oe.call(ne),X.complete()},Oe=>{var $e;je=!1,null===($e=ne.error)||void 0===$e||$e.call(ne,Oe),X.error(Oe)},()=>{var Oe,$e;je&&(null===(Oe=ne.unsubscribe)||void 0===Oe||Oe.call(ne)),null===($e=ne.finalize)||void 0===$e||$e.call(ne)}))}):ue.y}},8068:(Me,te,T)=>{"use strict";T.d(te,{T:()=>ue});var p=T(6805),L=T(4482),V=T(5403);function ue(le=ee){return(0,L.e)((ye,ae)=>{let ne=!1;ye.subscribe((0,V.x)(ae,J=>{ne=!0,ae.next(J)},()=>ne?ae.complete():ae.error(le())))})}function ee(){return new p.K}},1749:(Me,te,T)=>{"use strict";T.d(te,{V:()=>ne});var p=T(4986),V=T(4482),ue=T(8421),ee=T(3888),le=T(5403),ye=T(9672);const ae=(0,ee.d)(X=>function(je=null){X(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=je});function ne(X,re){const{first:je,each:Oe,with:$e=J,scheduler:ot=(null!=re?re:p.z),meta:De=null}=function L(X){return X instanceof Date&&!isNaN(X)}(X)?{first:X}:"number"==typeof X?{each:X}:X;if(null==je&&null==Oe)throw new TypeError("No timeout provided.");return(0,V.e)((Fe,oe)=>{let nt,Ue,Ce=null,Ve=0;const yt=ve=>{Ue=(0,ye.f)(oe,ot,()=>{try{nt.unsubscribe(),(0,ue.Xf)($e({meta:De,lastValue:Ce,seen:Ve})).subscribe(oe)}catch(we){oe.error(we)}},ve)};nt=Fe.subscribe((0,le.x)(oe,ve=>{null==Ue||Ue.unsubscribe(),Ve++,oe.next(Ce=ve),Oe>0&&yt(Oe)},void 0,void 0,()=>{(null==Ue?void 0:Ue.closed)||null==Ue||Ue.unsubscribe(),Ce=null})),!Ve&&yt(null!=je?"number"==typeof je?je:+je-ot.now():Oe)})}function J(X){throw new ae(X)}},1365:(Me,te,T)=>{"use strict";T.d(te,{M:()=>ye});var p=T(4482),L=T(5403),V=T(8421),ue=T(4671),ee=T(5032),le=T(7669);function ye(...ae){const ne=(0,le.jO)(ae);return(0,p.e)((J,X)=>{const re=ae.length,je=new Array(re);let Oe=ae.map(()=>!1),$e=!1;for(let ot=0;ot<re;ot++)(0,V.Xf)(ae[ot]).subscribe((0,L.x)(X,De=>{je[ot]=De,!$e&&!Oe[ot]&&(Oe[ot]=!0,($e=Oe.every(ue.y))&&(Oe=null))},ee.Z));J.subscribe((0,L.x)(X,ot=>{if($e){const De=[ot,...je];X.next(ne?ne(...De):De)}}))})}},4408:(Me,te,T)=>{"use strict";T.d(te,{o:()=>ee});var p=T(727);class L extends p.w0{constructor(ye,ae){super()}schedule(ye,ae=0){return this}}const V={setInterval(le,ye,...ae){const{delegate:ne}=V;return(null==ne?void 0:ne.setInterval)?ne.setInterval(le,ye,...ae):setInterval(le,ye,...ae)},clearInterval(le){const{delegate:ye}=V;return((null==ye?void 0:ye.clearInterval)||clearInterval)(le)},delegate:void 0};var ue=T(8737);class ee extends L{constructor(ye,ae){super(ye,ae),this.scheduler=ye,this.work=ae,this.pending=!1}schedule(ye,ae=0){if(this.closed)return this;this.state=ye;const ne=this.id,J=this.scheduler;return null!=ne&&(this.id=this.recycleAsyncId(J,ne,ae)),this.pending=!0,this.delay=ae,this.id=this.id||this.requestAsyncId(J,this.id,ae),this}requestAsyncId(ye,ae,ne=0){return V.setInterval(ye.flush.bind(ye,this),ne)}recycleAsyncId(ye,ae,ne=0){if(null!=ne&&this.delay===ne&&!1===this.pending)return ae;V.clearInterval(ae)}execute(ye,ae){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ne=this._execute(ye,ae);if(ne)return ne;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ye,ae){let J,ne=!1;try{this.work(ye)}catch(X){ne=!0,J=X||new Error("Scheduled action threw falsy error")}if(ne)return this.unsubscribe(),J}unsubscribe(){if(!this.closed){const{id:ye,scheduler:ae}=this,{actions:ne}=ae;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ue.P)(ne,this),null!=ye&&(this.id=this.recycleAsyncId(ae,ye,null)),this.delay=null,super.unsubscribe()}}}},7565:(Me,te,T)=>{"use strict";T.d(te,{v:()=>V});var p=T(6063);class L{constructor(ee,le=L.now){this.schedulerActionCtor=ee,this.now=le}schedule(ee,le=0,ye){return new this.schedulerActionCtor(this,ee).schedule(ye,le)}}L.now=p.l.now;class V extends L{constructor(ee,le=L.now){super(ee,le),this.actions=[],this._active=!1,this._scheduled=void 0}flush(ee){const{actions:le}=this;if(this._active)return void le.push(ee);let ye;this._active=!0;do{if(ye=ee.execute(ee.state,ee.delay))break}while(ee=le.shift());if(this._active=!1,ye){for(;ee=le.shift();)ee.unsubscribe();throw ye}}}},4986:(Me,te,T)=>{"use strict";T.d(te,{z:()=>V});var p=T(4408);const V=new(T(7565).v)(p.o)},6063:(Me,te,T)=>{"use strict";T.d(te,{l:()=>p});const p={now:()=>(p.delegate||Date).now(),delegate:void 0}},233:(Me,te,T)=>{"use strict";T.d(te,{N:()=>ee});var p=T(4408),V=T(7565);const ee=new class ue extends V.v{}(class L extends p.o{constructor(ae,ne){super(ae,ne),this.scheduler=ae,this.work=ne}schedule(ae,ne=0){return ne>0?super.schedule(ae,ne):(this.delay=ne,this.state=ae,this.scheduler.flush(this),this)}execute(ae,ne){return ne>0||this.closed?super.execute(ae,ne):this._execute(ae,ne)}requestAsyncId(ae,ne,J=0){return null!=J&&J>0||null==J&&this.delay>0?super.requestAsyncId(ae,ne,J):ae.flush(this)}})},3410:(Me,te,T)=>{"use strict";T.d(te,{z:()=>p});const p={setTimeout(L,V,...ue){const{delegate:ee}=p;return(null==ee?void 0:ee.setTimeout)?ee.setTimeout(L,V,...ue):setTimeout(L,V,...ue)},clearTimeout(L){const{delegate:V}=p;return((null==V?void 0:V.clearTimeout)||clearTimeout)(L)},delegate:void 0}},2202:(Me,te,T)=>{"use strict";T.d(te,{h:()=>L});const L=function p(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Me,te,T)=>{"use strict";T.d(te,{L:()=>p});const p="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(Me,te,T)=>{"use strict";T.d(te,{K:()=>L});const L=(0,T(3888).d)(V=>function(){V(this),this.name="EmptyError",this.message="no elements in sequence"})},7669:(Me,te,T)=>{"use strict";T.d(te,{_6:()=>le,jO:()=>ue,yG:()=>ee});var p=T(576);function V(ye){return ye[ye.length-1]}function ue(ye){return(0,p.m)(V(ye))?ye.pop():void 0}function ee(ye){return function L(ye){return ye&&(0,p.m)(ye.schedule)}(V(ye))?ye.pop():void 0}function le(ye,ae){return"number"==typeof V(ye)?ye.pop():ae}},4742:(Me,te,T)=>{"use strict";T.d(te,{D:()=>ee});const{isArray:p}=Array,{getPrototypeOf:L,prototype:V,keys:ue}=Object;function ee(ye){if(1===ye.length){const ae=ye[0];if(p(ae))return{args:ae,keys:null};if(function le(ye){return ye&&"object"==typeof ye&&L(ye)===V}(ae)){const ne=ue(ae);return{args:ne.map(J=>ae[J]),keys:ne}}}return{args:ye,keys:null}}},8737:(Me,te,T)=>{"use strict";function p(L,V){if(L){const ue=L.indexOf(V);0<=ue&&L.splice(ue,1)}}T.d(te,{P:()=>p})},3888:(Me,te,T)=>{"use strict";function p(L){const ue=L(ee=>{Error.call(ee),ee.stack=(new Error).stack});return ue.prototype=Object.create(Error.prototype),ue.prototype.constructor=ue,ue}T.d(te,{d:()=>p})},1810:(Me,te,T)=>{"use strict";function p(L,V){return L.reduce((ue,ee,le)=>(ue[ee]=V[le],ue),{})}T.d(te,{n:()=>p})},2806:(Me,te,T)=>{"use strict";T.d(te,{x:()=>V,O:()=>ue});var p=T(2416);let L=null;function V(ee){if(p.v.useDeprecatedSynchronousErrorHandling){const le=!L;if(le&&(L={errorThrown:!1,error:null}),ee(),le){const{errorThrown:ye,error:ae}=L;if(L=null,ye)throw ae}}else ee()}function ue(ee){p.v.useDeprecatedSynchronousErrorHandling&&L&&(L.errorThrown=!0,L.error=ee)}},9672:(Me,te,T)=>{"use strict";function p(L,V,ue,ee=0,le=!1){const ye=V.schedule(function(){ue(),le?L.add(this.schedule(null,ee)):this.unsubscribe()},ee);if(L.add(ye),!le)return ye}T.d(te,{f:()=>p})},4671:(Me,te,T)=>{"use strict";function p(L){return L}T.d(te,{y:()=>p})},1144:(Me,te,T)=>{"use strict";T.d(te,{z:()=>p});const p=L=>L&&"number"==typeof L.length&&"function"!=typeof L},2206:(Me,te,T)=>{"use strict";T.d(te,{D:()=>L});var p=T(576);function L(V){return Symbol.asyncIterator&&(0,p.m)(null==V?void 0:V[Symbol.asyncIterator])}},576:(Me,te,T)=>{"use strict";function p(L){return"function"==typeof L}T.d(te,{m:()=>p})},3670:(Me,te,T)=>{"use strict";T.d(te,{c:()=>V});var p=T(8822),L=T(576);function V(ue){return(0,L.m)(ue[p.L])}},6495:(Me,te,T)=>{"use strict";T.d(te,{T:()=>V});var p=T(2202),L=T(576);function V(ue){return(0,L.m)(null==ue?void 0:ue[p.h])}},8239:(Me,te,T)=>{"use strict";T.d(te,{t:()=>L});var p=T(576);function L(V){return(0,p.m)(null==V?void 0:V.then)}},3260:(Me,te,T)=>{"use strict";T.d(te,{Q:()=>V,L:()=>ue});var p=T(655),L=T(576);function V(ee){return(0,p.FC)(this,arguments,function*(){const ye=ee.getReader();try{for(;;){const{value:ae,done:ne}=yield(0,p.qq)(ye.read());if(ne)return yield(0,p.qq)(void 0);yield yield(0,p.qq)(ae)}}finally{ye.releaseLock()}})}function ue(ee){return(0,L.m)(null==ee?void 0:ee.getReader)}},4482:(Me,te,T)=>{"use strict";T.d(te,{A:()=>L,e:()=>V});var p=T(576);function L(ue){return(0,p.m)(null==ue?void 0:ue.lift)}function V(ue){return ee=>{if(L(ee))return ee.lift(function(le){try{return ue(le,this)}catch(ye){this.error(ye)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(Me,te,T)=>{"use strict";T.d(te,{Z:()=>ue});var p=T(4004);const{isArray:L}=Array;function ue(ee){return(0,p.U)(le=>function V(ee,le){return L(le)?ee(...le):ee(le)}(ee,le))}},5032:(Me,te,T)=>{"use strict";function p(){}T.d(te,{Z:()=>p})},7849:(Me,te,T)=>{"use strict";T.d(te,{h:()=>V});var p=T(2416),L=T(3410);function V(ue){L.z.setTimeout(()=>{const{onUnhandledError:ee}=p.v;if(!ee)throw ue;ee(ue)})}},4532:(Me,te,T)=>{"use strict";function p(L){return new TypeError(`You provided ${null!==L&&"object"==typeof L?"an invalid object":`'${L}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}T.d(te,{z:()=>p})},5226:function(Me){Me.exports=function(){"use strict";const te="SweetAlert2:",p=I=>I.charAt(0).toUpperCase()+I.slice(1),L=I=>Array.prototype.slice.call(I),V=I=>{console.warn("".concat(te," ").concat("object"==typeof I?I.join(" "):I))},ue=I=>{console.error("".concat(te," ").concat(I))},ee=[],ye=(I,D)=>{(I=>{ee.includes(I)||(ee.push(I),V(I))})('"'.concat(I,'" is deprecated and will be removed in the next major release. Please use "').concat(D,'" instead.'))},ae=I=>"function"==typeof I?I():I,ne=I=>I&&"function"==typeof I.toPromise,J=I=>ne(I)?I.toPromise():Promise.resolve(I),X=I=>I&&Promise.resolve(I)===I,re={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},je=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],Oe={},$e=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],ot=I=>Object.prototype.hasOwnProperty.call(re,I),De=I=>-1!==je.indexOf(I),Fe=I=>Oe[I],oe=I=>{ot(I)||V('Unknown parameter "'.concat(I,'"'))},nt=I=>{$e.includes(I)&&V('The parameter "'.concat(I,'" is incompatible with toasts'))},Ue=I=>{Fe(I)&&ye(I,Fe(I))},yt=I=>{const D={};for(const $ in I)D[I[$]]="swal2-"+I[$];return D},ve=yt(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"]),we=yt(["success","warning","info","question","error"]),xe=()=>document.body.querySelector(".".concat(ve.container)),Ae=I=>{const D=xe();return D?D.querySelector(I):null},ze=I=>Ae(".".concat(I)),ke=()=>ze(ve.popup),ht=()=>ze(ve.icon),Qe=()=>ze(ve.title),xt=()=>ze(ve["html-container"]),Lt=()=>ze(ve.image),In=()=>ze(ve["progress-steps"]),Ot=()=>ze(ve["validation-message"]),St=()=>Ae(".".concat(ve.actions," .").concat(ve.confirm)),gn=()=>Ae(".".concat(ve.actions," .").concat(ve.deny)),yn=()=>Ae(".".concat(ve.loader)),$t=()=>Ae(".".concat(ve.actions," .").concat(ve.cancel)),bn=()=>ze(ve.actions),on=()=>ze(ve.footer),ln=()=>ze(ve["timer-progress-bar"]),er=()=>ze(ve.close),Ln=()=>{const I=L(ke().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort(($,me)=>{const mt=parseInt($.getAttribute("tabindex")),en=parseInt(me.getAttribute("tabindex"));return mt>en?1:mt<en?-1:0}),D=L(ke().querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n')).filter($=>"-1"!==$.getAttribute("tabindex"));return(I=>{const D=[];for(let $=0;$<I.length;$++)-1===D.indexOf(I[$])&&D.push(I[$]);return D})(I.concat(D)).filter($=>zn($))},xn=()=>Rt(document.body,ve.shown)&&!Rt(document.body,ve["toast-shown"])&&!Rt(document.body,ve["no-backdrop"]),lr=()=>ke()&&Rt(ke(),ve.toast),tr={previousBodyPadding:null},fn=(I,D)=>{if(I.textContent="",D){const me=(new DOMParser).parseFromString(D,"text/html");L(me.querySelector("head").childNodes).forEach(mt=>{I.appendChild(mt)}),L(me.querySelector("body").childNodes).forEach(mt=>{I.appendChild(mt)})}},Rt=(I,D)=>{if(!D)return!1;const $=D.split(/\s+/);for(let me=0;me<$.length;me++)if(!I.classList.contains($[me]))return!1;return!0},nn=(I,D,$)=>{if(((I,D)=>{L(I.classList).forEach($=>{!Object.values(ve).includes($)&&!Object.values(we).includes($)&&!Object.values(D.showClass).includes($)&&I.classList.remove($)})})(I,D),D.customClass&&D.customClass[$]){if("string"!=typeof D.customClass[$]&&!D.customClass[$].forEach)return V("Invalid type of customClass.".concat($,'! Expected string or iterable object, got "').concat(typeof D.customClass[$],'"'));rn(I,D.customClass[$])}},wn=(I,D)=>{if(!D)return null;switch(D){case"select":case"textarea":case"file":return I.querySelector(".".concat(ve.popup," > .").concat(ve[D]));case"checkbox":return I.querySelector(".".concat(ve.popup," > .").concat(ve.checkbox," input"));case"radio":return I.querySelector(".".concat(ve.popup," > .").concat(ve.radio," input:checked"))||I.querySelector(".".concat(ve.popup," > .").concat(ve.radio," input:first-child"));case"range":return I.querySelector(".".concat(ve.popup," > .").concat(ve.range," input"));default:return I.querySelector(".".concat(ve.popup," > .").concat(ve.input))}},Yr=I=>{if(I.focus(),"file"!==I.type){const D=I.value;I.value="",I.value=D}},Rr=(I,D,$)=>{!I||!D||("string"==typeof D&&(D=D.split(/\s+/).filter(Boolean)),D.forEach(me=>{Array.isArray(I)?I.forEach(mt=>{$?mt.classList.add(me):mt.classList.remove(me)}):$?I.classList.add(me):I.classList.remove(me)}))},rn=(I,D)=>{Rr(I,D,!0)},Vn=(I,D)=>{Rr(I,D,!1)},pr=(I,D)=>{const $=L(I.childNodes);for(let me=0;me<$.length;me++)if(Rt($[me],D))return $[me]},Hn=(I,D,$)=>{$==="".concat(parseInt($))&&($=parseInt($)),$||0===parseInt($)?I.style[D]="number"==typeof $?"".concat($,"px"):$:I.style.removeProperty(D)},Et=function(I){I.style.display=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex"},Pt=I=>{I.style.display="none"},Ht=(I,D,$,me)=>{const mt=I.querySelector(D);mt&&(mt.style[$]=me)},gr=(I,D,$)=>{D?Et(I,$):Pt(I)},zn=I=>!(!I||!(I.offsetWidth||I.offsetHeight||I.getClientRects().length)),Gr=I=>I.scrollHeight>I.clientHeight,Cr=I=>{const D=window.getComputedStyle(I),$=parseFloat(D.getPropertyValue("animation-duration")||"0"),me=parseFloat(D.getPropertyValue("transition-duration")||"0");return $>0||me>0},nr=function(I){let D=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const $=ln();zn($)&&(D&&($.style.transition="none",$.style.width="100%"),setTimeout(()=>{$.style.transition="width ".concat(I/1e3,"s linear"),$.style.width="0%"},10))},Ee=()=>"undefined"==typeof window||"undefined"==typeof document,Ke={},Mt=I=>new Promise(D=>{if(!I)return D();const $=window.scrollX,me=window.scrollY;Ke.restoreFocusTimeout=setTimeout(()=>{Ke.previousActiveElement&&Ke.previousActiveElement.focus?(Ke.previousActiveElement.focus(),Ke.previousActiveElement=null):document.body&&document.body.focus(),D()},100),window.scrollTo($,me)}),et='\n <div aria-labelledby="'.concat(ve.title,'" aria-describedby="').concat(ve["html-container"],'" class="').concat(ve.popup,'" tabindex="-1">\n   <button type="button" class="').concat(ve.close,'"></button>\n   <ul class="').concat(ve["progress-steps"],'"></ul>\n   <div class="').concat(ve.icon,'"></div>\n   <img class="').concat(ve.image,'" />\n   <h2 class="').concat(ve.title,'" id="').concat(ve.title,'"></h2>\n   <div class="').concat(ve["html-container"],'" id="').concat(ve["html-container"],'"></div>\n   <input class="').concat(ve.input,'" />\n   <input type="file" class="').concat(ve.file,'" />\n   <div class="').concat(ve.range,'">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="').concat(ve.select,'"></select>\n   <div class="').concat(ve.radio,'"></div>\n   <label for="').concat(ve.checkbox,'" class="').concat(ve.checkbox,'">\n     <input type="checkbox" />\n     <span class="').concat(ve.label,'"></span>\n   </label>\n   <textarea class="').concat(ve.textarea,'"></textarea>\n   <div class="').concat(ve["validation-message"],'" id="').concat(ve["validation-message"],'"></div>\n   <div class="').concat(ve.actions,'">\n     <div class="').concat(ve.loader,'"></div>\n     <button type="button" class="').concat(ve.confirm,'"></button>\n     <button type="button" class="').concat(ve.deny,'"></button>\n     <button type="button" class="').concat(ve.cancel,'"></button>\n   </div>\n   <div class="').concat(ve.footer,'"></div>\n   <div class="').concat(ve["timer-progress-bar-container"],'">\n     <div class="').concat(ve["timer-progress-bar"],'"></div>\n   </div>\n </div>\n').replace(/(^|\n)\s*/g,""),wt=()=>{Ke.currentInstance.resetValidationMessage()},Kn=I=>{const D=(()=>{const I=xe();return!!I&&(I.remove(),Vn([document.documentElement,document.body],[ve["no-backdrop"],ve["toast-shown"],ve["has-column"]]),!0)})();if(Ee())return void ue("SweetAlert2 requires document to initialize");const $=document.createElement("div");$.className=ve.container,D&&rn($,ve["no-transition"]),fn($,et);const me=(I=>"string"==typeof I?document.querySelector(I):I)(I.target);me.appendChild($),(I=>{const D=ke();D.setAttribute("role",I.toast?"alert":"dialog"),D.setAttribute("aria-live",I.toast?"polite":"assertive"),I.toast||D.setAttribute("aria-modal","true")})(I),(I=>{"rtl"===window.getComputedStyle(I).direction&&rn(xe(),ve.rtl)})(me),(()=>{const I=ke(),D=pr(I,ve.input),$=pr(I,ve.file),me=I.querySelector(".".concat(ve.range," input")),mt=I.querySelector(".".concat(ve.range," output")),en=pr(I,ve.select),ei=I.querySelector(".".concat(ve.checkbox," input")),Qn=pr(I,ve.textarea);D.oninput=wt,$.onchange=wt,en.onchange=wt,ei.onchange=wt,Qn.oninput=wt,me.oninput=()=>{wt(),mt.value=me.value},me.onchange=()=>{wt(),me.nextSibling.value=me.value}})()},ai=(I,D)=>{I instanceof HTMLElement?D.appendChild(I):"object"==typeof I?wr(I,D):I&&fn(D,I)},wr=(I,D)=>{I.jquery?Pn(D,I):fn(D,I.toString())},Pn=(I,D)=>{if(I.textContent="",0 in D)for(let $=0;$ in D;$++)I.appendChild(D[$].cloneNode(!0));else I.appendChild(D.cloneNode(!0))},dn=(()=>{if(Ee())return!1;const I=document.createElement("div"),D={WebkitAnimation:"webkitAnimationEnd",animation:"animationend"};for(const $ in D)if(Object.prototype.hasOwnProperty.call(D,$)&&void 0!==I.style[$])return D[$];return!1})(),yr=(I,D)=>{const $=bn(),me=yn();D.showConfirmButton||D.showDenyButton||D.showCancelButton?Et($):Pt($),nn($,D,"actions"),function _r(I,D,$){const me=St(),mt=gn(),en=$t();Ar(me,"confirm",$),Ar(mt,"deny",$),Ar(en,"cancel",$),function Un(I,D,$,me){if(!me.buttonsStyling)return Vn([I,D,$],ve.styled);rn([I,D,$],ve.styled),me.confirmButtonColor&&(I.style.backgroundColor=me.confirmButtonColor,rn(I,ve["default-outline"])),me.denyButtonColor&&(D.style.backgroundColor=me.denyButtonColor,rn(D,ve["default-outline"])),me.cancelButtonColor&&($.style.backgroundColor=me.cancelButtonColor,rn($,ve["default-outline"]))}(me,mt,en,$),$.reverseButtons&&($.toast?(I.insertBefore(en,me),I.insertBefore(mt,me)):(I.insertBefore(en,D),I.insertBefore(mt,D),I.insertBefore(me,D)))}($,me,D),fn(me,D.loaderHtml),nn(me,D,"loader")};function Ar(I,D,$){gr(I,$["show".concat(p(D),"Button")],"inline-block"),fn(I,$["".concat(D,"ButtonText")]),I.setAttribute("aria-label",$["".concat(D,"ButtonAriaLabel")]),I.className=ve[D],nn(I,$,"".concat(D,"Button")),rn(I,$["".concat(D,"ButtonClass")])}const Pr=(I,D)=>{const $=xe();!$||(function Mi(I,D){"string"==typeof D?I.style.background=D:D||rn([document.documentElement,document.body],ve["no-backdrop"])}($,D.backdrop),function ui(I,D){D in ve?rn(I,ve[D]):(V('The "position" parameter is not valid, defaulting to "center"'),rn(I,ve.center))}($,D.position),function Wr(I,D){if(D&&"string"==typeof D){const $="grow-".concat(D);$ in ve&&rn(I,ve[$])}}($,D.grow),nn($,D,"container"))};var Wt={awaitingPromise:new WeakMap,promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};const Sr=["input","file","range","select","radio","checkbox","textarea"],lt=I=>{if(!hn[I.input])return ue('Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "'.concat(I.input,'"'));const D=Qr(I.input),$=hn[I.input](D,I);Et($),setTimeout(()=>{Yr($)})},Bn=(I,D)=>{const $=wn(ke(),I);if($){(I=>{for(let D=0;D<I.attributes.length;D++){const $=I.attributes[D].name;["type","value","style"].includes($)||I.removeAttribute($)}})($);for(const me in D)$.setAttribute(me,D[me])}},Tr=I=>{const D=Qr(I.input);I.customClass&&rn(D,I.customClass.input)},zr=(I,D)=>{(!I.placeholder||D.inputPlaceholder)&&(I.placeholder=D.inputPlaceholder)},qn=(I,D,$)=>{if($.inputLabel){I.id=ve.input;const me=document.createElement("label"),mt=ve["input-label"];me.setAttribute("for",I.id),me.className=mt,rn(me,$.customClass.inputLabel),me.innerText=$.inputLabel,D.insertAdjacentElement("beforebegin",me)}},Qr=I=>{const D=ve[I]?ve[I]:ve.input;return pr(ke(),D)},hn={};hn.text=hn.email=hn.password=hn.number=hn.tel=hn.url=(I,D)=>("string"==typeof D.inputValue||"number"==typeof D.inputValue?I.value=D.inputValue:X(D.inputValue)||V('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(typeof D.inputValue,'"')),qn(I,I,D),zr(I,D),I.type=D.input,I),hn.file=(I,D)=>(qn(I,I,D),zr(I,D),I),hn.range=(I,D)=>{const $=I.querySelector("input"),me=I.querySelector("output");return $.value=D.inputValue,$.type=D.input,me.value=D.inputValue,qn($,I,D),I},hn.select=(I,D)=>{if(I.textContent="",D.inputPlaceholder){const $=document.createElement("option");fn($,D.inputPlaceholder),$.value="",$.disabled=!0,$.selected=!0,I.appendChild($)}return qn(I,I,D),I},hn.radio=I=>(I.textContent="",I),hn.checkbox=(I,D)=>{const $=wn(ke(),"checkbox");$.value="1",$.id=ve.checkbox,$.checked=Boolean(D.inputValue);const me=I.querySelector("span");return fn(me,D.inputPlaceholder),I},hn.textarea=(I,D)=>{I.value=D.inputValue,zr(I,D),qn(I,I,D);return setTimeout(()=>{if("MutationObserver"in window){const me=parseInt(window.getComputedStyle(ke()).width);new MutationObserver(()=>{const en=I.offsetWidth+(me=>parseInt(window.getComputedStyle(me).marginLeft)+parseInt(window.getComputedStyle(me).marginRight))(I);ke().style.width=en>me?"".concat(en,"px"):null}).observe(I,{attributes:!0,attributeFilter:["style"]})}}),I};const Jr=(I,D)=>{const $=xt();nn($,D,"htmlContainer"),D.html?(ai(D.html,$),Et($,"block")):D.text?($.textContent=D.text,Et($,"block")):Pt($),((I,D)=>{const $=ke(),me=Wt.innerParams.get(I),mt=!me||D.input!==me.input;Sr.forEach(en=>{const ei=ve[en],Qn=pr($,ei);Bn(en,D.inputAttributes),Qn.className=ei,mt&&Pt(Qn)}),D.input&&(mt&&lt(D),Tr(D))})(I,D)},yi=(I,D)=>{for(const $ in we)D.icon!==$&&Vn(I,we[$]);rn(I,we[D.icon]),vt(I,D),ge(),nn(I,D,"icon")},ge=()=>{const I=ke(),D=window.getComputedStyle(I).getPropertyValue("background-color"),$=I.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let me=0;me<$.length;me++)$[me].style.backgroundColor=D},qe=(I,D)=>{I.textContent="",fn(I,D.iconHtml?bt(D.iconHtml):"success"===D.icon?'\n  <div class="swal2-success-circular-line-left"></div>\n  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n  <div class="swal2-success-circular-line-right"></div>\n':"error"===D.icon?'\n  <span class="swal2-x-mark">\n    <span class="swal2-x-mark-line-left"></span>\n    <span class="swal2-x-mark-line-right"></span>\n  </span>\n':bt({question:"?",warning:"!",info:"i"}[D.icon]))},vt=(I,D)=>{if(D.iconColor){I.style.color=D.iconColor,I.style.borderColor=D.iconColor;for(const $ of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])Ht(I,$,"backgroundColor",D.iconColor);Ht(I,".swal2-success-ring","borderColor",D.iconColor)}},bt=I=>'<div class="'.concat(ve["icon-content"],'">').concat(I,"</div>"),de=(I,D)=>{const $=In();if(!D.progressSteps||0===D.progressSteps.length)return Pt($);Et($),$.textContent="",D.currentProgressStep>=D.progressSteps.length&&V("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),D.progressSteps.forEach((me,mt)=>{const en=(I=>{const D=document.createElement("li");return rn(D,ve["progress-step"]),fn(D,I),D})(me);if($.appendChild(en),mt===D.currentProgressStep&&rn(en,ve["active-progress-step"]),mt!==D.progressSteps.length-1){const ei=(I=>{const D=document.createElement("li");return rn(D,ve["progress-step-line"]),I.progressStepsDistance&&(D.style.width=I.progressStepsDistance),D})(D);$.appendChild(ei)}})},dt=(I,D)=>{I.className="".concat(ve.popup," ").concat(zn(I)?D.showClass.popup:""),D.toast?(rn([document.documentElement,document.body],ve["toast-shown"]),rn(I,ve.toast)):rn(I,ve.modal),nn(I,D,"popup"),"string"==typeof D.customClass&&rn(I,D.customClass),D.icon&&rn(I,ve["icon-".concat(D.icon)])},Vt=(I,D)=>{((I,D)=>{const $=xe(),me=ke();D.toast?(Hn($,"width",D.width),me.style.width="100%",me.insertBefore(yn(),ht())):Hn(me,"width",D.width),Hn(me,"padding",D.padding),D.color&&(me.style.color=D.color),D.background&&(me.style.background=D.background),Pt(Ot()),dt(me,D)})(0,D),Pr(0,D),de(0,D),((I,D)=>{const $=Wt.innerParams.get(I),me=ht();$&&D.icon===$.icon?(qe(me,D),yi(me,D)):D.icon||D.iconHtml?D.icon&&-1===Object.keys(we).indexOf(D.icon)?(ue('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(D.icon,'"')),Pt(me)):(Et(me),qe(me,D),yi(me,D),rn(me,D.showClass.icon)):Pt(me)})(I,D),((I,D)=>{const $=Lt();if(!D.imageUrl)return Pt($);Et($,""),$.setAttribute("src",D.imageUrl),$.setAttribute("alt",D.imageAlt),Hn($,"width",D.imageWidth),Hn($,"height",D.imageHeight),$.className=ve.image,nn($,D,"image")})(0,D),((I,D)=>{const $=Qe();gr($,D.title||D.titleText,"block"),D.title&&ai(D.title,$),D.titleText&&($.innerText=D.titleText),nn($,D,"title")})(0,D),((I,D)=>{const $=er();fn($,D.closeButtonHtml),nn($,D,"closeButton"),gr($,D.showCloseButton),$.setAttribute("aria-label",D.closeButtonAriaLabel)})(0,D),Jr(I,D),yr(0,D),((I,D)=>{const $=on();gr($,D.footer),D.footer&&ai(D.footer,$),nn($,D,"footer")})(0,D),"function"==typeof D.didRender&&D.didRender(ke())},sn=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),Er=()=>{L(document.body.children).forEach(D=>{D.hasAttribute("data-previous-aria-hidden")?(D.setAttribute("aria-hidden",D.getAttribute("data-previous-aria-hidden")),D.removeAttribute("data-previous-aria-hidden")):D.removeAttribute("aria-hidden")})},ji=["swal-title","swal-html","swal-footer"],Zs=I=>{const D={};return L(I.querySelectorAll("swal-param")).forEach($=>{jt($,["name","value"]);const me=$.getAttribute("name"),mt=$.getAttribute("value");"boolean"==typeof re[me]&&"false"===mt&&(D[me]=!1),"object"==typeof re[me]&&(D[me]=JSON.parse(mt))}),D},Es=I=>{const D={};return L(I.querySelectorAll("swal-button")).forEach($=>{jt($,["type","color","aria-label"]);const me=$.getAttribute("type");D["".concat(me,"ButtonText")]=$.innerHTML,D["show".concat(p(me),"Button")]=!0,$.hasAttribute("color")&&(D["".concat(me,"ButtonColor")]=$.getAttribute("color")),$.hasAttribute("aria-label")&&(D["".concat(me,"ButtonAriaLabel")]=$.getAttribute("aria-label"))}),D},Re=I=>{const D={},$=I.querySelector("swal-image");return $&&(jt($,["src","width","height","alt"]),$.hasAttribute("src")&&(D.imageUrl=$.getAttribute("src")),$.hasAttribute("width")&&(D.imageWidth=$.getAttribute("width")),$.hasAttribute("height")&&(D.imageHeight=$.getAttribute("height")),$.hasAttribute("alt")&&(D.imageAlt=$.getAttribute("alt"))),D},be=I=>{const D={},$=I.querySelector("swal-icon");return $&&(jt($,["type","color"]),$.hasAttribute("type")&&(D.icon=$.getAttribute("type")),$.hasAttribute("color")&&(D.iconColor=$.getAttribute("color")),D.iconHtml=$.innerHTML),D},Ye=I=>{const D={},$=I.querySelector("swal-input");$&&(jt($,["type","label","placeholder","value"]),D.input=$.getAttribute("type")||"text",$.hasAttribute("label")&&(D.inputLabel=$.getAttribute("label")),$.hasAttribute("placeholder")&&(D.inputPlaceholder=$.getAttribute("placeholder")),$.hasAttribute("value")&&(D.inputValue=$.getAttribute("value")));const me=I.querySelectorAll("swal-input-option");return me.length&&(D.inputOptions={},L(me).forEach(mt=>{jt(mt,["value"]);const en=mt.getAttribute("value");D.inputOptions[en]=mt.innerHTML})),D},ft=(I,D)=>{const $={};for(const me in D){const mt=D[me],en=I.querySelector(mt);en&&(jt(en,[]),$[mt.replace(/^swal-/,"")]=en.innerHTML.trim())}return $},Dt=I=>{const D=ji.concat(["swal-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);L(I.children).forEach($=>{const me=$.tagName.toLowerCase();-1===D.indexOf(me)&&V("Unrecognized element <".concat(me,">"))})},jt=(I,D)=>{L(I.attributes).forEach($=>{-1===D.indexOf($.name)&&V(['Unrecognized attribute "'.concat($.name,'" on <').concat(I.tagName.toLowerCase(),">."),"".concat(D.length?"Allowed attributes are: ".concat(D.join(", ")):"To set the value, use HTML within the element.")])})};var ir={email:(I,D)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(I)?Promise.resolve():Promise.resolve(D||"Invalid email address"),url:(I,D)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(I)?Promise.resolve():Promise.resolve(D||"Invalid URL")};function fi(I){(function xr(I){I.inputValidator||Object.keys(ir).forEach(D=>{I.input===D&&(I.inputValidator=ir[D])})})(I),I.showLoaderOnConfirm&&!I.preConfirm&&V("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),function or(I){(!I.target||"string"==typeof I.target&&!document.querySelector(I.target)||"string"!=typeof I.target&&!I.target.appendChild)&&(V('Target parameter is not valid, defaulting to "body"'),I.target="body")}(I),"string"==typeof I.title&&(I.title=I.title.split("\n").join("<br />")),Kn(I)}class $i{constructor(D,$){this.callback=D,this.remaining=$,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=(new Date).getTime()-this.started.getTime()),this.remaining}increase(D){const $=this.running;return $&&this.stop(),this.remaining+=D,$&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const es=()=>{null===tr.previousBodyPadding&&document.body.scrollHeight>window.innerHeight&&(tr.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(tr.previousBodyPadding+(()=>{const I=document.createElement("div");I.className=ve["scrollbar-measure"],document.body.appendChild(I);const D=I.getBoundingClientRect().width-I.clientWidth;return document.body.removeChild(I),D})(),"px"))},Hs=()=>{const I=navigator.userAgent,D=!!I.match(/iPad/i)||!!I.match(/iPhone/i),$=!!I.match(/WebKit/i);D&&$&&!I.match(/CriOS/i)&&ke().scrollHeight>window.innerHeight-44&&(xe().style.paddingBottom="".concat(44,"px"))},ps=()=>{const I=xe();let D;I.ontouchstart=$=>{D=ts($)},I.ontouchmove=$=>{D&&($.preventDefault(),$.stopPropagation())}},ts=I=>{const D=I.target,$=xe();return!(pi(I)||Di(I)||D!==$&&(Gr($)||"INPUT"===D.tagName||"TEXTAREA"===D.tagName||Gr(xt())&&xt().contains(D)))},pi=I=>I.touches&&I.touches.length&&"stylus"===I.touches[0].touchType,Di=I=>I.touches&&I.touches.length>1,Gs=I=>{const D=xe(),$=ke();"function"==typeof I.willOpen&&I.willOpen($);const mt=window.getComputedStyle(document.body).overflowY;Gi(D,$,I),setTimeout(()=>{bs(D,$)},10),xn()&&(Oi(D,I.scrollbarPadding,mt),L(document.body.children).forEach(D=>{D===xe()||D.contains(xe())||(D.hasAttribute("aria-hidden")&&D.setAttribute("data-previous-aria-hidden",D.getAttribute("aria-hidden")),D.setAttribute("aria-hidden","true"))})),!lr()&&!Ke.previousActiveElement&&(Ke.previousActiveElement=document.activeElement),"function"==typeof I.didOpen&&setTimeout(()=>I.didOpen($)),Vn(D,ve["no-transition"])},Hi=I=>{const D=ke();if(I.target!==D)return;const $=xe();D.removeEventListener(dn,Hi),$.style.overflowY="auto"},bs=(I,D)=>{dn&&Cr(D)?(I.style.overflowY="hidden",D.addEventListener(dn,Hi)):I.style.overflowY="auto"},Oi=(I,D,$)=>{(()=>{if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!Rt(document.body,ve.iosfix)){const D=document.body.scrollTop;document.body.style.top="".concat(-1*D,"px"),rn(document.body,ve.iosfix),ps(),Hs()}})(),D&&"hidden"!==$&&es(),setTimeout(()=>{I.scrollTop=0})},Gi=(I,D,$)=>{rn(I,$.showClass.backdrop),D.style.setProperty("opacity","0","important"),Et(D,"grid"),setTimeout(()=>{rn(D,$.showClass.popup),D.style.removeProperty("opacity")},10),rn([document.documentElement,document.body],ve.shown),$.heightAuto&&$.backdrop&&!$.toast&&rn([document.documentElement,document.body],ve["height-auto"])},jr=I=>{let D=ke();D||new ia,D=ke();const $=yn();lr()?Pt(ht()):Ws(D,I),Et($),D.setAttribute("data-loading",!0),D.setAttribute("aria-busy",!0),D.focus()},Ws=(I,D)=>{const $=bn(),me=yn();!D&&zn(St())&&(D=St()),Et($),D&&(Pt(D),me.setAttribute("data-button-to-replace",D.className)),me.parentNode.insertBefore(me,D),rn([I,$],ve.loading)},Is=I=>I.checked?1:0,Ys=I=>I.checked?I.value:null,vi=I=>I.files.length?null!==I.getAttribute("multiple")?I.files:I.files[0]:null,wi=(I,D)=>{const $=ke(),me=mt=>Ps[D.input]($,Ri(mt),D);ne(D.inputOptions)||X(D.inputOptions)?(jr(St()),J(D.inputOptions).then(mt=>{I.hideLoading(),me(mt)})):"object"==typeof D.inputOptions?me(D.inputOptions):ue("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(typeof D.inputOptions))},ns=(I,D)=>{const $=I.getInput();Pt($),J(D.inputValue).then(me=>{$.value="number"===D.input?parseFloat(me)||0:"".concat(me),Et($),$.focus(),I.hideLoading()}).catch(me=>{ue("Error in inputValue promise: ".concat(me)),$.value="",Et($),$.focus(),I.hideLoading()})},Ps={select:(I,D,$)=>{const me=pr(I,ve.select),mt=(en,ei,Qn)=>{const Ti=document.createElement("option");Ti.value=Qn,fn(Ti,ei),Ti.selected=Wi(Qn,$.inputValue),en.appendChild(Ti)};D.forEach(en=>{const ei=en[0],Qn=en[1];if(Array.isArray(Qn)){const Ti=document.createElement("optgroup");Ti.label=ei,Ti.disabled=!1,me.appendChild(Ti),Qn.forEach(Fi=>mt(Ti,Fi[1],Fi[0]))}else mt(me,Qn,ei)}),me.focus()},radio:(I,D,$)=>{const me=pr(I,ve.radio);D.forEach(en=>{const ei=en[0],Qn=en[1],Ti=document.createElement("input"),Fi=document.createElement("label");Ti.type="radio",Ti.name=ve.radio,Ti.value=ei,Wi(ei,$.inputValue)&&(Ti.checked=!0);const po=document.createElement("span");fn(po,Qn),po.className=ve.label,Fi.appendChild(Ti),Fi.appendChild(po),me.appendChild(Fi)});const mt=me.querySelectorAll("input");mt.length&&mt[0].focus()}},Ri=I=>{const D=[];return"undefined"!=typeof Map&&I instanceof Map?I.forEach(($,me)=>{let mt=$;"object"==typeof mt&&(mt=Ri(mt)),D.push([me,mt])}):Object.keys(I).forEach($=>{let me=I[$];"object"==typeof me&&(me=Ri(me)),D.push([$,me])}),D},Wi=(I,D)=>D&&D.toString()===I.toString();function Gn(){const I=Wt.innerParams.get(this);if(!I)return;const D=Wt.domCache.get(this);Pt(D.loader),lr()?I.icon&&Et(ht()):N(D),Vn([D.popup,D.actions],ve.loading),D.popup.removeAttribute("aria-busy"),D.popup.removeAttribute("data-loading"),D.confirmButton.disabled=!1,D.denyButton.disabled=!1,D.cancelButton.disabled=!1}const N=I=>{const D=I.popup.getElementsByClassName(I.loader.getAttribute("data-button-to-replace"));D.length?Et(D[0],"inline-block"):!zn(St())&&!zn(gn())&&!zn($t())&&Pt(I.actions)};var P={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};function Z(I,D,$,me){lr()?mr(I,me):(Mt($).then(()=>mr(I,me)),Ke.keydownTarget.removeEventListener("keydown",Ke.keydownHandler,{capture:Ke.keydownListenerCapture}),Ke.keydownHandlerAdded=!1),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(D.setAttribute("style","display:none !important"),D.removeAttribute("class"),D.innerHTML=""):D.remove(),xn()&&(null!==tr.previousBodyPadding&&(document.body.style.paddingRight="".concat(tr.previousBodyPadding,"px"),tr.previousBodyPadding=null),(()=>{if(Rt(document.body,ve.iosfix)){const I=parseInt(document.body.style.top,10);Vn(document.body,ve.iosfix),document.body.style.top="",document.body.scrollTop=-1*I}})(),Er()),function _e(){Vn([document.documentElement,document.body],[ve.shown,ve["height-auto"],ve["no-backdrop"],ve["toast-shown"]])}()}function Je(I){I=Cn(I);const D=P.swalPromiseResolve.get(this),$=Zt(this);this.isAwaitingPromise()?I.isDismissed||(kn(this),D(I)):$&&D(I)}const Zt=I=>{const D=ke();if(!D)return!1;const $=Wt.innerParams.get(I);if(!$||Rt(D,$.hideClass.popup))return!1;Vn(D,$.showClass.popup),rn(D,$.hideClass.popup);const me=xe();return Vn(me,$.showClass.backdrop),rn(me,$.hideClass.backdrop),Wn(I,D,$),!0};const kn=I=>{I.isAwaitingPromise()&&(Wt.awaitingPromise.delete(I),Wt.innerParams.get(I)||I._destroy())},Cn=I=>void 0===I?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},I),Wn=(I,D,$)=>{const me=xe(),mt=dn&&Cr(D);"function"==typeof $.willClose&&$.willClose(D),mt?Nr(I,D,me,$.returnFocus,$.didClose):Z(I,me,$.returnFocus,$.didClose)},Nr=(I,D,$,me,mt)=>{Ke.swalCloseEventFinishedCallback=Z.bind(null,I,$,me,mt),D.addEventListener(dn,function(en){en.target===D&&(Ke.swalCloseEventFinishedCallback(),delete Ke.swalCloseEventFinishedCallback)})},mr=(I,D)=>{setTimeout(()=>{"function"==typeof D&&D.bind(I.params)(),I._destroy()})};function fr(I,D,$){const me=Wt.domCache.get(I);D.forEach(mt=>{me[mt].disabled=$})}function Pi(I,D){if(!I)return!1;if("radio"===I.type){const me=I.parentNode.parentNode.querySelectorAll("input");for(let mt=0;mt<me.length;mt++)me[mt].disabled=D}else I.disabled=D}const at=I=>{const D={};return Object.keys(I).forEach($=>{De($)?D[$]=I[$]:V('Invalid parameter to update: "'.concat($,'". Updatable params are listed here: https://github.com/sweetalert2/sweetalert2/blob/master/src/utils/params.js\n\nIf you think this parameter should be updatable, request it here: https://github.com/sweetalert2/sweetalert2/issues/new?template=02_feature_request.md'))}),D};const Qt=I=>{Zr(I),delete I.params,delete Ke.keydownHandler,delete Ke.keydownTarget,delete Ke.currentInstance},Zr=I=>{I.isAwaitingPromise()?(ur(Wt,I),Wt.awaitingPromise.set(I,!0)):(ur(P,I),ur(Wt,I))},ur=(I,D)=>{for(const $ in I)I[$].delete(D)};var Ni=Object.freeze({hideLoading:Gn,disableLoading:Gn,getInput:function G(I){const D=Wt.innerParams.get(I||this),$=Wt.domCache.get(I||this);return $?wn($.popup,D.input):null},close:Je,isAwaitingPromise:function pt(){return!!Wt.awaitingPromise.get(this)},rejectPromise:function _n(I){const D=P.swalPromiseReject.get(this);kn(this),D&&D(I)},handleAwaitingPromise:kn,closePopup:Je,closeModal:Je,closeToast:Je,enableButtons:function qr(){fr(this,["confirmButton","denyButton","cancelButton"],!1)},disableButtons:function Yt(){fr(this,["confirmButton","denyButton","cancelButton"],!0)},enableInput:function ds(){return Pi(this.getInput(),!1)},disableInput:function zs(){return Pi(this.getInput(),!0)},showValidationMessage:function F(I){const D=Wt.domCache.get(this),$=Wt.innerParams.get(this);fn(D.validationMessage,I),D.validationMessage.className=ve["validation-message"],$.customClass&&$.customClass.validationMessage&&rn(D.validationMessage,$.customClass.validationMessage),Et(D.validationMessage);const me=this.getInput();me&&(me.setAttribute("aria-invalid",!0),me.setAttribute("aria-describedby",ve["validation-message"]),Yr(me),rn(me,ve.inputerror))},resetValidationMessage:function R(){const I=Wt.domCache.get(this);I.validationMessage&&Pt(I.validationMessage);const D=this.getInput();D&&(D.removeAttribute("aria-invalid"),D.removeAttribute("aria-describedby"),Vn(D,ve.inputerror))},getProgressSteps:function M(){return Wt.domCache.get(this).progressSteps},update:function z(I){const D=ke(),$=Wt.innerParams.get(this);if(!D||Rt(D,$.hideClass.popup))return V("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const me=at(I),mt=Object.assign({},$,me);Vt(this,mt),Wt.innerParams.set(this,mt),Object.defineProperties(this,{params:{value:Object.assign({},this.params,I),writable:!1,enumerable:!0}})},_destroy:function Ge(){const I=Wt.domCache.get(this),D=Wt.innerParams.get(this);D?(I.popup&&Ke.swalCloseEventFinishedCallback&&(Ke.swalCloseEventFinishedCallback(),delete Ke.swalCloseEventFinishedCallback),Ke.deferDisposalTimer&&(clearTimeout(Ke.deferDisposalTimer),delete Ke.deferDisposalTimer),"function"==typeof D.didDestroy&&D.didDestroy(),Qt(this)):Zr(this)}});const Qs=(I,D)=>{const $=Wt.innerParams.get(I);if(!$.input)return ue('The "input" parameter is needed to be set when using returnInputValueOn'.concat(p(D)));const me=((I,D)=>{const $=I.getInput();if(!$)return null;switch(D.input){case"checkbox":return Is($);case"radio":return Ys($);case"file":return vi($);default:return D.inputAutoTrim?$.value.trim():$.value}})(I,$);$.inputValidator?Pa(I,me,D):I.getInput().checkValidity()?"deny"===D?ma(I,me):Xr(I,me):(I.enableButtons(),I.showValidationMessage($.validationMessage))},Pa=(I,D,$)=>{const me=Wt.innerParams.get(I);I.disableInput(),Promise.resolve().then(()=>J(me.inputValidator(D,me.validationMessage))).then(en=>{I.enableButtons(),I.enableInput(),en?I.showValidationMessage(en):"deny"===$?ma(I,D):Xr(I,D)})},ma=(I,D)=>{const $=Wt.innerParams.get(I||void 0);$.showLoaderOnDeny&&jr(gn()),$.preDeny?(Wt.awaitingPromise.set(I||void 0,!0),Promise.resolve().then(()=>J($.preDeny(D,$.validationMessage))).then(mt=>{!1===mt?(I.hideLoading(),kn(I)):I.closePopup({isDenied:!0,value:void 0===mt?D:mt})}).catch(mt=>Ds(I||void 0,mt))):I.closePopup({isDenied:!0,value:D})},Ks=(I,D)=>{I.closePopup({isConfirmed:!0,value:D})},Ds=(I,D)=>{I.rejectPromise(D)},Xr=(I,D)=>{const $=Wt.innerParams.get(I||void 0);$.showLoaderOnConfirm&&jr(),$.preConfirm?(I.resetValidationMessage(),Wt.awaitingPromise.set(I||void 0,!0),Promise.resolve().then(()=>J($.preConfirm(D,$.validationMessage))).then(mt=>{zn(Ot())||!1===mt?(I.hideLoading(),kn(I)):Ks(I,void 0===mt?D:mt)}).catch(mt=>Ds(I||void 0,mt))):Ks(I,D)},ta=(I,D,$)=>{D.popup.onclick=()=>{const me=Wt.innerParams.get(I);me&&(rs(me)||me.timer||me.input)||$(sn.close)}},rs=I=>I.showConfirmButton||I.showDenyButton||I.showCancelButton||I.showCloseButton;let ki=!1;const Do=I=>{I.popup.onmousedown=()=>{I.container.onmouseup=function(D){I.container.onmouseup=void 0,D.target===I.container&&(ki=!0)}}},ri=I=>{I.container.onmousedown=()=>{I.popup.onmouseup=function(D){I.popup.onmouseup=void 0,(D.target===I.popup||I.popup.contains(D.target))&&(ki=!0)}}},Co=(I,D,$)=>{D.container.onclick=me=>{const mt=Wt.innerParams.get(I);ki?ki=!1:me.target===D.container&&ae(mt.allowOutsideClick)&&$(sn.backdrop)}},Js=()=>St()&&St().click(),Bo=(I,D,$)=>{const me=Ln();if(me.length)return(D+=$)===me.length?D=0:-1===D&&(D=me.length-1),me[D].focus();ke().focus()},Xs=["ArrowRight","ArrowDown"],Cs=["ArrowLeft","ArrowUp"],jo=(I,D,$)=>{const me=Wt.innerParams.get(I);!me||D.isComposing||229===D.keyCode||(me.stopKeydownPropagation&&D.stopPropagation(),"Enter"===D.key?Ki(I,D,me):"Tab"===D.key?na(D,me):[...Xs,...Cs].includes(D.key)?ka(D.key):"Escape"===D.key&&lo(D,me,$))},Ki=(I,D,$)=>{if(ae($.allowEnterKey)&&D.target&&I.getInput()&&D.target.outerHTML===I.getInput().outerHTML){if(["textarea","file"].includes($.input))return;Js(),D.preventDefault()}},na=(I,D)=>{const $=I.target,me=Ln();let mt=-1;for(let en=0;en<me.length;en++)if($===me[en]){mt=en;break}Bo(0,mt,I.shiftKey?-1:1),I.stopPropagation(),I.preventDefault()},ka=I=>{if(![St(),gn(),$t()].includes(document.activeElement))return;const mt=Xs.includes(I)?"nextElementSibling":"previousElementSibling";let en=document.activeElement;for(let ei=0;ei<bn().children.length;ei++){if(en=en[mt],!en)return;if(zn(en)&&en instanceof HTMLButtonElement)break}en instanceof HTMLButtonElement&&en.focus()},lo=(I,D,$)=>{ae(D.allowEscapeKey)&&(I.preventDefault(),$(sn.esc))},va=I=>I instanceof Element||(I=>"object"==typeof I&&I.jquery)(I);const to=()=>{if(Ke.timeout)return(()=>{const I=ln(),D=parseInt(window.getComputedStyle(I).width);I.style.removeProperty("transition"),I.style.width="100%";const me=D/parseInt(window.getComputedStyle(I).width)*100;I.style.removeProperty("transition"),I.style.width="".concat(me,"%")})(),Ke.timeout.stop()},iu=()=>{if(Ke.timeout){const I=Ke.timeout.start();return nr(I),I}};let ms=!1;const Ts={};const $o=I=>{for(let D=I.target;D&&D!==document;D=D.parentNode)for(const $ in Ts){const me=D.getAttribute($);if(me)return void Ts[$].fire({template:me})}};var cr=Object.freeze({isValidParameter:ot,isUpdatableParameter:De,isDeprecatedParameter:Fe,argsToParams:I=>{const D={};return"object"!=typeof I[0]||va(I[0])?["title","html","icon"].forEach(($,me)=>{const mt=I[me];"string"==typeof mt||va(mt)?D[$]=mt:void 0!==mt&&ue("Unexpected type of ".concat($,'! Expected "string" or "Element", got ').concat(typeof mt))}):Object.assign(D,I[0]),D},isVisible:()=>zn(ke()),clickConfirm:Js,clickDeny:()=>gn()&&gn().click(),clickCancel:()=>$t()&&$t().click(),getContainer:xe,getPopup:ke,getTitle:Qe,getHtmlContainer:xt,getImage:Lt,getIcon:ht,getInputLabel:()=>ze(ve["input-label"]),getCloseButton:er,getActions:bn,getConfirmButton:St,getDenyButton:gn,getCancelButton:$t,getLoader:yn,getFooter:on,getTimerProgressBar:ln,getFocusableElements:Ln,getValidationMessage:Ot,isLoading:()=>ke().hasAttribute("data-loading"),fire:function Ns(){const I=this;for(var D=arguments.length,$=new Array(D),me=0;me<D;me++)$[me]=arguments[me];return new I(...$)},mixin:function si(I){return class D extends(this){_main(me,mt){return super._main(me,Object.assign({},I,mt))}}},showLoading:jr,enableLoading:jr,getTimerLeft:()=>Ke.timeout&&Ke.timeout.getTimerLeft(),stopTimer:to,resumeTimer:iu,toggleTimer:()=>{const I=Ke.timeout;return I&&(I.running?to():iu())},increaseTimer:I=>{if(Ke.timeout){const D=Ke.timeout.increase(I);return nr(D,!0),D}},isTimerRunning:()=>Ke.timeout&&Ke.timeout.isRunning(),bindClickHandler:function To(){Ts[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data-swal-template"]=this,ms||(document.body.addEventListener("click",$o),ms=!0)}});let Ho;class Ci{constructor(){if("undefined"==typeof window)return;Ho=this;for(var D=arguments.length,$=new Array(D),me=0;me<D;me++)$[me]=arguments[me];const mt=Object.freeze(this.constructor.argsToParams($));Object.defineProperties(this,{params:{value:mt,writable:!1,enumerable:!0,configurable:!0}});const en=this._main(this.params);Wt.promise.set(this,en)}_main(D){let $=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(I=>{!I.backdrop&&I.allowOutsideClick&&V('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const D in I)oe(D),I.toast&&nt(D),Ue(D)})(Object.assign({},$,D)),Ke.currentInstance&&(Ke.currentInstance._destroy(),xn()&&Er()),Ke.currentInstance=this;const me=Go(D,$);fi(me),Object.freeze(me),Ke.timeout&&(Ke.timeout.stop(),delete Ke.timeout),clearTimeout(Ke.restoreFocusTimeout);const mt=ys(this);return Vt(this,me),Wt.innerParams.set(this,me),qi(this,mt,me)}then(D){return Wt.promise.get(this).then(D)}finally(D){return Wt.promise.get(this).finally(D)}}const qi=(I,D,$)=>new Promise((me,mt)=>{const en=ei=>{I.closePopup({isDismissed:!0,dismiss:ei})};P.swalPromiseResolve.set(I,me),P.swalPromiseReject.set(I,mt),D.confirmButton.onclick=()=>(I=>{const D=Wt.innerParams.get(I);I.disableButtons(),D.input?Qs(I,"confirm"):Xr(I,!0)})(I),D.denyButton.onclick=()=>(I=>{const D=Wt.innerParams.get(I);I.disableButtons(),D.returnInputValueOnDeny?Qs(I,"deny"):ma(I,!1)})(I),D.cancelButton.onclick=()=>((I,D)=>{I.disableButtons(),D(sn.cancel)})(I,en),D.closeButton.onclick=()=>en(sn.close),((I,D,$)=>{Wt.innerParams.get(I).toast?ta(I,D,$):(Do(D),ri(D),Co(I,D,$))})(I,D,en),((I,D,$,me)=>{D.keydownTarget&&D.keydownHandlerAdded&&(D.keydownTarget.removeEventListener("keydown",D.keydownHandler,{capture:D.keydownListenerCapture}),D.keydownHandlerAdded=!1),$.toast||(D.keydownHandler=mt=>jo(I,mt,me),D.keydownTarget=$.keydownListenerCapture?window:ke(),D.keydownListenerCapture=$.keydownListenerCapture,D.keydownTarget.addEventListener("keydown",D.keydownHandler,{capture:D.keydownListenerCapture}),D.keydownHandlerAdded=!0)})(I,Ke,$,en),((I,D)=>{"select"===D.input||"radio"===D.input?wi(I,D):["text","email","number","tel","textarea"].includes(D.input)&&(ne(D.inputValue)||X(D.inputValue))&&(jr(St()),ns(I,D))})(I,$),Gs($),fo(Ke,$,en),Ao(D,$),setTimeout(()=>{D.container.scrollTop=0})}),Go=(I,D)=>{const $=(I=>{const D="string"==typeof I.template?document.querySelector(I.template):I.template;if(!D)return{};const $=D.content;return Dt($),Object.assign(Zs($),Es($),Re($),be($),Ye($),ft($,ji))})(I),me=Object.assign({},re,D,$,I);return me.showClass=Object.assign({},re.showClass,me.showClass),me.hideClass=Object.assign({},re.hideClass,me.hideClass),me},ys=I=>{const D={popup:ke(),container:xe(),actions:bn(),confirmButton:St(),denyButton:gn(),cancelButton:$t(),loader:yn(),closeButton:er(),validationMessage:Ot(),progressSteps:In()};return Wt.domCache.set(I,D),D},fo=(I,D,$)=>{const me=ln();Pt(me),D.timer&&(I.timeout=new $i(()=>{$("timer"),delete I.timeout},D.timer),D.timerProgressBar&&(Et(me),nn(me,D,"timerProgressBar"),setTimeout(()=>{I.timeout&&I.timeout.running&&nr(D.timer)})))},Ao=(I,D)=>{if(!D.toast){if(!ae(D.allowEnterKey))return fs();Wo(I,D)||Bo(0,-1,1)}},Wo=(I,D)=>D.focusDeny&&zn(I.denyButton)?(I.denyButton.focus(),!0):D.focusCancel&&zn(I.cancelButton)?(I.cancelButton.focus(),!0):!(!D.focusConfirm||!zn(I.confirmButton)||(I.confirmButton.focus(),0)),fs=()=>{document.activeElement instanceof HTMLElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};Object.assign(Ci.prototype,Ni),Object.assign(Ci,cr),Object.keys(Ni).forEach(I=>{Ci[I]=function(){if(Ho)return Ho[I](...arguments)}}),Ci.DismissReason=sn,Ci.version="11.4.5";const ia=Ci;return ia.default=ia,ia}(),void 0!==this&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),"undefined"!=typeof document&&function(te,T){var p=te.createElement("style");if(te.getElementsByTagName("head")[0].appendChild(p),p.styleSheet)p.styleSheet.disabled||(p.styleSheet.cssText=T);else try{p.innerHTML=T}catch(L){p.innerText=T}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4!important;grid-row:1/4!important;grid-template-columns:1fr 99fr 1fr;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:700}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.8em;left:-.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-toast-animate-success-line-tip .75s;animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-toast-animate-success-line-long .75s;animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{-webkit-animation:swal2-toast-show .5s;animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{-webkit-animation:swal2-toast-hide .1s forwards;animation:swal2-toast-hide .1s forwards}.swal2-container{display:grid;position:fixed;z-index:1060;top:0;right:0;bottom:0;left:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(-webkit-min-content,auto) minmax(-webkit-min-content,auto) minmax(-webkit-min-content,auto);grid-template-rows:minmax(min-content,auto) minmax(min-content,auto) minmax(min-content,auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}.swal2-container.swal2-backdrop-show,.swal2-container.swal2-noanimation{background:rgba(0,0,0,.4)}.swal2-container.swal2-backdrop-hide{background:0 0!important}.swal2-container.swal2-bottom-start,.swal2-container.swal2-center-start,.swal2-container.swal2-top-start{grid-template-columns:minmax(0,1fr) auto auto}.swal2-container.swal2-bottom,.swal2-container.swal2-center,.swal2-container.swal2-top{grid-template-columns:auto minmax(0,1fr) auto}.swal2-container.swal2-bottom-end,.swal2-container.swal2-center-end,.swal2-container.swal2-top-end{grid-template-columns:auto auto minmax(0,1fr)}.swal2-container.swal2-top-start>.swal2-popup{align-self:start}.swal2-container.swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}.swal2-container.swal2-top-end>.swal2-popup,.swal2-container.swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}.swal2-container.swal2-center-left>.swal2-popup,.swal2-container.swal2-center-start>.swal2-popup{grid-row:2;align-self:center}.swal2-container.swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}.swal2-container.swal2-center-end>.swal2-popup,.swal2-container.swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}.swal2-container.swal2-bottom-left>.swal2-popup,.swal2-container.swal2-bottom-start>.swal2-popup{grid-column:1;grid-row:3;align-self:end}.swal2-container.swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}.swal2-container.swal2-bottom-end>.swal2-popup,.swal2-container.swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}.swal2-container.swal2-grow-fullscreen>.swal2-popup,.swal2-container.swal2-grow-row>.swal2-popup{grid-column:1/4;width:100%}.swal2-container.swal2-grow-column>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}.swal2-container.swal2-no-transition{transition:none!important}.swal2-popup{display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0,100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}.swal2-popup:focus{outline:0}.swal2-popup.swal2-loading{overflow-y:hidden}.swal2-title{position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}.swal2-actions{display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}.swal2-actions:not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}.swal2-actions:not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0,0,0,.1),rgba(0,0,0,.1))}.swal2-actions:not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0,0,0,.2),rgba(0,0,0,.2))}.swal2-loader{display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;-webkit-animation:swal2-rotate-loading 1.5s linear 0s infinite normal;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 transparent #2778c4 transparent}.swal2-styled{margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px transparent;font-weight:500}.swal2-styled:not([disabled]){cursor:pointer}.swal2-styled.swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}.swal2-styled.swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}.swal2-styled.swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}.swal2-styled.swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}.swal2-styled.swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}.swal2-styled.swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}.swal2-styled.swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}.swal2-styled:focus{outline:0}.swal2-styled::-moz-focus-inner{border:0}.swal2-footer{justify-content:center;margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em}.swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto!important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}.swal2-timer-progress-bar{width:100%;height:.25em;background:rgba(0,0,0,.2)}.swal2-image{max-width:100%;margin:2em auto 1em}.swal2-close{z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:0 0;color:#ccc;font-family:serif;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}.swal2-close:hover{transform:none;background:0 0;color:#f27474}.swal2-close:focus{outline:0;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}.swal2-close::-moz-focus-inner{border:0}.swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:400;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}.swal2-checkbox,.swal2-file,.swal2-input,.swal2-radio,.swal2-select,.swal2-textarea{margin:1em 2em 3px}.swal2-file,.swal2-input,.swal2-textarea{box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:inherit;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px transparent;color:inherit;font-size:1.125em}.swal2-file.swal2-inputerror,.swal2-input.swal2-inputerror,.swal2-textarea.swal2-inputerror{border-color:#f27474!important;box-shadow:0 0 2px #f27474!important}.swal2-file:focus,.swal2-input:focus,.swal2-textarea:focus{border:1px solid #b4dbed;outline:0;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}.swal2-file::-moz-placeholder,.swal2-input::-moz-placeholder,.swal2-textarea::-moz-placeholder{color:#ccc}.swal2-file:-ms-input-placeholder,.swal2-input:-ms-input-placeholder,.swal2-textarea:-ms-input-placeholder{color:#ccc}.swal2-file::placeholder,.swal2-input::placeholder,.swal2-textarea::placeholder{color:#ccc}.swal2-range{margin:1em 2em 3px;background:#fff}.swal2-range input{width:80%}.swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}.swal2-range input,.swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}.swal2-input{height:2.625em;padding:0 .75em}.swal2-file{width:75%;margin-right:auto;margin-left:auto;background:inherit;font-size:1.125em}.swal2-textarea{height:6.75em;padding:.75em}.swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:inherit;color:inherit;font-size:1.125em}.swal2-checkbox,.swal2-radio{align-items:center;justify-content:center;background:#fff;color:inherit}.swal2-checkbox label,.swal2-radio label{margin:0 .6em;font-size:1.125em}.swal2-checkbox input,.swal2-radio input{flex-shrink:0;margin:0 .4em}.swal2-input-label{display:flex;justify-content:center;margin:1em auto 0}.swal2-validation-message{align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}.swal2-validation-message::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}.swal2-icon{position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:.25em solid transparent;border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}.swal2-icon.swal2-error{border-color:#f27474;color:#f27474}.swal2-icon.swal2-error .swal2-x-mark{position:relative;flex-grow:1}.swal2-icon.swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}.swal2-icon.swal2-error.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-error.swal2-icon-show .swal2-x-mark{-webkit-animation:swal2-animate-error-x-mark .5s;animation:swal2-animate-error-x-mark .5s}.swal2-icon.swal2-warning{border-color:#facea8;color:#f8bb86}.swal2-icon.swal2-warning.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-warning.swal2-icon-show .swal2-icon-content{-webkit-animation:swal2-animate-i-mark .5s;animation:swal2-animate-i-mark .5s}.swal2-icon.swal2-info{border-color:#9de0f6;color:#3fc3ee}.swal2-icon.swal2-info.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-info.swal2-icon-show .swal2-icon-content{-webkit-animation:swal2-animate-i-mark .8s;animation:swal2-animate-i-mark .8s}.swal2-icon.swal2-question{border-color:#c9dae1;color:#87adbd}.swal2-icon.swal2-question.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-question.swal2-icon-show .swal2-icon-content{-webkit-animation:swal2-animate-question-mark .8s;animation:swal2-animate-question-mark .8s}.swal2-icon.swal2-success{border-color:#a5dc86;color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}.swal2-icon.swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-.25em;left:-.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}.swal2-icon.swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}.swal2-icon.swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}.swal2-icon.swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-animate-success-line-tip .75s;animation:swal2-animate-success-line-tip .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-animate-success-line-long .75s;animation:swal2-animate-success-line-long .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-circular-line-right{-webkit-animation:swal2-rotate-success-circular-line 4.25s ease-in;animation:swal2-rotate-success-circular-line 4.25s ease-in}.swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:inherit;font-weight:600}.swal2-progress-steps li{display:inline-block;position:relative}.swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}.swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}[class^=swal2]{-webkit-tap-highlight-color:transparent}.swal2-show{-webkit-animation:swal2-show .3s;animation:swal2-show .3s}.swal2-hide{-webkit-animation:swal2-hide .15s forwards;animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@-webkit-keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@-webkit-keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@-webkit-keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@-webkit-keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@-webkit-keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@-webkit-keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@-webkit-keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@-webkit-keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@-webkit-keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@-webkit-keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@-webkit-keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@-webkit-keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@-webkit-keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@-webkit-keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto!important}body.swal2-no-backdrop .swal2-container{background-color:transparent!important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll!important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static!important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:transparent;pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{top:0;right:auto;bottom:auto;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{top:0;right:0;bottom:auto;left:auto}body.swal2-toast-shown .swal2-container.swal2-top-left,body.swal2-toast-shown .swal2-container.swal2-top-start{top:0;right:auto;bottom:auto;left:0}body.swal2-toast-shown .swal2-container.swal2-center-left,body.swal2-toast-shown .swal2-container.swal2-center-start{top:50%;right:auto;bottom:auto;left:0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{top:50%;right:auto;bottom:auto;left:50%;transform:translate(-50%,-50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{top:50%;right:0;bottom:auto;left:auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-left,body.swal2-toast-shown .swal2-container.swal2-bottom-start{top:auto;right:auto;bottom:0;left:0}body.swal2-toast-shown .swal2-container.swal2-bottom{top:auto;right:auto;bottom:0;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{top:auto;right:0;bottom:0;left:auto}')},655:(Me,te,T)=>{"use strict";function ue(xe,Ae){var ze={};for(var ke in xe)Object.prototype.hasOwnProperty.call(xe,ke)&&Ae.indexOf(ke)<0&&(ze[ke]=xe[ke]);if(null!=xe&&"function"==typeof Object.getOwnPropertySymbols){var ht=0;for(ke=Object.getOwnPropertySymbols(xe);ht<ke.length;ht++)Ae.indexOf(ke[ht])<0&&Object.prototype.propertyIsEnumerable.call(xe,ke[ht])&&(ze[ke[ht]]=xe[ke[ht]])}return ze}function ae(xe,Ae,ze,ke){return new(ze||(ze=Promise))(function(Qe,xt){function Lt(St){try{Ot(ke.next(St))}catch(gn){xt(gn)}}function In(St){try{Ot(ke.throw(St))}catch(gn){xt(gn)}}function Ot(St){St.done?Qe(St.value):function ht(Qe){return Qe instanceof ze?Qe:new ze(function(xt){xt(Qe)})}(St.value).then(Lt,In)}Ot((ke=ke.apply(xe,Ae||[])).next())})}function De(xe){return this instanceof De?(this.v=xe,this):new De(xe)}function Fe(xe,Ae,ze){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ht,ke=ze.apply(xe,Ae||[]),Qe=[];return ht={},xt("next"),xt("throw"),xt("return"),ht[Symbol.asyncIterator]=function(){return this},ht;function xt(Bt){ke[Bt]&&(ht[Bt]=function(yn){return new Promise(function($t,bn){Qe.push([Bt,yn,$t,bn])>1||Lt(Bt,yn)})})}function Lt(Bt,yn){try{!function In(Bt){Bt.value instanceof De?Promise.resolve(Bt.value.v).then(Ot,St):gn(Qe[0][2],Bt)}(ke[Bt](yn))}catch($t){gn(Qe[0][3],$t)}}function Ot(Bt){Lt("next",Bt)}function St(Bt){Lt("throw",Bt)}function gn(Bt,yn){Bt(yn),Qe.shift(),Qe.length&&Lt(Qe[0][0],Qe[0][1])}}function nt(xe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ze,Ae=xe[Symbol.asyncIterator];return Ae?Ae.call(xe):(xe=function re(xe){var Ae="function"==typeof Symbol&&Symbol.iterator,ze=Ae&&xe[Ae],ke=0;if(ze)return ze.call(xe);if(xe&&"number"==typeof xe.length)return{next:function(){return xe&&ke>=xe.length&&(xe=void 0),{value:xe&&xe[ke++],done:!xe}}};throw new TypeError(Ae?"Object is not iterable.":"Symbol.iterator is not defined.")}(xe),ze={},ke("next"),ke("throw"),ke("return"),ze[Symbol.asyncIterator]=function(){return this},ze);function ke(Qe){ze[Qe]=xe[Qe]&&function(xt){return new Promise(function(Lt,In){!function ht(Qe,xt,Lt,In){Promise.resolve(In).then(function(Ot){Qe({value:Ot,done:Lt})},xt)}(Lt,In,(xt=xe[Qe](xt)).done,xt.value)})}}}T.d(te,{_T:()=>ue,mG:()=>ae,qq:()=>De,FC:()=>Fe,KL:()=>nt})},9808:(Me,te,T)=>{"use strict";T.d(te,{mr:()=>oe,ez:()=>bs,H9:()=>Di,K0:()=>ye,Do:()=>Ue,V_:()=>J,Ye:()=>Ce,S$:()=>De,sg:()=>Le,O5:()=>bt,b0:()=>nt,lw:()=>ae,EM:()=>wi,JF:()=>Gn,PM:()=>$r,w_:()=>le,bD:()=>Oi,q:()=>V,Mx:()=>ni,HT:()=>ee});var p=T(5e3);let L=null;function V(){return L}function ee(N){L||(L=N)}class le{}const ye=new p.OlP("DocumentToken");let ae=(()=>{class N{historyGo(P){throw new Error("Not implemented")}}return N.\u0275fac=function(P){return new(P||N)},N.\u0275prov=p.Yz7({token:N,factory:function(){return function ne(){return(0,p.LFG)(X)}()},providedIn:"platform"}),N})();const J=new p.OlP("Location Initialized");let X=(()=>{class N extends ae{constructor(P){super(),this._doc=P,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return V().getBaseHref(this._doc)}onPopState(P){const Z=V().getGlobalEventTarget(this._doc,"window");return Z.addEventListener("popstate",P,!1),()=>Z.removeEventListener("popstate",P)}onHashChange(P){const Z=V().getGlobalEventTarget(this._doc,"window");return Z.addEventListener("hashchange",P,!1),()=>Z.removeEventListener("hashchange",P)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(P){this.location.pathname=P}pushState(P,Z,_e){re()?this._history.pushState(P,Z,_e):this.location.hash=_e}replaceState(P,Z,_e){re()?this._history.replaceState(P,Z,_e):this.location.hash=_e}forward(){this._history.forward()}back(){this._history.back()}historyGo(P=0){this._history.go(P)}getState(){return this._history.state}}return N.\u0275fac=function(P){return new(P||N)(p.LFG(ye))},N.\u0275prov=p.Yz7({token:N,factory:function(){return function je(){return new X((0,p.LFG)(ye))}()},providedIn:"platform"}),N})();function re(){return!!window.history.pushState}function Oe(N,G){if(0==N.length)return G;if(0==G.length)return N;let P=0;return N.endsWith("/")&&P++,G.startsWith("/")&&P++,2==P?N+G.substring(1):1==P?N+G:N+"/"+G}function $e(N){const G=N.match(/#|\?|$/),P=G&&G.index||N.length;return N.slice(0,P-("/"===N[P-1]?1:0))+N.slice(P)}function ot(N){return N&&"?"!==N[0]?"?"+N:N}let De=(()=>{class N{historyGo(P){throw new Error("Not implemented")}}return N.\u0275fac=function(P){return new(P||N)},N.\u0275prov=p.Yz7({token:N,factory:function(){return function Fe(N){const G=(0,p.LFG)(ye).location;return new nt((0,p.LFG)(ae),G&&G.origin||"")}()},providedIn:"root"}),N})();const oe=new p.OlP("appBaseHref");let nt=(()=>{class N extends De{constructor(P,Z){if(super(),this._platformLocation=P,this._removeListenerFns=[],null==Z&&(Z=this._platformLocation.getBaseHrefFromDOM()),null==Z)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=Z}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(P){this._removeListenerFns.push(this._platformLocation.onPopState(P),this._platformLocation.onHashChange(P))}getBaseHref(){return this._baseHref}prepareExternalUrl(P){return Oe(this._baseHref,P)}path(P=!1){const Z=this._platformLocation.pathname+ot(this._platformLocation.search),_e=this._platformLocation.hash;return _e&&P?`${Z}${_e}`:Z}pushState(P,Z,_e,Je){const pt=this.prepareExternalUrl(_e+ot(Je));this._platformLocation.pushState(P,Z,pt)}replaceState(P,Z,_e,Je){const pt=this.prepareExternalUrl(_e+ot(Je));this._platformLocation.replaceState(P,Z,pt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(P=0){var Z,_e;null===(_e=(Z=this._platformLocation).historyGo)||void 0===_e||_e.call(Z,P)}}return N.\u0275fac=function(P){return new(P||N)(p.LFG(ae),p.LFG(oe,8))},N.\u0275prov=p.Yz7({token:N,factory:N.\u0275fac}),N})(),Ue=(()=>{class N extends De{constructor(P,Z){super(),this._platformLocation=P,this._baseHref="",this._removeListenerFns=[],null!=Z&&(this._baseHref=Z)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(P){this._removeListenerFns.push(this._platformLocation.onPopState(P),this._platformLocation.onHashChange(P))}getBaseHref(){return this._baseHref}path(P=!1){let Z=this._platformLocation.hash;return null==Z&&(Z="#"),Z.length>0?Z.substring(1):Z}prepareExternalUrl(P){const Z=Oe(this._baseHref,P);return Z.length>0?"#"+Z:Z}pushState(P,Z,_e,Je){let pt=this.prepareExternalUrl(_e+ot(Je));0==pt.length&&(pt=this._platformLocation.pathname),this._platformLocation.pushState(P,Z,pt)}replaceState(P,Z,_e,Je){let pt=this.prepareExternalUrl(_e+ot(Je));0==pt.length&&(pt=this._platformLocation.pathname),this._platformLocation.replaceState(P,Z,pt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(P=0){var Z,_e;null===(_e=(Z=this._platformLocation).historyGo)||void 0===_e||_e.call(Z,P)}}return N.\u0275fac=function(P){return new(P||N)(p.LFG(ae),p.LFG(oe,8))},N.\u0275prov=p.Yz7({token:N,factory:N.\u0275fac}),N})(),Ce=(()=>{class N{constructor(P,Z){this._subject=new p.vpe,this._urlChangeListeners=[],this._platformStrategy=P;const _e=this._platformStrategy.getBaseHref();this._platformLocation=Z,this._baseHref=$e(ve(_e)),this._platformStrategy.onPopState(Je=>{this._subject.emit({url:this.path(!0),pop:!0,state:Je.state,type:Je.type})})}path(P=!1){return this.normalize(this._platformStrategy.path(P))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(P,Z=""){return this.path()==this.normalize(P+ot(Z))}normalize(P){return N.stripTrailingSlash(function yt(N,G){return N&&G.startsWith(N)?G.substring(N.length):G}(this._baseHref,ve(P)))}prepareExternalUrl(P){return P&&"/"!==P[0]&&(P="/"+P),this._platformStrategy.prepareExternalUrl(P)}go(P,Z="",_e=null){this._platformStrategy.pushState(_e,"",P,Z),this._notifyUrlChangeListeners(this.prepareExternalUrl(P+ot(Z)),_e)}replaceState(P,Z="",_e=null){this._platformStrategy.replaceState(_e,"",P,Z),this._notifyUrlChangeListeners(this.prepareExternalUrl(P+ot(Z)),_e)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(P=0){var Z,_e;null===(_e=(Z=this._platformStrategy).historyGo)||void 0===_e||_e.call(Z,P)}onUrlChange(P){this._urlChangeListeners.push(P),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(Z=>{this._notifyUrlChangeListeners(Z.url,Z.state)}))}_notifyUrlChangeListeners(P="",Z){this._urlChangeListeners.forEach(_e=>_e(P,Z))}subscribe(P,Z,_e){return this._subject.subscribe({next:P,error:Z,complete:_e})}}return N.normalizeQueryParams=ot,N.joinWithSlash=Oe,N.stripTrailingSlash=$e,N.\u0275fac=function(P){return new(P||N)(p.LFG(De),p.LFG(ae))},N.\u0275prov=p.Yz7({token:N,factory:function(){return function Ve(){return new Ce((0,p.LFG)(De),(0,p.LFG)(ae))}()},providedIn:"root"}),N})();function ve(N){return N.replace(/\/index.html$/,"")}const we={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,"\u0440.",2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RUR:[void 0,"\u0440."],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var xe=(()=>((xe=xe||{})[xe.Decimal=0]="Decimal",xe[xe.Percent=1]="Percent",xe[xe.Currency=2]="Currency",xe[xe.Scientific=3]="Scientific",xe))(),Qe=(()=>((Qe=Qe||{})[Qe.Decimal=0]="Decimal",Qe[Qe.Group=1]="Group",Qe[Qe.List=2]="List",Qe[Qe.PercentSign=3]="PercentSign",Qe[Qe.PlusSign=4]="PlusSign",Qe[Qe.MinusSign=5]="MinusSign",Qe[Qe.Exponential=6]="Exponential",Qe[Qe.SuperscriptingExponent=7]="SuperscriptingExponent",Qe[Qe.PerMille=8]="PerMille",Qe[Qe.Infinity=9]="Infinity",Qe[Qe.NaN=10]="NaN",Qe[Qe.TimeSeparator=11]="TimeSeparator",Qe[Qe.CurrencyDecimal=12]="CurrencyDecimal",Qe[Qe.CurrencyGroup=13]="CurrencyGroup",Qe))();function ln(N,G){const P=(0,p.cg1)(N),Z=P[p.wAp.NumberSymbols][G];if(void 0===Z){if(G===Qe.CurrencyDecimal)return P[p.wAp.NumberSymbols][Qe.Decimal];if(G===Qe.CurrencyGroup)return P[p.wAp.NumberSymbols][Qe.Group]}return Z}const yr=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function On(N,G,P,Z,_e){const pt=function Bn(N,G="-"){const P={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},Z=N.split(";"),_e=Z[0],Je=Z[1],pt=-1!==_e.indexOf(".")?_e.split("."):[_e.substring(0,_e.lastIndexOf("0")+1),_e.substring(_e.lastIndexOf("0")+1)],Zt=pt[0],_n=pt[1]||"";P.posPre=Zt.substr(0,Zt.indexOf("#"));for(let Cn=0;Cn<_n.length;Cn++){const Wn=_n.charAt(Cn);"0"===Wn?P.minFrac=P.maxFrac=Cn+1:"#"===Wn?P.maxFrac=Cn+1:P.posSuf+=Wn}const kn=Zt.split(",");if(P.gSize=kn[1]?kn[1].length:0,P.lgSize=kn[2]||kn[1]?(kn[2]||kn[1]).length:0,Je){const Cn=_e.length-P.posPre.length-P.posSuf.length,Wn=Je.indexOf("#");P.negPre=Je.substr(0,Wn).replace(/'/g,""),P.negSuf=Je.substr(Wn+Cn).replace(/'/g,"")}else P.negPre=G+P.posPre,P.negSuf=P.posSuf;return P}(function er(N,G){return(0,p.cg1)(N)[p.wAp.NumberFormats][G]}(G,xe.Currency),ln(G,Qe.MinusSign));return pt.minFrac=function rn(N){let G;const P=we[N];return P&&(G=P[2]),"number"==typeof G?G:2}(Z),pt.maxFrac=pt.minFrac,function Sr(N,G,P,Z,_e,Je,pt=!1){let Zt="",_n=!1;if(isFinite(N)){let kn=function zr(N){let Z,_e,Je,pt,Zt,G=Math.abs(N)+"",P=0;for((_e=G.indexOf("."))>-1&&(G=G.replace(".","")),(Je=G.search(/e/i))>0?(_e<0&&(_e=Je),_e+=+G.slice(Je+1),G=G.substring(0,Je)):_e<0&&(_e=G.length),Je=0;"0"===G.charAt(Je);Je++);if(Je===(Zt=G.length))Z=[0],_e=1;else{for(Zt--;"0"===G.charAt(Zt);)Zt--;for(_e-=Je,Z=[],pt=0;Je<=Zt;Je++,pt++)Z[pt]=Number(G.charAt(Je))}return _e>22&&(Z=Z.splice(0,21),P=_e-1,_e=1),{digits:Z,exponent:P,integerLen:_e}}(N);pt&&(kn=function Tr(N){if(0===N.digits[0])return N;const G=N.digits.length-N.integerLen;return N.exponent?N.exponent+=2:(0===G?N.digits.push(0,0):1===G&&N.digits.push(0),N.integerLen+=2),N}(kn));let Cn=G.minInt,Wn=G.minFrac,Nr=G.maxFrac;if(Je){const ds=Je.match(yr);if(null===ds)throw new Error(`${Je} is not a valid digit info`);const zs=ds[1],F=ds[3],R=ds[5];null!=zs&&(Cn=Qr(zs)),null!=F&&(Wn=Qr(F)),null!=R?Nr=Qr(R):null!=F&&Wn>Nr&&(Nr=Wn)}!function qn(N,G,P){if(G>P)throw new Error(`The minimum number of digits after fraction (${G}) is higher than the maximum (${P}).`);let Z=N.digits,_e=Z.length-N.integerLen;const Je=Math.min(Math.max(G,_e),P);let pt=Je+N.integerLen,Zt=Z[pt];if(pt>0){Z.splice(Math.max(N.integerLen,pt));for(let Wn=pt;Wn<Z.length;Wn++)Z[Wn]=0}else{_e=Math.max(0,_e),N.integerLen=1,Z.length=Math.max(1,pt=Je+1),Z[0]=0;for(let Wn=1;Wn<pt;Wn++)Z[Wn]=0}if(Zt>=5)if(pt-1<0){for(let Wn=0;Wn>pt;Wn--)Z.unshift(0),N.integerLen++;Z.unshift(1),N.integerLen++}else Z[pt-1]++;for(;_e<Math.max(0,Je);_e++)Z.push(0);let _n=0!==Je;const kn=G+N.integerLen,Cn=Z.reduceRight(function(Wn,Nr,mr,fr){return fr[mr]=(Nr+=Wn)<10?Nr:Nr-10,_n&&(0===fr[mr]&&mr>=kn?fr.pop():_n=!1),Nr>=10?1:0},0);Cn&&(Z.unshift(Cn),N.integerLen++)}(kn,Wn,Nr);let mr=kn.digits,fr=kn.integerLen;const Pi=kn.exponent;let qr=[];for(_n=mr.every(ds=>!ds);fr<Cn;fr++)mr.unshift(0);for(;fr<0;fr++)mr.unshift(0);fr>0?qr=mr.splice(fr,mr.length):(qr=mr,mr=[0]);const Yt=[];for(mr.length>=G.lgSize&&Yt.unshift(mr.splice(-G.lgSize,mr.length).join(""));mr.length>G.gSize;)Yt.unshift(mr.splice(-G.gSize,mr.length).join(""));mr.length&&Yt.unshift(mr.join("")),Zt=Yt.join(ln(P,Z)),qr.length&&(Zt+=ln(P,_e)+qr.join("")),Pi&&(Zt+=ln(P,Qe.Exponential)+"+"+Pi)}else Zt=ln(P,Qe.Infinity);return Zt=N<0&&!_n?G.negPre+Zt+G.negSuf:G.posPre+Zt+G.posSuf,Zt}(N,pt,G,Qe.CurrencyGroup,Qe.CurrencyDecimal,_e).replace("\xa4",P).replace("\xa4","").trim()}function Qr(N){const G=parseInt(N);if(isNaN(G))throw new Error("Invalid integer literal when parsing "+N);return G}function ni(N,G){G=encodeURIComponent(G);for(const P of N.split(";")){const Z=P.indexOf("="),[_e,Je]=-1==Z?[P,""]:[P.slice(0,Z),P.slice(Z+1)];if(_e.trim()===G)return decodeURIComponent(Je)}return null}class rt{constructor(G,P,Z,_e){this.$implicit=G,this.ngForOf=P,this.index=Z,this.count=_e}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Le=(()=>{class N{constructor(P,Z,_e){this._viewContainer=P,this._template=Z,this._differs=_e,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(P){this._ngForOf=P,this._ngForOfDirty=!0}set ngForTrackBy(P){this._trackByFn=P}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(P){P&&(this._template=P)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const P=this._ngForOf;!this._differ&&P&&(this._differ=this._differs.find(P).create(this.ngForTrackBy))}if(this._differ){const P=this._differ.diff(this._ngForOf);P&&this._applyChanges(P)}}_applyChanges(P){const Z=this._viewContainer;P.forEachOperation((_e,Je,pt)=>{if(null==_e.previousIndex)Z.createEmbeddedView(this._template,new rt(_e.item,this._ngForOf,-1,-1),null===pt?void 0:pt);else if(null==pt)Z.remove(null===Je?void 0:Je);else if(null!==Je){const Zt=Z.get(Je);Z.move(Zt,pt),qe(Zt,_e)}});for(let _e=0,Je=Z.length;_e<Je;_e++){const Zt=Z.get(_e).context;Zt.index=_e,Zt.count=Je,Zt.ngForOf=this._ngForOf}P.forEachIdentityChange(_e=>{qe(Z.get(_e.currentIndex),_e)})}static ngTemplateContextGuard(P,Z){return!0}}return N.\u0275fac=function(P){return new(P||N)(p.Y36(p.s_b),p.Y36(p.Rgc),p.Y36(p.ZZ4))},N.\u0275dir=p.lG2({type:N,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),N})();function qe(N,G){N.context.$implicit=G.item}let bt=(()=>{class N{constructor(P,Z){this._viewContainer=P,this._context=new Ut,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=Z}set ngIf(P){this._context.$implicit=this._context.ngIf=P,this._updateView()}set ngIfThen(P){dr("ngIfThen",P),this._thenTemplateRef=P,this._thenViewRef=null,this._updateView()}set ngIfElse(P){dr("ngIfElse",P),this._elseTemplateRef=P,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(P,Z){return!0}}return N.\u0275fac=function(P){return new(P||N)(p.Y36(p.s_b),p.Y36(p.Rgc))},N.\u0275dir=p.lG2({type:N,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),N})();class Ut{constructor(){this.$implicit=null,this.ngIf=null}}function dr(N,G){if(G&&!G.createEmbeddedView)throw new Error(`${N} must be a TemplateRef, but received '${(0,p.AaK)(G)}'.`)}let Di=(()=>{class N{constructor(P,Z="USD"){this._locale=P,this._defaultCurrencyCode=Z}transform(P,Z=this._defaultCurrencyCode,_e="symbol",Je,pt){if(!function gs(N){return!(null==N||""===N||N!=N)}(P))return null;pt=pt||this._locale,"boolean"==typeof _e&&(_e=_e?"symbol":"code");let Zt=Z||this._defaultCurrencyCode;"code"!==_e&&(Zt="symbol"===_e||"symbol-narrow"===_e?function Yr(N,G,P="en"){const Z=function lr(N){return(0,p.cg1)(N)[p.wAp.Currencies]}(P)[N]||we[N]||[],_e=Z[1];return"narrow"===G&&"string"==typeof _e?_e:Z[0]||N}(Zt,"symbol"===_e?"wide":"narrow",pt):_e);try{return On(function ls(N){if("string"==typeof N&&!isNaN(Number(N)-parseFloat(N)))return Number(N);if("number"!=typeof N)throw new Error(`${N} is not a number`);return N}(P),pt,Zt,Z,Je)}catch(_n){throw function hr(N,G){return new p.vHH(2100,"")}()}}}return N.\u0275fac=function(P){return new(P||N)(p.Y36(p.soG,16),p.Y36(p.EJc,16))},N.\u0275pipe=p.Yjl({name:"currency",type:N,pure:!0}),N})();let bs=(()=>{class N{}return N.\u0275fac=function(P){return new(P||N)},N.\u0275mod=p.oAB({type:N}),N.\u0275inj=p.cJS({}),N})();const Oi="browser";function $r(N){return"server"===N}let wi=(()=>{class N{}return N.\u0275prov=(0,p.Yz7)({token:N,providedIn:"root",factory:()=>new ns((0,p.LFG)(ye),window)}),N})();class ns{constructor(G,P){this.document=G,this.window=P,this.offset=()=>[0,0]}setOffset(G){this.offset=Array.isArray(G)?()=>G:G}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(G){this.supportsScrolling()&&this.window.scrollTo(G[0],G[1])}scrollToAnchor(G){if(!this.supportsScrolling())return;const P=function Ri(N,G){const P=N.getElementById(G)||N.getElementsByName(G)[0];if(P)return P;if("function"==typeof N.createTreeWalker&&N.body&&(N.body.createShadowRoot||N.body.attachShadow)){const Z=N.createTreeWalker(N.body,NodeFilter.SHOW_ELEMENT);let _e=Z.currentNode;for(;_e;){const Je=_e.shadowRoot;if(Je){const pt=Je.getElementById(G)||Je.querySelector(`[name="${G}"]`);if(pt)return pt}_e=Z.nextNode()}}return null}(this.document,G);P&&(this.scrollToElement(P),P.focus())}setHistoryScrollRestoration(G){if(this.supportScrollRestoration()){const P=this.window.history;P&&P.scrollRestoration&&(P.scrollRestoration=G)}}scrollToElement(G){const P=G.getBoundingClientRect(),Z=P.left+this.window.pageXOffset,_e=P.top+this.window.pageYOffset,Je=this.offset();this.window.scrollTo(Z-Je[0],_e-Je[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const G=Ps(this.window.history)||Ps(Object.getPrototypeOf(this.window.history));return!(!G||!G.writable&&!G.set)}catch(G){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(G){return!1}}}function Ps(N){return Object.getOwnPropertyDescriptor(N,"scrollRestoration")}class Gn{}},5e3:(Me,te,T)=>{"use strict";T.d(te,{deG:()=>kl,tb:()=>Qw,AFp:()=>Kw,ip1:()=>zw,CZH:()=>Z_,hGG:()=>Jb,z2F:()=>nv,sBO:()=>Fb,Sil:()=>mb,_Vd:()=>ay,EJc:()=>pb,SBq:()=>sg,qLn:()=>Ui,vpe:()=>cc,tBr:()=>Yo,XFs:()=>Rt,OlP:()=>ti,zs3:()=>Ca,ZZ4:()=>uv,aQg:()=>cv,soG:()=>Q_,YKP:()=>uw,h0i:()=>wf,PXZ:()=>Sb,R0b:()=>Su,FiY:()=>aa,Lbi:()=>Yw,g9A:()=>Zw,Qsj:()=>uE,FYo:()=>rw,JOm:()=>Xe,tp0:()=>cu,Rgc:()=>cg,dDg:()=>t0,q4F:()=>sw,GfV:()=>iw,s_b:()=>ly,ifc:()=>Et,eFA:()=>s0,G48:()=>kb,Gpc:()=>X,X6Q:()=>Nb,_c5:()=>Qb,VLi:()=>Cb,c2e:()=>Jw,zSh:()=>Id,wAp:()=>Rn,vHH:()=>$e,cg1:()=>ff,kL8:()=>pf,dqk:()=>Dn,sIi:()=>Fc,CqO:()=>Xh,QGY:()=>Hc,F4k:()=>jp,RDi:()=>Ps,AaK:()=>ae,qOj:()=>Tp,TTD:()=>gs,_Bn:()=>ew,xp6:()=>zu,uIk:()=>Pp,ekj:()=>of,Suo:()=>Cw,Xpm:()=>wt,lG2:()=>Pn,Yz7:()=>$t,cJS:()=>on,oAB:()=>Kn,Yjl:()=>dn,Y36:()=>Al,_UZ:()=>Up,qZA:()=>Jh,TgZ:()=>$c,EpF:()=>Td,n5z:()=>As,LFG:()=>Br,$8M:()=>bi,$Z:()=>tu,NdJ:()=>$p,CRH:()=>Tw,oxw:()=>rc,ALo:()=>yw,lcZ:()=>_w,Q6J:()=>Em,iGM:()=>Dw,CHM:()=>Zr,LSH:()=>Yl,YNc:()=>Fp,_uU:()=>Vm,Oqu:()=>Xp,hij:()=>cf});var p=T(7579),L=T(727),V=T(8306),ue=T(6451),ee=T(3099);function le(n){for(let r in n)if(n[r]===le)return r;throw Error("Could not find renamed property on target object.")}function ye(n,r){for(const s in r)r.hasOwnProperty(s)&&!n.hasOwnProperty(s)&&(n[s]=r[s])}function ae(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(ae).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const r=n.toString();if(null==r)return""+r;const s=r.indexOf("\n");return-1===s?r:r.substring(0,s)}function ne(n,r){return null==n||""===n?null===r?"":r:null==r||""===r?n:n+" "+r}const J=le({__forward_ref__:le});function X(n){return n.__forward_ref__=X,n.toString=function(){return ae(this())},n}function re(n){return je(n)?n():n}function je(n){return"function"==typeof n&&n.hasOwnProperty(J)&&n.__forward_ref__===X}class $e extends Error{constructor(r,s){super(function ot(n,r){return`NG0${Math.abs(n)}${r?": "+r:""}`}(r,s)),this.code=r}}function De(n){return"string"==typeof n?n:null==n?"":String(n)}function Fe(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():De(n)}function Ce(n,r){const s=r?` in ${r}`:"";throw new $e(-201,`No provider for ${Fe(n)} found${s}`)}function Ot(n,r){null==n&&function St(n,r,s,a){throw new Error(`ASSERTION ERROR: ${n}`+(null==a?"":` [Expected=> ${s} ${a} ${r} <=Actual]`))}(r,n,null,"!=")}function $t(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function on(n){return{providers:n.providers||[],imports:n.imports||[]}}function ln(n){return er(n,lr)||er(n,tr)}function er(n,r){return n.hasOwnProperty(r)?n[r]:null}function xn(n){return n&&(n.hasOwnProperty(Nn)||n.hasOwnProperty(fn))?n[Nn]:null}const lr=le({\u0275prov:le}),Nn=le({\u0275inj:le}),tr=le({ngInjectableDef:le}),fn=le({ngInjectorDef:le});var Rt=(()=>((Rt=Rt||{})[Rt.Default=0]="Default",Rt[Rt.Host=1]="Host",Rt[Rt.Self=2]="Self",Rt[Rt.SkipSelf=4]="SkipSelf",Rt[Rt.Optional=8]="Optional",Rt))();let $n;function wn(n){const r=$n;return $n=n,r}function Yr(n,r,s){const a=ln(n);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:s&Rt.Optional?null:void 0!==r?r:void Ce(ae(n),"Injector")}function rn(n){return{toString:n}.toString()}var Vn=(()=>((Vn=Vn||{})[Vn.OnPush=0]="OnPush",Vn[Vn.Default=1]="Default",Vn))(),Et=(()=>{return(n=Et||(Et={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Et;var n})();const Pt="undefined"!=typeof globalThis&&globalThis,Ht="undefined"!=typeof window&&window,gr="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Dn=Pt||"undefined"!=typeof global&&global||Ht||gr,nr={},pe=[],Ee=le({\u0275cmp:le}),Te=le({\u0275dir:le}),Ke=le({\u0275pipe:le}),He=le({\u0275mod:le}),Mt=le({\u0275fac:le}),et=le({__NG_ELEMENT_ID__:le});let tt=0;function wt(n){return rn(()=>{const s={},a={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:s,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===Vn.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||pe,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||Et.Emulated,id:"c",styles:n.styles||pe,_:null,setInput:null,schemas:n.schemas||null,tView:null},c=n.directives,d=n.features,m=n.pipes;return a.id+=tt++,a.inputs=wr(n.inputs,s),a.outputs=wr(n.outputs),d&&d.forEach(E=>E(a)),a.directiveDefs=c?()=>("function"==typeof c?c():c).map(vn):null,a.pipeDefs=m?()=>("function"==typeof m?m():m).map(qt):null,a})}function vn(n){return rr(n)||function yr(n){return n[Te]||null}(n)}function qt(n){return function _r(n){return n[Ke]||null}(n)}const Mn={};function Kn(n){return rn(()=>{const r={type:n.type,bootstrap:n.bootstrap||pe,declarations:n.declarations||pe,imports:n.imports||pe,exports:n.exports||pe,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(Mn[n.id]=n.type),r})}function wr(n,r){if(null==n)return nr;const s={};for(const a in n)if(n.hasOwnProperty(a)){let c=n[a],d=c;Array.isArray(c)&&(d=c[1],c=c[0]),s[c]=a,r&&(r[c]=d)}return s}const Pn=wt;function dn(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,onDestroy:n.type.prototype.ngOnDestroy||null}}function rr(n){return n[Ee]||null}function Un(n,r){const s=n[He]||null;if(!s&&!0===r)throw new Error(`Type ${ae(n)} does not have '\u0275mod' property.`);return s}function de(n){return Array.isArray(n)&&"object"==typeof n[1]}function Q(n){return Array.isArray(n)&&!0===n[1]}function Be(n){return 0!=(8&n.flags)}function dt(n){return 2==(2&n.flags)}function Vt(n){return 1==(1&n.flags)}function sn(n){return null!==n.template}function Kr(n){return 0!=(512&n[2])}function pi(n,r){return n.hasOwnProperty(Mt)?n[Mt]:null}class Di{constructor(r,s,a){this.previousValue=r,this.currentValue=s,this.firstChange=a}isFirstChange(){return this.firstChange}}function gs(){return ls}function ls(n){return n.type.prototype.ngOnChanges&&(n.setInput=Hi),Gs}function Gs(){const n=Oi(this),r=null==n?void 0:n.current;if(r){const s=n.previous;if(s===nr)n.previous=r;else for(let a in r)s[a]=r[a];n.current=null,this.ngOnChanges(r)}}function Hi(n,r,s,a){const c=Oi(n)||function Gi(n,r){return n[bs]=r}(n,{previous:nr,current:null}),d=c.current||(c.current={}),m=c.previous,E=this.declaredInputs[s],A=m[E];d[E]=new Di(A&&A.currentValue,r,m===nr),n[a]=r}gs.ngInherit=!0;const bs="__ngSimpleChanges__";function Oi(n){return n[bs]||null}let ns;function Ps(n){ns=n}function Gn(n){return!!n.listen}const N={createRenderer:(n,r)=>function Ri(){return void 0!==ns?ns:"undefined"!=typeof document?document:void 0}()};function P(n){for(;Array.isArray(n);)n=n[0];return n}function Je(n,r){return P(r[n])}function pt(n,r){return P(r[n.index])}function _n(n,r){return n.data[r]}function Cn(n,r){const s=r[n];return de(s)?s:s[0]}function Wn(n){return 4==(4&n[2])}function Nr(n){return 128==(128&n[2])}function fr(n,r){return null==r?null:n[r]}function Pi(n){n[18]=0}function qr(n,r){n[5]+=r;let s=n,a=n[3];for(;null!==a&&(1===r&&1===s[5]||-1===r&&0===s[5]);)a[5]+=r,s=a,a=a[3]}const Yt={lFrame:Ki(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function M(){return Yt.bindingsEnabled}function Ge(){return Yt.lFrame.lView}function Qt(){return Yt.lFrame.tView}function Zr(n){return Yt.lFrame.contextLView=n,n[8]}function ur(){let n=Ni();for(;null!==n&&64===n.type;)n=n.parent;return n}function Ni(){return Yt.lFrame.currentTNode}function Ei(n,r){const s=Yt.lFrame;s.currentTNode=n,s.isParent=r}function uo(){return Yt.lFrame.isParent}function Ks(){return Yt.isInCheckNoChangesMode}function Ds(n){Yt.isInCheckNoChangesMode=n}function rs(){return Yt.lFrame.bindingIndex++}function Co(n,r){const s=Yt.lFrame;s.bindingIndex=s.bindingRootIndex=n,Js(r)}function Js(n){Yt.lFrame.currentDirectiveIndex=n}function co(){return Yt.lFrame.currentQueryIndex}function _a(n){Yt.lFrame.currentQueryIndex=n}function Bo(n){const r=n[1];return 2===r.type?r.declTNode:1===r.type?n[6]:null}function Xs(n,r,s){if(s&Rt.SkipSelf){let c=r,d=n;for(;!(c=c.parent,null!==c||s&Rt.Host||(c=Bo(d),null===c||(d=d[15],10&c.type))););if(null===c)return!1;r=c,n=d}const a=Yt.lFrame=jo();return a.currentTNode=r,a.lView=n,!0}function Cs(n){const r=jo(),s=n[1];Yt.lFrame=r,r.currentTNode=s.firstChild,r.lView=n,r.tView=s,r.contextLView=n,r.bindingIndex=s.bindingStartIndex,r.inI18n=!1}function jo(){const n=Yt.lFrame,r=null===n?null:n.child;return null===r?Ki(n):r}function Ki(n){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=r),r}function na(){const n=Yt.lFrame;return Yt.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const ka=na;function lo(){const n=na();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function ii(){return Yt.lFrame.selectedIndex}function Ns(n){Yt.lFrame.selectedIndex=n}function si(){const n=Yt.lFrame;return _n(n.tView,n.selectedIndex)}function ms(n,r){for(let s=r.directiveStart,a=r.directiveEnd;s<a;s++){const d=n.data[s].type.prototype,{ngAfterContentInit:m,ngAfterContentChecked:E,ngAfterViewInit:A,ngAfterViewChecked:j,ngOnDestroy:W}=d;m&&(n.contentHooks||(n.contentHooks=[])).push(-s,m),E&&((n.contentHooks||(n.contentHooks=[])).push(s,E),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(s,E)),A&&(n.viewHooks||(n.viewHooks=[])).push(-s,A),j&&((n.viewHooks||(n.viewHooks=[])).push(s,j),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(s,j)),null!=W&&(n.destroyHooks||(n.destroyHooks=[])).push(s,W)}}function Ts(n,r,s){cr(n,r,3,s)}function To(n,r,s,a){(3&n[2])===s&&cr(n,r,s,a)}function $o(n,r){let s=n[2];(3&s)===r&&(s&=2047,s+=1,n[2]=s)}function cr(n,r,s,a){const d=null!=a?a:-1,m=r.length-1;let E=0;for(let A=void 0!==a?65535&n[18]:0;A<m;A++)if("number"==typeof r[A+1]){if(E=r[A],null!=a&&E>=a)break}else r[A]<0&&(n[18]+=65536),(E<d||-1==d)&&(Ho(n,s,r,A),n[18]=(4294901760&n[18])+A+2),A++}function Ho(n,r,s,a){const c=s[a]<0,d=s[a+1],E=n[c?-s[a]:s[a]];if(c){if(n[2]>>11<n[18]>>16&&(3&n[2])===r){n[2]+=2048;try{d.call(E)}finally{}}}else try{d.call(E)}finally{}}class qi{constructor(r,s,a){this.factory=r,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=a}}function D(n,r,s){const a=Gn(n);let c=0;for(;c<s.length;){const d=s[c];if("number"==typeof d){if(0!==d)break;c++;const m=s[c++],E=s[c++],A=s[c++];a?n.setAttribute(r,E,A,m):r.setAttributeNS(m,E,A)}else{const m=d,E=s[++c];me(m)?a&&n.setProperty(r,m,E):a?n.setAttribute(r,m,E):r.setAttribute(m,E),c++}}return c}function $(n){return 3===n||4===n||6===n}function me(n){return 64===n.charCodeAt(0)}function mt(n,r){if(null!==r&&0!==r.length)if(null===n||0===n.length)n=r.slice();else{let s=-1;for(let a=0;a<r.length;a++){const c=r[a];"number"==typeof c?s=c:0===s||en(n,s,c,null,-1===s||2===s?r[++a]:null)}}return n}function en(n,r,s,a,c){let d=0,m=n.length;if(-1===r)m=-1;else for(;d<n.length;){const E=n[d++];if("number"==typeof E){if(E===r){m=-1;break}if(E>r){m=d-1;break}}}for(;d<n.length;){const E=n[d];if("number"==typeof E)break;if(E===s){if(null===a)return void(null!==c&&(n[d+1]=c));if(a===n[d+1])return void(n[d+2]=c)}d++,null!==a&&d++,null!==c&&d++}-1!==m&&(n.splice(m,0,r),d=m+1),n.splice(d++,0,s),null!==a&&n.splice(d++,0,a),null!==c&&n.splice(d++,0,c)}function ei(n){return-1!==n}function Qn(n){return 32767&n}function Fi(n,r){let s=function Ti(n){return n>>16}(n),a=r;for(;s>0;)a=a[15],s--;return a}let po=!0;function go(n){const r=po;return po=n,r}let wa=0;function Ct(n,r){const s=ks(n,r);if(-1!==s)return s;const a=r[1];a.firstCreatePass&&(n.injectorIndex=r.length,Vr(a.data,n),Vr(r,null),Vr(a.blueprint,null));const c=Ea(n,r),d=n.injectorIndex;if(ei(c)){const m=Qn(c),E=Fi(c,r),A=E[1].data;for(let j=0;j<8;j++)r[d+j]=E[m+j]|A[m+j]}return r[d+8]=c,d}function Vr(n,r){n.push(0,0,0,0,0,0,0,0,r)}function ks(n,r){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===r[n.injectorIndex+8]?-1:n.injectorIndex}function Ea(n,r){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let s=0,a=null,c=r;for(;null!==c;){const d=c[1],m=d.type;if(a=2===m?d.declTNode:1===m?c[6]:null,null===a)return-1;if(s++,c=c[15],-1!==a.injectorIndex)return a.injectorIndex|s<<16}return-1}function b(n,r,s){!function Fa(n,r,s){let a;"string"==typeof s?a=s.charCodeAt(0)||0:s.hasOwnProperty(et)&&(a=s[et]),null==a&&(a=s[et]=wa++);const c=255&a;r.data[n+(c>>5)]|=1<<c}(n,r,s)}function _(n,r,s){if(s&Rt.Optional)return n;Ce(r,"NodeInjector")}function C(n,r,s,a){if(s&Rt.Optional&&void 0===a&&(a=null),0==(s&(Rt.Self|Rt.Host))){const c=n[9],d=wn(void 0);try{return c?c.get(r,a,s&Rt.Optional):Yr(r,a,s&Rt.Optional)}finally{wn(d)}}return _(a,r,s)}function S(n,r,s,a=Rt.Default,c){if(null!==n){const d=function Jn(n){if("string"==typeof n)return n.charCodeAt(0)||0;const r=n.hasOwnProperty(et)?n[et]:void 0;return"number"==typeof r?r>=0?255&r:ie:r}(s);if("function"==typeof d){if(!Xs(r,n,a))return a&Rt.Host?_(c,s,a):C(r,s,a,c);try{const m=d(a);if(null!=m||a&Rt.Optional)return m;Ce(s)}finally{ka()}}else if("number"==typeof d){let m=null,E=ks(n,r),A=-1,j=a&Rt.Host?r[16][6]:null;for((-1===E||a&Rt.SkipSelf)&&(A=-1===E?Ea(n,r):r[E+8],-1!==A&&vr(a,!1)?(m=r[1],E=Qn(A),r=Fi(A,r)):E=-1);-1!==E;){const W=r[1];if(un(d,E,W.data)){const se=Ie(E,r,s,m,a,j);if(se!==B)return se}A=r[E+8],-1!==A&&vr(a,r[1].data[E+8]===j)&&un(d,E,r)?(m=W,E=Qn(A),r=Fi(A,r)):E=-1}}}return C(r,s,a,c)}const B={};function ie(){return new sr(ur(),Ge())}function Ie(n,r,s,a,c,d){const m=r[1],E=m.data[n+8],W=ut(E,m,s,null==a?dt(E)&&po:a!=m&&0!=(3&E.type),c&Rt.Host&&d===E);return null!==W?Gt(r,m,W,E):B}function ut(n,r,s,a,c){const d=n.providerIndexes,m=r.data,E=1048575&d,A=n.directiveStart,W=d>>20,Se=c?E+W:n.directiveEnd;for(let Ze=a?E:E+W;Ze<Se;Ze++){const gt=m[Ze];if(Ze<A&&s===gt||Ze>=A&&gt.type===s)return Ze}if(c){const Ze=m[A];if(Ze&&sn(Ze)&&Ze.type===s)return A}return null}function Gt(n,r,s,a){let c=n[s];const d=r.data;if(function Go(n){return n instanceof qi}(c)){const m=c;m.resolving&&function oe(n,r){const s=r?`. Dependency path: ${r.join(" > ")} > ${n}`:"";throw new $e(-200,`Circular dependency in DI detected for ${n}${s}`)}(Fe(d[s]));const E=go(m.canSeeViewProviders);m.resolving=!0;const A=m.injectImpl?wn(m.injectImpl):null;Xs(n,a,Rt.Default);try{c=n[s]=m.factory(void 0,d,n,a),r.firstCreatePass&&s>=a.directiveStart&&function ra(n,r,s){const{ngOnChanges:a,ngOnInit:c,ngDoCheck:d}=r.type.prototype;if(a){const m=ls(r);(s.preOrderHooks||(s.preOrderHooks=[])).push(n,m),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(n,m)}c&&(s.preOrderHooks||(s.preOrderHooks=[])).push(0-n,c),d&&((s.preOrderHooks||(s.preOrderHooks=[])).push(n,d),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(n,d))}(s,d[s],r)}finally{null!==A&&wn(A),go(E),m.resolving=!1,ka()}}return c}function un(n,r,s){return!!(s[r+(n>>5)]&1<<n)}function vr(n,r){return!(n&Rt.Self||n&Rt.Host&&r)}class sr{constructor(r,s){this._tNode=r,this._lView=s}get(r,s,a){return S(this._tNode,this._lView,r,a,s)}}function As(n){return rn(()=>{const r=n.prototype.constructor,s=r[Mt]||mo(r),a=Object.prototype;let c=Object.getPrototypeOf(n.prototype).constructor;for(;c&&c!==a;){const d=c[Mt]||mo(c);if(d&&d!==s)return d;c=Object.getPrototypeOf(c)}return d=>new d})}function mo(n){return je(n)?()=>{const r=mo(re(n));return r&&r()}:pi(n)}function bi(n){return function v(n,r){if("class"===r)return n.classes;if("style"===r)return n.styles;const s=n.attrs;if(s){const a=s.length;let c=0;for(;c<a;){const d=s[c];if($(d))break;if(0===d)c+=2;else if("number"==typeof d)for(c++;c<a&&"string"==typeof s[c];)c++;else{if(d===r)return s[c+1];c+=2}}}return null}(ur(),n)}const Ss="__parameters__";function gi(n,r,s){return rn(()=>{const a=function lc(n){return function(...s){if(n){const a=n(...s);for(const c in a)this[c]=a[c]}}}(r);function c(...d){if(this instanceof c)return a.apply(this,d),this;const m=new c(...d);return E.annotation=m,E;function E(A,j,W){const se=A.hasOwnProperty(Ss)?A[Ss]:Object.defineProperty(A,Ss,{value:[]})[Ss];for(;se.length<=W;)se.push(null);return(se[W]=se[W]||[]).push(m),A}}return s&&(c.prototype=Object.create(s.prototype)),c.prototype.ngMetadataName=n,c.annotationCls=c,c})}class ti{constructor(r,s){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=$t({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}toString(){return`InjectionToken ${this._desc}`}}const kl=new ti("AnalyzeForEntryComponents");function Ai(n,r){void 0===r&&(r=n);for(let s=0;s<n.length;s++){let a=n[s];Array.isArray(a)?(r===n&&(r=n.slice(0,s)),Ai(a,r)):r!==n&&r.push(a)}return r}function Fs(n,r){n.forEach(s=>Array.isArray(s)?Fs(s,r):r(s))}function So(n,r,s){r>=n.length?n.push(s):n.splice(r,0,s)}function Ls(n,r){return r>=n.length-1?n.pop():n.splice(r,1)[0]}function li(n,r,s){let a=_o(n,r);return a>=0?n[1|a]=s:(a=~a,function Ud(n,r,s,a){let c=n.length;if(c==r)n.push(s,a);else if(1===c)n.push(a,n[0]),n[0]=s;else{for(c--,n.push(n[c-1],n[c]);c>r;)n[c]=n[c-2],c--;n[r]=s,n[r+1]=a}}(n,a,r,s)),a}function ou(n,r){const s=_o(n,r);if(s>=0)return n[1|s]}function _o(n,r){return function vo(n,r,s){let a=0,c=n.length>>s;for(;c!==a;){const d=a+(c-a>>1),m=n[d<<s];if(r===m)return d<<s;m>r?c=d:a=d+1}return~(c<<s)}(n,r,1)}const k={},K="__NG_DI_FLAG__",fe="ngTempTokenPath",st=/\n/gm,Kt="__source",tn=le({provide:String,useValue:le});let ar;function Fr(n){const r=ar;return ar=n,r}function Ur(n,r=Rt.Default){if(void 0===ar)throw new $e(203,"");return null===ar?Yr(n,void 0,r):ar.get(n,r&Rt.Optional?null:void 0,r)}function Br(n,r=Rt.Default){return(function nn(){return $n}()||Ur)(re(n),r)}const Ua=Br;function Ba(n){const r=[];for(let s=0;s<n.length;s++){const a=re(n[s]);if(Array.isArray(a)){if(0===a.length)throw new $e(900,"");let c,d=Rt.Default;for(let m=0;m<a.length;m++){const E=a[m],A=Oo(E);"number"==typeof A?-1===A?c=E.token:d|=A:c=E}r.push(Br(c,d))}else r.push(Br(a))}return r}function wo(n,r){return n[K]=r,n.prototype[K]=r,n}function Oo(n){return n[K]}const Yo=wo(gi("Inject",n=>({token:n})),-1),aa=wo(gi("Optional"),8),cu=wo(gi("SkipSelf"),4);class Ha{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function la(n){return n instanceof Ha?n.changingThisBreaksApplicationSecurity:n}const Ga=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Wd=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var Yi=(()=>((Yi=Yi||{})[Yi.NONE=0]="NONE",Yi[Yi.HTML=1]="HTML",Yi[Yi.STYLE=2]="STYLE",Yi[Yi.SCRIPT=3]="SCRIPT",Yi[Yi.URL=4]="URL",Yi[Yi.RESOURCE_URL=5]="RESOURCE_URL",Yi))();function Yl(n){const r=function Vi(){const n=Ge();return n&&n[12]}();return r?r.sanitize(Yi.URL,n)||"":function _c(n,r){const s=function Zi(n){return n instanceof Ha&&n.getTypeName()||null}(n);if(null!=s&&s!==r){if("ResourceURL"===s&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${s} (see https://g.co/ng/security#xss)`)}return s===r}(n,"URL")?la(n):function da(n){return(n=String(n)).match(Ga)||n.match(Wd)?n:"unsafe:"+n}(De(n))}const ko="__ngContext__";function vs(n,r){n[ko]=r}function gu(n){const r=function qa(n){return n[ko]||null}(n);return r?Array.isArray(r)?r:r.lView:null}function ll(n){return n.ngOriginalError}function Jd(n,...r){n.error(...r)}class Ui{constructor(){this._console=console}handleError(r){const s=this._findOriginalError(r),a=function Of(n){return n&&n.ngErrorLogger||Jd}(r);a(this._console,"ERROR",r),s&&a(this._console,"ORIGINAL ERROR",s)}_findOriginalError(r){let s=r&&ll(r);for(;s&&ll(s);)s=ll(s);return s||null}}const Eo=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Dn))();function h(n){return n instanceof Function?n():n}var Xe=(()=>((Xe=Xe||{})[Xe.Important=1]="Important",Xe[Xe.DashCase=2]="DashCase",Xe))();function Xt(n,r){return undefined(n,r)}function Ir(n){const r=n[3];return Q(r)?r[3]:r}function Qi(n){return dl(n[13])}function ju(n){return dl(n[4])}function dl(n){for(;null!==n&&!Q(n);)n=n[4];return n}function Ia(n,r,s,a,c){if(null!=a){let d,m=!1;Q(a)?d=a:de(a)&&(m=!0,a=a[0]);const E=P(a);0===n&&null!==s?null==c?Uf(r,s,E):Hu(r,s,E,c||null,!0):1===n&&null!==s?Hu(r,s,E,c||null,!0):2===n?function ah(n,r,s){const a=Qa(n,r);a&&function Bf(n,r,s,a){Gn(n)?n.removeChild(r,s,a):r.removeChild(s)}(n,a,r,s)}(r,E,m):3===n&&r.destroyNode(E),null!=d&&function _y(n,r,s,a,c){const d=s[7];d!==P(s)&&Ia(r,n,a,d,c);for(let E=10;E<s.length;E++){const A=s[E];Gu(A[1],A,n,r,a,d)}}(r,n,d,s,c)}}function io(n,r,s){if(Gn(n))return n.createElement(r,s);{const a=null!==s?function wi(n){const r=n.toLowerCase();return"svg"===r?"http://www.w3.org/2000/svg":"math"===r?"http://www.w3.org/1998/MathML/":null}(s):null;return null===a?n.createElement(r):n.createElementNS(a,r)}}function th(n,r){const s=n[9],a=s.indexOf(r),c=r[3];1024&r[2]&&(r[2]&=-1025,qr(c,-1)),s.splice(a,1)}function nh(n,r){if(n.length<=10)return;const s=10+r,a=n[s];if(a){const c=a[17];null!==c&&c!==n&&th(c,a),r>0&&(n[s-1][4]=a[4]);const d=Ls(n,10+r);!function kf(n,r){Gu(n,r,r[11],2,null,null),r[0]=null,r[6]=null}(a[1],a);const m=d[19];null!==m&&m.detachView(d[1]),a[3]=null,a[4]=null,a[2]&=-129}return a}function Ms(n,r){if(!(256&r[2])){const s=r[11];Gn(s)&&s.destroyNode&&Gu(n,r,s,3,null,null),function my(n){let r=n[13];if(!r)return ed(n[1],n);for(;r;){let s=null;if(de(r))s=r[13];else{const a=r[10];a&&(s=a)}if(!s){for(;r&&!r[4]&&r!==n;)de(r)&&ed(r[1],r),r=r[3];null===r&&(r=n),de(r)&&ed(r[1],r),s=r&&r[4]}r=s}}(r)}}function ed(n,r){if(!(256&r[2])){r[2]&=-129,r[2]|=256,function Lf(n,r){let s;if(null!=n&&null!=(s=n.destroyHooks))for(let a=0;a<s.length;a+=2){const c=r[s[a]];if(!(c instanceof qi)){const d=s[a+1];if(Array.isArray(d))for(let m=0;m<d.length;m+=2){const E=c[d[m]],A=d[m+1];try{A.call(E)}finally{}}else try{d.call(c)}finally{}}}}(n,r),function Ff(n,r){const s=n.cleanup,a=r[7];let c=-1;if(null!==s)for(let d=0;d<s.length-1;d+=2)if("string"==typeof s[d]){const m=s[d+1],E="function"==typeof m?m(r):P(r[m]),A=a[c=s[d+2]],j=s[d+3];"boolean"==typeof j?E.removeEventListener(s[d],A,j):j>=0?a[c=j]():a[c=-j].unsubscribe(),d+=2}else{const m=a[c=s[d+1]];s[d].call(m)}if(null!==a){for(let d=c+1;d<a.length;d++)a[d]();r[7]=null}}(n,r),1===r[1].type&&Gn(r[11])&&r[11].destroy();const s=r[17];if(null!==s&&Q(r[3])){s!==r[3]&&th(s,r);const a=r[19];null!==a&&a.detachView(n)}}}function vu(n,r,s){return function Vf(n,r,s){let a=r;for(;null!==a&&40&a.type;)a=(r=a).parent;if(null===a)return s[0];if(2&a.flags){const c=n.data[a.directiveStart].encapsulation;if(c===Et.None||c===Et.Emulated)return null}return pt(a,s)}(n,r.parent,s)}function Hu(n,r,s,a,c){Gn(n)?n.insertBefore(r,s,a,c):r.insertBefore(s,a,c)}function Uf(n,r,s){Gn(n)?n.appendChild(r,s):r.appendChild(s)}function rh(n,r,s,a,c){null!==a?Hu(n,r,s,a,c):Uf(n,r,s)}function Qa(n,r){return Gn(n)?n.parentNode(r):r.parentNode}let jf=function hl(n,r,s){return 40&n.type?pt(n,s):null};function nd(n,r,s,a){const c=vu(n,a,r),d=r[11],E=function Ac(n,r,s){return jf(n,r,s)}(a.parent||r[6],a,r);if(null!=c)if(Array.isArray(s))for(let A=0;A<s.length;A++)rh(d,c,s[A],E,!1);else rh(d,c,s,E,!1)}function sh(n,r){if(null!==r){const s=r.type;if(3&s)return pt(r,n);if(4&s)return oh(-1,n[r.index]);if(8&s){const a=r.child;if(null!==a)return sh(n,a);{const c=n[r.index];return Q(c)?oh(-1,c):P(c)}}if(32&s)return Xt(r,n)()||P(n[r.index]);{const a=$f(n,r);return null!==a?Array.isArray(a)?a[0]:sh(Ir(n[16]),a):sh(n,r.next)}}return null}function $f(n,r){return null!==r?n[16][6].projection[r.projection]:null}function oh(n,r){const s=10+n+1;if(s<r.length){const a=r[s],c=a[1].firstChild;if(null!==c)return sh(a,c)}return r[7]}function Sc(n,r,s,a,c,d,m){for(;null!=s;){const E=a[s.index],A=s.type;if(m&&0===r&&(E&&vs(P(E),a),s.flags|=4),64!=(64&s.flags))if(8&A)Sc(n,r,s.child,a,c,d,!1),Ia(r,n,c,E,d);else if(32&A){const j=Xt(s,a);let W;for(;W=j();)Ia(r,n,c,W,d);Ia(r,n,c,E,d)}else 16&A?Hf(n,r,a,s,c,d):Ia(r,n,c,E,d);s=m?s.projectionNext:s.next}}function Gu(n,r,s,a,c,d){Sc(s,a,n.firstChild,r,c,d,!1)}function Hf(n,r,s,a,c,d){const m=s[16],A=m[6].projection[a.projection];if(Array.isArray(A))for(let j=0;j<A.length;j++)Ia(r,n,c,A[j],d);else Sc(n,r,A,m[3],c,d,!0)}function mg(n,r,s){Gn(n)?n.setAttribute(r,"style",s):r.style.cssText=s}function uh(n,r,s){Gn(n)?""===s?n.removeAttribute(r,"class"):n.setAttribute(r,"class",s):r.className=s}function ch(n,r,s){let a=n.length;for(;;){const c=n.indexOf(r,s);if(-1===c)return c;if(0===c||n.charCodeAt(c-1)<=32){const d=r.length;if(c+d===a||n.charCodeAt(c+d)<=32)return c}s=c+1}}const Gf="ng-template";function wy(n,r,s){let a=0;for(;a<n.length;){let c=n[a++];if(s&&"class"===c){if(c=n[a],-1!==ch(c.toLowerCase(),r,0))return!0}else if(1===c){for(;a<n.length&&"string"==typeof(c=n[a++]);)if(c.toLowerCase()===r)return!0;return!1}}return!1}function lh(n){return 4===n.type&&n.value!==Gf}function Ey(n,r,s){return r===(4!==n.type||s?n.value:Gf)}function _g(n,r,s){let a=4;const c=n.attrs||[],d=function Vo(n){for(let r=0;r<n.length;r++)if($(n[r]))return r;return n.length}(c);let m=!1;for(let E=0;E<r.length;E++){const A=r[E];if("number"!=typeof A){if(!m)if(4&a){if(a=2|1&a,""!==A&&!Ey(n,A,s)||""===A&&1===r.length){if(Lo(a))return!1;m=!0}}else{const j=8&a?A:r[++E];if(8&a&&null!==n.attrs){if(!wy(n.attrs,j,s)){if(Lo(a))return!1;m=!0}continue}const se=dh(8&a?"class":A,c,lh(n),s);if(-1===se){if(Lo(a))return!1;m=!0;continue}if(""!==j){let Se;Se=se>d?"":c[se+1].toLowerCase();const Ze=8&a?Se:null;if(Ze&&-1!==ch(Ze,j,0)||2&a&&j!==Se){if(Lo(a))return!1;m=!0}}}}else{if(!m&&!Lo(a)&&!Lo(A))return!1;if(m&&Lo(A))continue;m=!1,a=A|1&a}}return Lo(a)||m}function Lo(n){return 0==(1&n)}function dh(n,r,s,a){if(null===r)return-1;let c=0;if(a||!s){let d=!1;for(;c<r.length;){const m=r[c];if(m===n)return c;if(3===m||6===m)d=!0;else{if(1===m||2===m){let E=r[++c];for(;"string"==typeof E;)E=r[++c];continue}if(4===m)break;if(0===m){c+=4;continue}}c+=d?1:2}return-1}return function wg(n,r){let s=n.indexOf(4);if(s>-1)for(s++;s<n.length;){const a=n[s];if("number"==typeof a)return-1;if(a===r)return s;s++}return-1}(r,n)}function rd(n,r,s=!1){for(let a=0;a<r.length;a++)if(_g(n,r[a],s))return!0;return!1}function fh(n,r){return n?":not("+r.trim()+")":r}function Eg(n){let r=n[0],s=1,a=2,c="",d=!1;for(;s<n.length;){let m=n[s];if("string"==typeof m)if(2&a){const E=n[++s];c+="["+m+(E.length>0?'="'+E+'"':"")+"]"}else 8&a?c+="."+m:4&a&&(c+=" "+m);else""!==c&&!Lo(m)&&(r+=fh(d,c),c=""),a=m,d=d||!Lo(a);s++}return""!==c&&(r+=fh(d,c)),r}const Xn={};function zu(n){bg(Qt(),Ge(),ii()+n,Ks())}function bg(n,r,s,a){if(!a)if(3==(3&r[2])){const d=n.preOrderCheckHooks;null!==d&&Ts(r,d,s)}else{const d=n.preOrderHooks;null!==d&&To(r,d,0,s)}Ns(s)}function id(n,r){return n<<17|r<<2}function Bs(n){return n>>17&32767}function ph(n){return 2|n}function wu(n){return(131068&n)>>2}function zf(n,r){return-131069&n|r<<2}function Kf(n){return 1|n}function Rg(n,r){const s=n.contentQueries;if(null!==s)for(let a=0;a<s.length;a+=2){const c=s[a],d=s[a+1];if(-1!==d){const m=n.data[d];_a(c),m.contentQueries(2,r[d],d)}}}function hd(n,r,s,a,c,d,m,E,A,j){const W=r.blueprint.slice();return W[0]=c,W[2]=140|a,Pi(W),W[3]=W[15]=n,W[8]=s,W[10]=m||n&&n[10],W[11]=E||n&&n[11],W[12]=A||n&&n[12]||null,W[9]=j||n&&n[9]||null,W[6]=d,W[16]=2==r.type?n[16]:W,W}function gl(n,r,s,a,c){let d=n.data[r];if(null===d)d=function Jf(n,r,s,a,c){const d=Ni(),m=uo(),A=n.data[r]=function Py(n,r,s,a,c,d){return{type:s,index:a,insertBeforeIndex:null,injectorIndex:r?r.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:c,attrs:d,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?d:d&&d.parent,s,r,a,c);return null===n.firstChild&&(n.firstChild=A),null!==d&&(m?null==d.child&&null!==A.parent&&(d.child=A):null===d.next&&(d.next=A)),A}(n,r,s,a,c),function Do(){return Yt.lFrame.inI18n}()&&(d.flags|=64);else if(64&d.type){d.type=s,d.value=a,d.attrs=c;const m=function zi(){const n=Yt.lFrame,r=n.currentTNode;return n.isParent?r:r.parent}();d.injectorIndex=null===m?-1:m.injectorIndex}return Ei(d,!0),d}function qu(n,r,s,a){if(0===s)return-1;const c=r.length;for(let d=0;d<s;d++)r.push(a),n.blueprint.push(a),n.data.push(null);return c}function ml(n,r,s){Cs(r);try{const a=n.viewQuery;null!==a&&bd(1,a,s);const c=n.template;null!==c&&fd(n,r,c,1,s),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Rg(n,r),n.staticViewQueries&&bd(2,n.viewQuery,s);const d=n.components;null!==d&&function Oy(n,r){for(let s=0;s<r.length;s++)Fy(n,r[s])}(r,d)}catch(a){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),a}finally{r[2]&=-5,lo()}}function Oc(n,r,s,a){const c=r[2];if(256==(256&c))return;Cs(r);const d=Ks();try{Pi(r),function ta(n){return Yt.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==s&&fd(n,r,s,2,a);const m=3==(3&c);if(!d)if(m){const j=n.preOrderCheckHooks;null!==j&&Ts(r,j,null)}else{const j=n.preOrderHooks;null!==j&&To(r,j,0,null),$o(r,0)}if(function wl(n){for(let r=Qi(n);null!==r;r=ju(r)){if(!r[2])continue;const s=r[9];for(let a=0;a<s.length;a++){const c=s[a],d=c[3];0==(1024&c[2])&&qr(d,1),c[2]|=1024}}}(r),function jg(n){for(let r=Qi(n);null!==r;r=ju(r))for(let s=10;s<r.length;s++){const a=r[s],c=a[1];Nr(a)&&Oc(c,a,c.template,a[8])}}(r),null!==n.contentQueries&&Rg(n,r),!d)if(m){const j=n.contentCheckHooks;null!==j&&Ts(r,j)}else{const j=n.contentHooks;null!==j&&To(r,j,1),$o(r,1)}!function js(n,r){const s=n.hostBindingOpCodes;if(null!==s)try{for(let a=0;a<s.length;a++){const c=s[a];if(c<0)Ns(~c);else{const d=c,m=s[++a],E=s[++a];Co(m,d),E(2,r[d])}}}finally{Ns(-1)}}(n,r);const E=n.components;null!==E&&function My(n,r){for(let s=0;s<r.length;s++)ap(n,r[s])}(r,E);const A=n.viewQuery;if(null!==A&&bd(2,A,a),!d)if(m){const j=n.viewCheckHooks;null!==j&&Ts(r,j)}else{const j=n.viewHooks;null!==j&&To(r,j,2),$o(r,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),d||(r[2]&=-73),1024&r[2]&&(r[2]&=-1025,qr(r[3],-1))}finally{lo()}}function Xf(n,r,s,a){const c=r[10],d=!Ks(),m=Wn(r);try{d&&!m&&c.begin&&c.begin(),m&&ml(n,r,a),Oc(n,r,s,a)}finally{d&&!m&&c.end&&c.end()}}function fd(n,r,s,a,c){const d=ii(),m=2&a;try{Ns(-1),m&&r.length>20&&bg(n,r,20,Ks()),s(a,c)}finally{Ns(d)}}function _l(n,r,s){!M()||(function Ih(n,r,s,a){const c=s.directiveStart,d=s.directiveEnd;n.firstCreatePass||Ct(s,r),vs(a,r);const m=s.initialInputs;for(let E=c;E<d;E++){const A=n.data[E],j=sn(A);j&&ip(r,s,A);const W=Gt(r,n,E,s);vs(W,r),null!==m&&ky(0,E-c,W,A,0,m),j&&(Cn(s.index,r)[8]=W)}}(n,r,s,pt(s,r)),128==(128&s.flags)&&function _d(n,r,s){const a=s.directiveStart,c=s.directiveEnd,m=s.index,E=function Na(){return Yt.lFrame.currentDirectiveIndex}();try{Ns(m);for(let A=a;A<c;A++){const j=n.data[A],W=r[A];Js(A),(null!==j.hostBindings||0!==j.hostVars||null!==j.hostAttrs)&&Dh(j,W)}}finally{Ns(-1),Js(E)}}(n,r,s))}function pd(n,r,s=pt){const a=r.localNames;if(null!==a){let c=r.index+1;for(let d=0;d<a.length;d+=2){const m=a[d+1],E=-1===m?s(r,n):n[m];n[c++]=E}}}function Eh(n){const r=n.tView;return null===r||r.incompleteFirstPass?n.tView=vl(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):r}function vl(n,r,s,a,c,d,m,E,A,j){const W=20+a,se=W+c,Se=function Pg(n,r){const s=[];for(let a=0;a<r;a++)s.push(a<n?null:Xn);return s}(W,se),Ze="function"==typeof j?j():j;return Se[1]={type:n,blueprint:Se,template:s,queries:null,viewQuery:E,declTNode:r,data:Se.slice().fill(null,W),bindingStartIndex:W,expandoStartIndex:se,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof d?d():d,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:A,consts:Ze,incompleteFirstPass:!1}}function Fg(n,r,s,a){const c=Ah(r);null===s?c.push(a):(c.push(s),n.firstCreatePass&&Sh(n).push(a,c.length-1))}function ep(n,r,s){for(let a in n)if(n.hasOwnProperty(a)){const c=n[a];(s=null===s?{}:s).hasOwnProperty(a)?s[a].push(r,c):s[a]=[r,c]}return s}function yd(n,r,s,a){let c=!1;if(M()){const d=function Ug(n,r,s){const a=n.directiveRegistry;let c=null;if(a)for(let d=0;d<a.length;d++){const m=a[d];rd(s,m.selectors,!1)&&(c||(c=[]),b(Ct(s,r),n,m.type),sn(m)?(Ch(n,s),c.unshift(m)):c.push(m))}return c}(n,r,s),m=null===a?null:{"":-1};if(null!==d){c=!0,rp(s,n.data.length,d.length);for(let W=0;W<d.length;W++){const se=d[W];se.providersResolver&&se.providersResolver(se)}let E=!1,A=!1,j=qu(n,r,d.length,null);for(let W=0;W<d.length;W++){const se=d[W];s.mergedAttrs=mt(s.mergedAttrs,se.hostAttrs),Bg(n,s,r,j,se),Zu(j,se,m),null!==se.contentQueries&&(s.flags|=8),(null!==se.hostBindings||null!==se.hostAttrs||0!==se.hostVars)&&(s.flags|=128);const Se=se.type.prototype;!E&&(Se.ngOnChanges||Se.ngOnInit||Se.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(s.index),E=!0),!A&&(Se.ngOnChanges||Se.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(s.index),A=!0),j++}!function bh(n,r){const a=r.directiveEnd,c=n.data,d=r.attrs,m=[];let E=null,A=null;for(let j=r.directiveStart;j<a;j++){const W=c[j],se=W.inputs,Se=null===d||lh(r)?null:sp(se,d);m.push(Se),E=ep(se,j,E),A=ep(W.outputs,j,A)}null!==E&&(E.hasOwnProperty("class")&&(r.flags|=16),E.hasOwnProperty("style")&&(r.flags|=32)),r.initialInputs=m,r.inputs=E,r.outputs=A}(n,s)}m&&function np(n,r,s){if(r){const a=n.localNames=[];for(let c=0;c<r.length;c+=2){const d=s[r[c+1]];if(null==d)throw new $e(-301,!1);a.push(r[c],d)}}}(s,a,m)}return s.mergedAttrs=mt(s.mergedAttrs,s.attrs),c}function Rc(n,r,s,a,c,d){const m=d.hostBindings;if(m){let E=n.hostBindingOpCodes;null===E&&(E=n.hostBindingOpCodes=[]);const A=~r.index;(function tp(n){let r=n.length;for(;r>0;){const s=n[--r];if("number"==typeof s&&s<0)return s}return 0})(E)!=A&&E.push(A),E.push(a,c,m)}}function Dh(n,r){null!==n.hostBindings&&n.hostBindings(1,r)}function Ch(n,r){r.flags|=2,(n.components||(n.components=[])).push(r.index)}function Zu(n,r,s){if(s){if(r.exportAs)for(let a=0;a<r.exportAs.length;a++)s[r.exportAs[a]]=n;sn(r)&&(s[""]=n)}}function rp(n,r,s){n.flags|=1,n.directiveStart=r,n.directiveEnd=r+s,n.providerIndexes=r}function Bg(n,r,s,a,c){n.data[a]=c;const d=c.factory||(c.factory=pi(c.type)),m=new qi(d,sn(c),null);n.blueprint[a]=m,s[a]=m,Rc(n,r,0,a,qu(n,s,c.hostVars,Xn),c)}function ip(n,r,s){const a=pt(r,n),c=Eh(s),d=n[10],m=wd(n,hd(n,c,null,s.onPush?64:16,a,r,d,d.createRenderer(a,s),null,null));n[r.index]=m}function eu(n,r,s,a,c,d){const m=pt(n,r);!function vd(n,r,s,a,c,d,m){if(null==d)Gn(n)?n.removeAttribute(r,c,s):r.removeAttribute(c);else{const E=null==m?De(d):m(d,a||"",c);Gn(n)?n.setAttribute(r,c,E,s):s?r.setAttributeNS(s,c,E):r.setAttribute(c,E)}}(r[11],m,d,n.value,s,a,c)}function ky(n,r,s,a,c,d){const m=d[r];if(null!==m){const E=a.setInput;for(let A=0;A<m.length;){const j=m[A++],W=m[A++],se=m[A++];null!==E?a.setInput(s,se,j,W):s[W]=se}}}function sp(n,r){let s=null,a=0;for(;a<r.length;){const c=r[a];if(0!==c)if(5!==c){if("number"==typeof c)break;n.hasOwnProperty(c)&&(null===s&&(s=[]),s.push(c,n[c],r[a+1])),a+=2}else a+=2;else a+=4}return s}function Th(n,r,s,a){return new Array(n,!0,!1,r,null,0,a,s,null,null)}function ap(n,r){const s=Cn(r,n);if(Nr(s)){const a=s[1];80&s[2]?Oc(a,s,a.template,s[8]):s[5]>0&&up(s)}}function up(n){for(let a=Qi(n);null!==a;a=ju(a))for(let c=10;c<a.length;c++){const d=a[c];if(1024&d[2]){const m=d[1];Oc(m,d,m.template,d[8])}else d[5]>0&&up(d)}const s=n[1].components;if(null!==s)for(let a=0;a<s.length;a++){const c=Cn(s[a],n);Nr(c)&&c[5]>0&&up(c)}}function Fy(n,r){const s=Cn(r,n),a=s[1];(function $g(n,r){for(let s=r.length;s<n.blueprint.length;s++)r.push(n.blueprint[s])})(a,s),ml(a,s,s[8])}function wd(n,r){return n[13]?n[14][4]=r:n[13]=r,n[14]=r,r}function cp(n){for(;n;){n[2]|=64;const r=Ir(n);if(Kr(n)&&!r)return n;n=r}return null}function Ed(n,r,s){const a=r[10];a.begin&&a.begin();try{Oc(n,r,n.template,s)}catch(c){throw Eu(r,c),c}finally{a.end&&a.end()}}function Hg(n){!function dp(n){for(let r=0;r<n.components.length;r++){const s=n.components[r],a=gu(s),c=a[1];Xf(c,a,c.template,s)}}(n[8])}function bd(n,r,s){_a(0),r(n,s)}const fp=(()=>Promise.resolve(null))();function Ah(n){return n[7]||(n[7]=[])}function Sh(n){return n.cleanup||(n.cleanup=[])}function Eu(n,r){const s=n[9],a=s?s.get(Ui,null):null;a&&a.handleError(r)}function xh(n,r,s,a,c){for(let d=0;d<s.length;){const m=s[d++],E=s[d++],A=r[m],j=n.data[m];null!==j.setInput?j.setInput(A,c,a,E):A[E]=c}}function Uo(n,r,s){const a=Je(r,n);!function ct(n,r,s){Gn(n)?n.setValue(r,s):r.textContent=s}(n[11],a,s)}function bu(n,r,s){let a=s?n.styles:null,c=s?n.classes:null,d=0;if(null!==r)for(let m=0;m<r.length;m++){const E=r[m];"number"==typeof E?d=E:1==d?c=ne(c,E):2==d&&(a=ne(a,E+": "+r[++m]+";"))}s?n.styles=a:n.stylesWithoutHost=a,s?n.classes=c:n.classesWithoutHost=c}const pp=new ti("INJECTOR",-1);class Mh{get(r,s=k){if(s===k){const a=new Error(`NullInjectorError: No provider for ${ae(r)}!`);throw a.name="NullInjectorError",a}return s}}const Id=new ti("Set Injector scope."),Nc={},gp={};let mp;function Wg(){return void 0===mp&&(mp=new Mh),mp}function Oh(n,r=null,s=null,a){const c=Rh(n,r,s,a);return c._resolveInjectorDefTypes(),c}function Rh(n,r=null,s=null,a){return new Uy(n,s,r||Wg(),a)}class Uy{constructor(r,s,a,c=null){this.parent=a,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const d=[];s&&Fs(s,E=>this.processProvider(E,r,s)),Fs([r],E=>this.processInjectorType(E,[],d)),this.records.set(pp,kc(void 0,this));const m=this.records.get(Id);this.scope=null!=m?m.value:null,this.source=c||("object"==typeof r?null:ae(r))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(r=>r.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(r,s=k,a=Rt.Default){this.assertNotDestroyed();const c=Fr(this),d=wn(void 0);try{if(!(a&Rt.SkipSelf)){let E=this.records.get(r);if(void 0===E){const A=function Ep(n){return"function"==typeof n||"object"==typeof n&&n instanceof ti}(r)&&ln(r);E=A&&this.injectableDefInScope(A)?kc(Ph(r),Nc):null,this.records.set(r,E)}if(null!=E)return this.hydrate(r,E)}return(a&Rt.Self?Wg():this.parent).get(r,s=a&Rt.Optional&&s===k?null:s)}catch(m){if("NullInjectorError"===m.name){if((m[fe]=m[fe]||[]).unshift(ae(r)),c)throw m;return function oa(n,r,s,a){const c=n[fe];throw r[Kt]&&c.unshift(r[Kt]),n.message=function pc(n,r,s,a=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let c=ae(r);if(Array.isArray(r))c=r.map(ae).join(" -> ");else if("object"==typeof r){let d=[];for(let m in r)if(r.hasOwnProperty(m)){let E=r[m];d.push(m+":"+("string"==typeof E?JSON.stringify(E):ae(E)))}c=`{${d.join(", ")}}`}return`${s}${a?"("+a+")":""}[${c}]: ${n.replace(st,"\n  ")}`}("\n"+n.message,c,s,a),n.ngTokenPath=c,n[fe]=null,n}(m,r,"R3InjectorError",this.source)}throw m}finally{wn(d),Fr(c)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(r=>this.get(r))}toString(){const r=[];return this.records.forEach((a,c)=>r.push(ae(c))),`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new $e(205,!1)}processInjectorType(r,s,a){if(!(r=re(r)))return!1;let c=xn(r);const d=null==c&&r.ngModule||void 0,m=void 0===d?r:d,E=-1!==a.indexOf(m);if(void 0!==d&&(c=xn(d)),null==c)return!1;if(null!=c.imports&&!E){let W;a.push(m);try{Fs(c.imports,se=>{this.processInjectorType(se,s,a)&&(void 0===W&&(W=[]),W.push(se))})}finally{}if(void 0!==W)for(let se=0;se<W.length;se++){const{ngModule:Se,providers:Ze}=W[se];Fs(Ze,gt=>this.processProvider(gt,Se,Ze||pe))}}this.injectorDefTypes.add(m);const A=pi(m)||(()=>new m);this.records.set(m,kc(A,Nc));const j=c.providers;if(null!=j&&!E){const W=r;Fs(j,se=>this.processProvider(se,W,j))}return void 0!==d&&void 0!==r.providers}processProvider(r,s,a){let c=bl(r=re(r))?r:re(r&&r.provide);const d=function zg(n,r,s){return _p(n)?kc(void 0,n.useValue):kc(yp(n),Nc)}(r);if(bl(r)||!0!==r.multi)this.records.get(c);else{let m=this.records.get(c);m||(m=kc(void 0,Nc,!0),m.factory=()=>Ba(m.multi),this.records.set(c,m)),c=r,m.multi.push(r)}this.records.set(c,d)}hydrate(r,s){return s.value===Nc&&(s.value=gp,s.value=s.factory()),"object"==typeof s.value&&s.value&&function wp(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(s.value)&&this.onDestroy.add(s.value),s.value}injectableDefInScope(r){if(!r.providedIn)return!1;const s=re(r.providedIn);return"string"==typeof s?"any"===s||s===this.scope:this.injectorDefTypes.has(s)}}function Ph(n){const r=ln(n),s=null!==r?r.factory:pi(n);if(null!==s)return s;if(n instanceof ti)throw new $e(204,!1);if(n instanceof Function)return function By(n){const r=n.length;if(r>0)throw function xs(n,r){const s=[];for(let a=0;a<n;a++)s.push(r);return s}(r,"?"),new $e(204,!1);const s=function Zn(n){const r=n&&(n[lr]||n[tr]);if(r){const s=function Ln(n){if(n.hasOwnProperty("name"))return n.name;const r=(""+n).match(/^function\s*([^\s(]+)/);return null===r?"":r[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${s}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${s}" class.`),r}return null}(n);return null!==s?()=>s.factory(n):()=>new n}(n);throw new $e(204,!1)}function yp(n,r,s){let a;if(bl(n)){const c=re(n);return pi(c)||Ph(c)}if(_p(n))a=()=>re(n.useValue);else if(function $y(n){return!(!n||!n.useFactory)}(n))a=()=>n.useFactory(...Ba(n.deps||[]));else if(function jy(n){return!(!n||!n.useExisting)}(n))a=()=>Br(re(n.useExisting));else{const c=re(n&&(n.useClass||n.provide));if(!function vp(n){return!!n.deps}(n))return pi(c)||Ph(c);a=()=>new c(...Ba(n.deps))}return a}function kc(n,r,s=!1){return{factory:n,value:r,multi:s?[]:void 0}}function _p(n){return null!==n&&"object"==typeof n&&tn in n}function bl(n){return"function"==typeof n}let Ca=(()=>{class n{static create(s,a){var c;if(Array.isArray(s))return Oh({name:""},a,s,"");{const d=null!==(c=s.name)&&void 0!==c?c:"";return Oh({name:d},s.parent,s.providers,d)}}}return n.THROW_IF_NOT_FOUND=k,n.NULL=new Mh,n.\u0275prov=$t({token:n,providedIn:"any",factory:()=>Br(pp)}),n.__NG_ELEMENT_ID__=-1,n})();function Cp(n,r){ms(gu(n)[1],ur())}function Tp(n){let r=function Bh(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),s=!0;const a=[n];for(;r;){let c;if(sn(n))c=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new $e(903,"");c=r.\u0275dir}if(c){if(s){a.push(c);const m=n;m.inputs=Sp(n.inputs),m.declaredInputs=Sp(n.declaredInputs),m.outputs=Sp(n.outputs);const E=c.hostBindings;E&&Mp(n,E);const A=c.viewQuery,j=c.contentQueries;if(A&&xp(n,A),j&&rm(n,j),ye(n.inputs,c.inputs),ye(n.declaredInputs,c.declaredInputs),ye(n.outputs,c.outputs),sn(c)&&c.data.animation){const W=n.data;W.animation=(W.animation||[]).concat(c.data.animation)}}const d=c.features;if(d)for(let m=0;m<d.length;m++){const E=d[m];E&&E.ngInherit&&E(n),E===Tp&&(s=!1)}}r=Object.getPrototypeOf(r)}!function Ap(n){let r=0,s=null;for(let a=n.length-1;a>=0;a--){const c=n[a];c.hostVars=r+=c.hostVars,c.hostAttrs=mt(c.hostAttrs,s=mt(s,c.hostAttrs))}}(a)}function Sp(n){return n===nr?{}:n===pe?[]:n}function xp(n,r){const s=n.viewQuery;n.viewQuery=s?(a,c)=>{r(a,c),s(a,c)}:r}function rm(n,r){const s=n.contentQueries;n.contentQueries=s?(a,c,d)=>{r(a,c,d),s(a,c,d)}:r}function Mp(n,r){const s=n.hostBindings;n.hostBindings=s?(a,c)=>{r(a,c),s(a,c)}:r}let Il=null;function Dl(){if(!Il){const n=Dn.Symbol;if(n&&n.iterator)Il=n.iterator;else{const r=Object.getOwnPropertyNames(Map.prototype);for(let s=0;s<r.length;++s){const a=r[s];"entries"!==a&&"size"!==a&&Map.prototype[a]===Map.prototype.entries&&(Il=a)}}}return Il}function Fc(n){return!!jh(n)&&(Array.isArray(n)||!(n instanceof Map)&&Dl()in n)}function jh(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function $s(n,r,s){return!Object.is(n[r],s)&&(n[r]=s,!0)}function Pp(n,r,s,a){const c=Ge();return $s(c,rs(),r)&&(Qt(),eu(si(),c,n,r,s,a)),Pp}function Fp(n,r,s,a,c,d,m,E){const A=Ge(),j=Qt(),W=n+20,se=j.firstCreatePass?function Yy(n,r,s,a,c,d,m,E,A){const j=r.consts,W=gl(r,n,4,m||null,fr(j,E));yd(r,s,W,fr(j,A)),ms(r,W);const se=W.tViews=vl(2,W,a,c,d,r.directiveRegistry,r.pipeRegistry,null,r.schemas,j);return null!==r.queries&&(r.queries.template(r,W),se.queries=r.queries.embeddedTView(W)),W}(W,j,A,r,s,a,c,d,m):j.data[W];Ei(se,!1);const Se=A[11].createComment("");nd(j,A,Se,se),vs(Se,A),wd(A,A[W]=Th(Se,A,Se,se)),Vt(se)&&_l(j,A,se),null!=m&&pd(A,se,E)}function Al(n,r=Rt.Default){const s=Ge();return null===s?Br(n,r):S(ur(),s,re(n),r)}function tu(){throw new Error("invalid")}function Em(n,r,s){const a=Ge();return $s(a,rs(),r)&&function bo(n,r,s,a,c,d,m,E){const A=pt(r,s);let W,j=r.inputs;!E&&null!=j&&(W=j[a])?(xh(n,s,W,a,c),dt(r)&&function Lg(n,r){const s=Cn(r,n);16&s[2]||(s[2]|=64)}(s,r.index)):3&r.type&&(a=function gd(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(a),c=null!=m?m(c,r.value||"",a):c,Gn(d)?d.setProperty(A,a,c):me(a)||(A.setProperty?A.setProperty(a,c):A[a]=c))}(Qt(),si(),a,n,r,a[11],s,!1),Em}function fa(n,r,s,a,c){const m=c?"class":"style";xh(n,s,r.inputs[m],m,a)}function $c(n,r,s,a){const c=Ge(),d=Qt(),m=20+n,E=c[11],A=c[m]=io(E,r,function ho(){return Yt.lFrame.currentNamespace}()),j=d.firstCreatePass?function jc(n,r,s,a,c,d,m){const E=r.consts,j=gl(r,n,2,c,fr(E,d));return yd(r,s,j,fr(E,m)),null!==j.attrs&&bu(j,j.attrs,!1),null!==j.mergedAttrs&&bu(j,j.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,j),j}(m,d,c,0,r,s,a):d.data[m];Ei(j,!0);const W=j.mergedAttrs;null!==W&&D(E,A,W);const se=j.classes;null!==se&&uh(E,A,se);const Se=j.styles;return null!==Se&&mg(E,A,Se),64!=(64&j.flags)&&nd(d,c,A,j),0===function zs(){return Yt.lFrame.elementDepthCount}()&&vs(A,c),function F(){Yt.lFrame.elementDepthCount++}(),Vt(j)&&(_l(d,c,j),function yl(n,r,s){if(Be(r)){const c=r.directiveEnd;for(let d=r.directiveStart;d<c;d++){const m=n.data[d];m.contentQueries&&m.contentQueries(1,s[d],d)}}}(d,j,c)),null!==a&&pd(c,j),$c}function Jh(){let n=ur();uo()?function Qs(){Yt.lFrame.isParent=!1}():(n=n.parent,Ei(n,!1));const r=n;!function R(){Yt.lFrame.elementDepthCount--}();const s=Qt();return s.firstCreatePass&&(ms(s,n),Be(n)&&s.queries.elementEnd(n)),null!=r.classesWithoutHost&&function Wo(n){return 0!=(16&n.flags)}(r)&&fa(s,r,Ge(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function fs(n){return 0!=(32&n.flags)}(r)&&fa(s,r,Ge(),r.stylesWithoutHost,!1),Jh}function Up(n,r,s,a){return $c(n,r,s,a),Jh(),Up}function Td(){return Ge()}function Hc(n){return!!n&&"function"==typeof n.then}function jp(n){return!!n&&"function"==typeof n.subscribe}const Xh=jp;function $p(n,r,s,a){const c=Ge(),d=Qt(),m=ur();return function ef(n,r,s,a,c,d,m,E){const A=Vt(a),W=n.firstCreatePass&&Sh(n),se=r[8],Se=Ah(r);let Ze=!0;if(3&a.type||E){const zt=pt(a,r),pn=E?E(zt):zt,It=Se.length,Sn=E?Or=>E(P(Or[a.index])):a.index;if(Gn(s)){let Or=null;if(!E&&A&&(Or=function u_(n,r,s,a){const c=n.cleanup;if(null!=c)for(let d=0;d<c.length-1;d+=2){const m=c[d];if(m===s&&c[d+1]===a){const E=r[7],A=c[d+2];return E.length>A?E[A]:null}"string"==typeof m&&(d+=2)}return null}(n,r,c,a.index)),null!==Or)(Or.__ngLastListenerFn__||Or).__ngNextListenerFn__=d,Or.__ngLastListenerFn__=d,Ze=!1;else{d=nf(a,r,se,d,!1);const hi=s.listen(pn,c,d);Se.push(d,hi),W&&W.push(c,Sn,It,It+1)}}else d=nf(a,r,se,d,!0),pn.addEventListener(c,d,m),Se.push(d),W&&W.push(c,Sn,It,m)}else d=nf(a,r,se,d,!1);const gt=a.outputs;let Ft;if(Ze&&null!==gt&&(Ft=gt[c])){const zt=Ft.length;if(zt)for(let pn=0;pn<zt;pn+=2){const Ra=r[Ft[pn]][Ft[pn+1]].subscribe(d),Fd=Se.length;Se.push(d,Ra),W&&W.push(c,a.index,Fd,-(Fd+1))}}}(d,c,c[11],m,n,r,!!s,a),$p}function tf(n,r,s,a){try{return!1!==s(a)}catch(c){return Eu(n,c),!1}}function nf(n,r,s,a,c){return function d(m){if(m===Function)return a;const E=2&n.flags?Cn(n.index,r):r;0==(32&r[2])&&cp(E);let A=tf(r,0,a,m),j=d.__ngNextListenerFn__;for(;j;)A=tf(r,0,j,m)&&A,j=j.__ngNextListenerFn__;return c&&!1===A&&(m.preventDefault(),m.returnValue=!1),A}}function rc(n=1){return function eo(n){return(Yt.lFrame.contextLView=function va(n,r){for(;n>0;)r=r[15],n--;return r}(n,Yt.lFrame.contextLView))[8]}(n)}function zp(n,r,s,a,c){const d=n[s+1],m=null===r;let E=a?Bs(d):wu(d),A=!1;for(;0!==E&&(!1===A||m);){const W=n[E+1];Am(n[E],r)&&(A=!0,n[E+1]=a?Kf(W):ph(W)),E=a?Bs(W):wu(W)}A&&(n[s+1]=a?ph(d):Kf(d))}function Am(n,r){return null===n||null==r||(Array.isArray(n)?n[1]:n)===r||!(!Array.isArray(n)||"string"!=typeof r)&&_o(n,r)>=0}function of(n,r){return function xa(n,r,s,a){const c=Ge(),d=Qt(),m=function ki(n){const r=Yt.lFrame,s=r.bindingIndex;return r.bindingIndex=r.bindingIndex+n,s}(2);d.firstUpdatePass&&function km(n,r,s,a){const c=n.data;if(null===c[s+1]){const d=c[ii()],m=function Tu(n,r){return r>=n.expandoStartIndex}(n,s);(function uf(n,r){return 0!=(n.flags&(r?16:32))})(d,a)&&null===r&&!m&&(r=!1),r=function Gc(n,r,s,a){const c=function ya(n){const r=Yt.lFrame.currentDirectiveIndex;return-1===r?null:n[r]}(n);let d=a?r.residualClasses:r.residualStyles;if(null===c)0===(a?r.classBindings:r.styleBindings)&&(s=Md(s=Yp(null,n,r,s,a),r.attrs,a),d=null);else{const m=r.directiveStylingLast;if(-1===m||n[m]!==c)if(s=Yp(c,n,r,s,a),null===d){let A=function p_(n,r,s){const a=s?r.classBindings:r.styleBindings;if(0!==wu(a))return n[Bs(a)]}(n,r,a);void 0!==A&&Array.isArray(A)&&(A=Yp(null,n,r,A[1],a),A=Md(A,r.attrs,a),function g_(n,r,s,a){n[Bs(s?r.classBindings:r.styleBindings)]=a}(n,r,a,A))}else d=function m_(n,r,s){let a;const c=r.directiveEnd;for(let d=1+r.directiveStylingLast;d<c;d++)a=Md(a,n[d].hostAttrs,s);return Md(a,r.attrs,s)}(n,r,a)}return void 0!==d&&(a?r.residualClasses=d:r.residualStyles=d),s}(c,d,r,a),function sc(n,r,s,a,c,d){let m=d?r.classBindings:r.styleBindings,E=Bs(m),A=wu(m);n[a]=s;let W,j=!1;if(Array.isArray(s)){const se=s;W=se[1],(null===W||_o(se,W)>0)&&(j=!0)}else W=s;if(c)if(0!==A){const Se=Bs(n[E+1]);n[a+1]=id(Se,E),0!==Se&&(n[Se+1]=zf(n[Se+1],a)),n[E+1]=function Wf(n,r){return 131071&n|r<<17}(n[E+1],a)}else n[a+1]=id(E,0),0!==E&&(n[E+1]=zf(n[E+1],a)),E=a;else n[a+1]=id(A,0),0===E?E=a:n[A+1]=zf(n[A+1],a),A=a;j&&(n[a+1]=ph(n[a+1])),zp(n,W,a,!0),zp(n,W,a,!1),function c_(n,r,s,a,c){const d=c?n.residualClasses:n.residualStyles;null!=d&&"string"==typeof r&&_o(d,r)>=0&&(s[a+1]=Kf(s[a+1]))}(r,W,n,a,d),m=id(E,A),d?r.classBindings=m:r.styleBindings=m}(c,d,r,s,m,a)}}(d,n,m,a),r!==Xn&&$s(c,m,r)&&function Lm(n,r,s,a,c,d,m,E){if(!(3&r.type))return;const A=n.data,j=A[E+1];af(function Ig(n){return 1==(1&n)}(j)?Jp(A,r,s,c,wu(j),m):void 0)||(af(d)||function Ku(n){return 2==(2&n)}(j)&&(d=Jp(A,null,s,c,E,m)),function vy(n,r,s,a,c){const d=Gn(n);if(r)c?d?n.addClass(s,a):s.classList.add(a):d?n.removeClass(s,a):s.classList.remove(a);else{let m=-1===a.indexOf("-")?void 0:Xe.DashCase;if(null==c)d?n.removeStyle(s,a,m):s.style.removeProperty(a);else{const E="string"==typeof c&&c.endsWith("!important");E&&(c=c.slice(0,-10),m|=Xe.Important),d?n.setStyle(s,a,c,m):s.style.setProperty(a,c,E?"important":"")}}}(a,m,Je(ii(),s),c,d))}(d,d.data[ii()],c,c[11],n,c[m+1]=function Ol(n,r){return null==n||("string"==typeof r?n+=r:"object"==typeof n&&(n=ae(la(n)))),n}(r,s),a,m)}(n,r,null,!0),of}function Yp(n,r,s,a,c){let d=null;const m=s.directiveEnd;let E=s.directiveStylingLast;for(-1===E?E=s.directiveStart:E++;E<m&&(d=r[E],a=Md(a,d.hostAttrs,c),d!==n);)E++;return null!==n&&(s.directiveStylingLast=E),a}function Md(n,r,s){const a=s?1:2;let c=-1;if(null!==r)for(let d=0;d<r.length;d++){const m=r[d];"number"==typeof m?c=m:c===a&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),li(n,m,!!s||r[++d]))}return void 0===n?null:n}function Jp(n,r,s,a,c,d){const m=null===r;let E;for(;c>0;){const A=n[c],j=Array.isArray(A),W=j?A[1]:A,se=null===W;let Se=s[c+1];Se===Xn&&(Se=se?pe:void 0);let Ze=se?ou(Se,a):W===a?Se:void 0;if(j&&!af(Ze)&&(Ze=ou(A,a)),af(Ze)&&(E=Ze,m))return E;const gt=n[c+1];c=m?Bs(gt):wu(gt)}if(null!==r){let A=d?r.residualClasses:r.residualStyles;null!=A&&(E=ou(A,a))}return E}function af(n){return void 0!==n}function Vm(n,r=""){const s=Ge(),a=Qt(),c=n+20,d=a.firstCreatePass?gl(a,c,1,r,null):a.data[c],m=s[c]=function Dc(n,r){return Gn(n)?n.createText(r):n.createTextNode(r)}(s[11],r);nd(a,s,m,d),Ei(d,!1)}function Xp(n){return cf("",n,""),Xp}function cf(n,r,s){const a=Ge(),c=function Tl(n,r,s,a){return $s(n,rs(),s)?r+De(s)+a:Xn}(a,n,r,s);return c!==Xn&&Uo(a,ii(),c),cf}const Kc=void 0;var D_=["en",[["a","p"],["AM","PM"],Kc],[["AM","PM"],Kc,Kc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Kc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Kc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Kc,"{1} 'at' {0}",Kc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function uc(n){const s=Math.floor(Math.abs(n)),a=n.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===a?1:5}];let Nl={};function ff(n){const r=function rg(n){return n.toLowerCase().replace(/_/g,"-")}(n);let s=Rd(r);if(s)return s;const a=r.split("-")[0];if(s=Rd(a),s)return s;if("en"===a)return D_;throw new Error(`Missing locale data for the locale "${n}".`)}function pf(n){return ff(n)[Rn.PluralCase]}function Rd(n){return n in Nl||(Nl[n]=Dn.ng&&Dn.ng.common&&Dn.ng.common.locales&&Dn.ng.common.locales[n]),Nl[n]}var Rn=(()=>((Rn=Rn||{})[Rn.LocaleId=0]="LocaleId",Rn[Rn.DayPeriodsFormat=1]="DayPeriodsFormat",Rn[Rn.DayPeriodsStandalone=2]="DayPeriodsStandalone",Rn[Rn.DaysFormat=3]="DaysFormat",Rn[Rn.DaysStandalone=4]="DaysStandalone",Rn[Rn.MonthsFormat=5]="MonthsFormat",Rn[Rn.MonthsStandalone=6]="MonthsStandalone",Rn[Rn.Eras=7]="Eras",Rn[Rn.FirstDayOfWeek=8]="FirstDayOfWeek",Rn[Rn.WeekendRange=9]="WeekendRange",Rn[Rn.DateFormat=10]="DateFormat",Rn[Rn.TimeFormat=11]="TimeFormat",Rn[Rn.DateTimeFormat=12]="DateTimeFormat",Rn[Rn.NumberSymbols=13]="NumberSymbols",Rn[Rn.NumberFormats=14]="NumberFormats",Rn[Rn.CurrencyCode=15]="CurrencyCode",Rn[Rn.CurrencySymbol=16]="CurrencySymbol",Rn[Rn.CurrencyName=17]="CurrencyName",Rn[Rn.Currencies=18]="Currencies",Rn[Rn.Directionality=19]="Directionality",Rn[Rn.PluralCase=20]="PluralCase",Rn[Rn.ExtraData=21]="ExtraData",Rn))();const Pd="en-US";let ny=Pd;function x_(n,r,s,a,c){if(n=re(n),Array.isArray(n))for(let d=0;d<n.length;d++)x_(n[d],r,s,a,c);else{const d=Qt(),m=Ge();let E=bl(n)?n:re(n.provide),A=yp(n);const j=ur(),W=1048575&j.providerIndexes,se=j.directiveStart,Se=j.providerIndexes>>20;if(bl(n)||!n.multi){const Ze=new qi(A,c,Al),gt=O_(E,r,c?W:W+Se,se);-1===gt?(b(Ct(j,m),d,E),M_(d,n,r.length),r.push(E),j.directiveStart++,j.directiveEnd++,c&&(j.providerIndexes+=1048576),s.push(Ze),m.push(Ze)):(s[gt]=Ze,m[gt]=Ze)}else{const Ze=O_(E,r,W+Se,se),gt=O_(E,r,W,W+Se),Ft=Ze>=0&&s[Ze],zt=gt>=0&&s[gt];if(c&&!zt||!c&&!Ft){b(Ct(j,m),d,E);const pn=function nE(n,r,s,a,c){const d=new qi(n,s,Al);return d.multi=[],d.index=r,d.componentProviders=0,Xv(d,c,a&&!s),d}(c?tE:eE,s.length,c,a,A);!c&&zt&&(s[gt].providerFactory=pn),M_(d,n,r.length,0),r.push(E),j.directiveStart++,j.directiveEnd++,c&&(j.providerIndexes+=1048576),s.push(pn),m.push(pn)}else M_(d,n,Ze>-1?Ze:gt,Xv(s[c?gt:Ze],A,!c&&a));!c&&a&&zt&&s[gt].componentProviders++}}}function M_(n,r,s,a){const c=bl(r),d=function Hy(n){return!!n.useClass}(r);if(c||d){const A=(d?re(r.useClass):r).prototype.ngOnDestroy;if(A){const j=n.destroyHooks||(n.destroyHooks=[]);if(!c&&r.multi){const W=j.indexOf(s);-1===W?j.push(s,[a,A]):j[W+1].push(a,A)}else j.push(s,A)}}}function Xv(n,r,s){return s&&n.componentProviders++,n.multi.push(r)-1}function O_(n,r,s,a){for(let c=s;c<a;c++)if(r[c]===n)return c;return-1}function eE(n,r,s,a){return R_(this.multi,[])}function tE(n,r,s,a){const c=this.multi;let d;if(this.providerFactory){const m=this.providerFactory.componentProviders,E=Gt(s,s[1],this.providerFactory.index,a);d=E.slice(0,m),R_(c,d);for(let A=m;A<E.length;A++)d.push(E[A])}else d=[],R_(c,d);return d}function R_(n,r){for(let s=0;s<n.length;s++)r.push((0,n[s])());return r}function ew(n,r=[]){return s=>{s.providersResolver=(a,c)=>function X0(n,r,s){const a=Qt();if(a.firstCreatePass){const c=sn(n);x_(s,a.data,a.blueprint,c,!0),x_(r,a.data,a.blueprint,c,!1)}}(a,c?c(n):n,r)}}class tw{}class sE{resolveComponentFactory(r){throw function iE(n){const r=Error(`No component factory found for ${ae(n)}. Did you add it to @NgModule.entryComponents?`);return r.ngComponent=n,r}(r)}}let ay=(()=>{class n{}return n.NULL=new sE,n})();function oE(){return vf(ur(),Ge())}function vf(n,r){return new sg(pt(n,r))}let sg=(()=>{class n{constructor(s){this.nativeElement=s}}return n.__NG_ELEMENT_ID__=oE,n})();function aE(n){return n instanceof sg?n.nativeElement:n}class rw{}let uE=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function lE(){const n=Ge(),s=Cn(ur().index,n);return function cE(n){return n[11]}(de(s)?s:n)}(),n})(),dE=(()=>{class n{}return n.\u0275prov=$t({token:n,providedIn:"root",factory:()=>null}),n})();class iw{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const sw=new iw("13.2.6"),P_={};function uy(n,r,s,a,c=!1){for(;null!==s;){const d=r[s.index];if(null!==d&&a.push(P(d)),Q(d))for(let E=10;E<d.length;E++){const A=d[E],j=A[1].firstChild;null!==j&&uy(A[1],A,j,a)}const m=s.type;if(8&m)uy(n,r,s.child,a);else if(32&m){const E=Xt(s,r);let A;for(;A=E();)a.push(A)}else if(16&m){const E=$f(r,s);if(Array.isArray(E))a.push(...E);else{const A=Ir(r[16]);uy(A[1],A,E,a,!0)}}s=c?s.projectionNext:s.next}return a}class og{constructor(r,s){this._lView=r,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const r=this._lView,s=r[1];return uy(s,r,s.firstChild,[])}get context(){return this._lView[8]}set context(r){this._lView[8]=r}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[3];if(Q(r)){const s=r[8],a=s?s.indexOf(this):-1;a>-1&&(nh(r,a),Ls(s,a))}this._attachedToViewContainer=!1}Ms(this._lView[1],this._lView)}onDestroy(r){Fg(this._lView[1],this._lView,null,r)}markForCheck(){cp(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Ed(this._lView[1],this._lView,this.context)}checkNoChanges(){!function hp(n,r,s){Ds(!0);try{Ed(n,r,s)}finally{Ds(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new $e(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function _u(n,r){Gu(n,r,r[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new $e(902,"");this._appRef=r}}class hE extends og{constructor(r){super(r),this._view=r}detectChanges(){Hg(this._view)}checkNoChanges(){!function Ly(n){Ds(!0);try{Hg(n)}finally{Ds(!1)}}(this._view)}get context(){return null}}class ow extends ay{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const s=rr(r);return new N_(s,this.ngModule)}}function aw(n){const r=[];for(let s in n)n.hasOwnProperty(s)&&r.push({propName:n[s],templateName:s});return r}class N_ extends tw{constructor(r,s){super(),this.componentDef=r,this.ngModule=s,this.componentType=r.type,this.selector=function Wu(n){return n.map(Eg).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!s}get inputs(){return aw(this.componentDef.inputs)}get outputs(){return aw(this.componentDef.outputs)}create(r,s,a,c){const d=(c=c||this.ngModule)?function pE(n,r){return{get:(s,a,c)=>{const d=n.get(s,P_,c);return d!==P_||a===P_?d:r.get(s,a,c)}}}(r,c.injector):r,m=d.get(rw,N),E=d.get(dE,null),A=m.createRenderer(null,this.componentDef),j=this.componentDef.selectors[0][0]||"div",W=a?function kg(n,r,s){if(Gn(n))return n.selectRootElement(r,s===Et.ShadowDom);let a="string"==typeof r?n.querySelector(r):r;return a.textContent="",a}(A,a,this.componentDef.encapsulation):io(m.createRenderer(null,this.componentDef),j,function fE(n){const r=n.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(j)),se=this.componentDef.onPush?576:528,Se=function nm(n,r){return{components:[],scheduler:n||Eo,clean:fp,playerHandler:r||null,flags:0}}(),Ze=vl(0,null,null,1,0,null,null,null,null,null),gt=hd(null,Ze,Se,se,null,null,m,A,E,d);let Ft,zt;Cs(gt);try{const pn=function Uh(n,r,s,a,c,d){const m=s[1];s[20]=n;const A=gl(m,20,2,"#host",null),j=A.mergedAttrs=r.hostAttrs;null!==j&&(bu(A,j,!0),null!==n&&(D(c,n,j),null!==A.classes&&uh(c,n,A.classes),null!==A.styles&&mg(c,n,A.styles)));const W=a.createRenderer(n,r),se=hd(s,Eh(r),null,r.onPush?64:16,s[20],A,a,W,d||null,null);return m.firstCreatePass&&(b(Ct(A,s),m,r.type),Ch(m,A),rp(A,s.length,1)),wd(s,se),s[20]=se}(W,this.componentDef,gt,m,A);if(W)if(a)D(A,W,["ng-version",sw.full]);else{const{attrs:It,classes:Sn}=function fl(n){const r=[],s=[];let a=1,c=2;for(;a<n.length;){let d=n[a];if("string"==typeof d)2===c?""!==d&&r.push(d,n[++a]):8===c&&s.push(d);else{if(!Lo(c))break;c=d}a++}return{attrs:r,classes:s}}(this.componentDef.selectors[0]);It&&D(A,W,It),Sn&&Sn.length>0&&uh(A,W,Sn.join(" "))}if(zt=_n(Ze,20),void 0!==s){const It=zt.projection=[];for(let Sn=0;Sn<this.ngContentSelectors.length;Sn++){const Or=s[Sn];It.push(null!=Or?Array.from(Or):null)}}Ft=function tm(n,r,s,a,c){const d=s[1],m=function md(n,r,s){const a=ur();n.firstCreatePass&&(s.providersResolver&&s.providersResolver(s),Bg(n,a,r,qu(n,r,1,null),s));const c=Gt(r,n,a.directiveStart,a);vs(c,r);const d=pt(a,r);return d&&vs(d,r),c}(d,s,r);if(a.components.push(m),n[8]=m,c&&c.forEach(A=>A(m,r)),r.contentQueries){const A=ur();r.contentQueries(1,m,A.directiveStart)}const E=ur();return!d.firstCreatePass||null===r.hostBindings&&null===r.hostAttrs||(Ns(E.index),Rc(s[1],E,0,E.directiveStart,E.directiveEnd,r),Dh(r,m)),m}(pn,this.componentDef,gt,Se,[Cp]),ml(Ze,gt,null)}finally{lo()}return new mE(this.componentType,Ft,vf(zt,gt),gt,zt)}}class mE extends class rE{}{constructor(r,s,a,c,d){super(),this.location=a,this._rootLView=c,this._tNode=d,this.instance=s,this.hostView=this.changeDetectorRef=new hE(c),this.componentType=r}get injector(){return new sr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}class wf{}class uw{}const Ef=new Map;class dw extends wf{constructor(r,s){super(),this._parent=s,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new ow(this);const a=Un(r);this._bootstrapComponents=h(a.bootstrap),this._r3Injector=Rh(r,s,[{provide:wf,useValue:this},{provide:ay,useValue:this.componentFactoryResolver}],ae(r)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(r)}get(r,s=Ca.THROW_IF_NOT_FOUND,a=Rt.Default){return r===Ca||r===wf||r===pp?this:this._r3Injector.get(r,s,a)}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class k_ extends uw{constructor(r){super(),this.moduleType=r,null!==Un(r)&&function _E(n){const r=new Set;!function s(a){const c=Un(a,!0),d=c.id;null!==d&&(function cw(n,r,s){if(r&&r!==s)throw new Error(`Duplicate module registered for ${n} - ${ae(r)} vs ${ae(r.name)}`)}(d,Ef.get(d),a),Ef.set(d,a));const m=h(c.imports);for(const E of m)r.has(E)||(r.add(E),s(E))}(n)}(r)}create(r){return new dw(this.moduleType,r)}}function hw(n,r,s,a,c,d){const m=r+s;return $s(n,m,c)?function Ta(n,r,s){return n[r]=s}(n,m+1,d?a.call(d,c):a(c)):function ag(n,r){const s=n[r];return s===Xn?void 0:s}(n,m+1)}function yw(n,r){const s=Qt();let a;const c=n+20;s.firstCreatePass?(a=function xE(n,r){if(r)for(let s=r.length-1;s>=0;s--){const a=r[s];if(n===a.name)return a}}(r,s.pipeRegistry),s.data[c]=a,a.onDestroy&&(s.destroyHooks||(s.destroyHooks=[])).push(c,a.onDestroy)):a=s.data[c];const d=a.factory||(a.factory=pi(a.type)),m=wn(Al);try{const E=go(!1),A=d();return go(E),function Qy(n,r,s,a){s>=n.data.length&&(n.data[s]=null,n.blueprint[s]=null),r[s]=a}(s,Ge(),c,A),A}finally{wn(m)}}function _w(n,r,s){const a=n+20,c=Ge(),d=function kn(n,r){return n[r]}(c,a);return function ug(n,r){return n[1].data[r].pure}(c,a)?hw(c,function Xr(){const n=Yt.lFrame;let r=n.bindingRootIndex;return-1===r&&(r=n.bindingRootIndex=n.tView.bindingStartIndex),r}(),r,d.transform,s,d):d.transform(s)}function F_(n){return r=>{setTimeout(n,void 0,r)}}const cc=class NE extends p.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,s,a){var c,d,m;let E=r,A=s||(()=>null),j=a;if(r&&"object"==typeof r){const se=r;E=null===(c=se.next)||void 0===c?void 0:c.bind(se),A=null===(d=se.error)||void 0===d?void 0:d.bind(se),j=null===(m=se.complete)||void 0===m?void 0:m.bind(se)}this.__isAsync&&(A=F_(A),E&&(E=F_(E)),j&&(j=F_(j)));const W=super.subscribe({next:E,error:A,complete:j});return r instanceof L.w0&&r.add(W),W}};function kE(){return this._results[Dl()]()}class L_{constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=Dl(),a=L_.prototype;a[s]||(a[s]=kE)}get changes(){return this._changes||(this._changes=new cc)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,s){return this._results.reduce(r,s)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,s){const a=this;a.dirty=!1;const c=Ai(r);(this._changesDetected=!function Va(n,r,s){if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++){let c=n[a],d=r[a];if(s&&(c=s(c),d=s(d)),d!==c)return!1}return!0}(a._results,c,s))&&(a._results=c,a.length=c.length,a.last=c[this.length-1],a.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let cg=(()=>{class n{}return n.__NG_ELEMENT_ID__=VE,n})();const FE=cg,LE=class extends FE{constructor(r,s,a){super(),this._declarationLView=r,this._declarationTContainer=s,this.elementRef=a}createEmbeddedView(r){const s=this._declarationTContainer.tViews,a=hd(this._declarationLView,s,r,16,null,s.declTNode,null,null,null,null);a[17]=this._declarationLView[this._declarationTContainer.index];const d=this._declarationLView[19];return null!==d&&(a[19]=d.createEmbeddedView(s)),ml(s,a,r),new og(a)}};function VE(){return cy(ur(),Ge())}function cy(n,r){return 4&n.type?new LE(r,n,vf(n,r)):null}let ly=(()=>{class n{}return n.__NG_ELEMENT_ID__=UE,n})();function UE(){return Ew(ur(),Ge())}const BE=ly,vw=class extends BE{constructor(r,s,a){super(),this._lContainer=r,this._hostTNode=s,this._hostLView=a}get element(){return vf(this._hostTNode,this._hostLView)}get injector(){return new sr(this._hostTNode,this._hostLView)}get parentInjector(){const r=Ea(this._hostTNode,this._hostLView);if(ei(r)){const s=Fi(r,this._hostLView),a=Qn(r);return new sr(s[1].data[a+8],s)}return new sr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const s=ww(this._lContainer);return null!==s&&s[r]||null}get length(){return this._lContainer.length-10}createEmbeddedView(r,s,a){const c=r.createEmbeddedView(s||{});return this.insert(c,a),c}createComponent(r,s,a,c,d){const m=r&&!function qs(n){return"function"==typeof n}(r);let E;if(m)E=s;else{const se=s||{};E=se.index,a=se.injector,c=se.projectableNodes,d=se.ngModuleRef}const A=m?r:new N_(rr(r)),j=a||this.parentInjector;if(!d&&null==A.ngModule){const Se=(m?j:this.parentInjector).get(wf,null);Se&&(d=Se)}const W=A.create(j,c,void 0,d);return this.insert(W.hostView,E),W}insert(r,s){const a=r._lView,c=a[1];if(function mr(n){return Q(n[3])}(a)){const W=this.indexOf(r);if(-1!==W)this.detach(W);else{const se=a[3],Se=new vw(se,se[6],se[3]);Se.detach(Se.indexOf(r))}}const d=this._adjustIndex(s),m=this._lContainer;!function Cc(n,r,s,a){const c=10+a,d=s.length;a>0&&(s[c-1][4]=r),a<d-10?(r[4]=s[c],So(s,10+a,r)):(s.push(r),r[4]=null),r[3]=s;const m=r[17];null!==m&&s!==m&&function gg(n,r){const s=n[9];r[16]!==r[3][3][16]&&(n[2]=!0),null===s?n[9]=[r]:s.push(r)}(m,r);const E=r[19];null!==E&&E.insertView(n),r[2]|=128}(c,a,m,d);const E=oh(d,m),A=a[11],j=Qa(A,m[7]);return null!==j&&function yu(n,r,s,a,c,d){a[0]=c,a[6]=r,Gu(n,a,s,1,c,d)}(c,m[6],A,a,j,E),r.attachToViewContainerRef(),So(V_(m),d,r),r}move(r,s){return this.insert(r,s)}indexOf(r){const s=ww(this._lContainer);return null!==s?s.indexOf(r):-1}remove(r){const s=this._adjustIndex(r,-1),a=nh(this._lContainer,s);a&&(Ls(V_(this._lContainer),s),Ms(a[1],a))}detach(r){const s=this._adjustIndex(r,-1),a=nh(this._lContainer,s);return a&&null!=Ls(V_(this._lContainer),s)?new og(a):null}_adjustIndex(r,s=0){return null==r?this.length+s:r}};function ww(n){return n[8]}function V_(n){return n[8]||(n[8]=[])}function Ew(n,r){let s;const a=r[n.index];if(Q(a))s=a;else{let c;if(8&n.type)c=P(a);else{const d=r[11];c=d.createComment("");const m=pt(n,r);Hu(d,Qa(d,m),c,function Tc(n,r){return Gn(n)?n.nextSibling(r):r.nextSibling}(d,m),!1)}r[n.index]=s=Th(a,r,c,n),wd(r,s)}return new vw(s,n,r)}class U_{constructor(r){this.queryList=r,this.matches=null}clone(){return new U_(this.queryList)}setDirty(){this.queryList.setDirty()}}class B_{constructor(r=[]){this.queries=r}createEmbeddedView(r){const s=r.queries;if(null!==s){const a=null!==r.contentQueries?r.contentQueries[0]:s.length,c=[];for(let d=0;d<a;d++){const m=s.getByIndex(d);c.push(this.queries[m.indexInDeclarationView].clone())}return new B_(c)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let s=0;s<this.queries.length;s++)null!==xw(r,s).matches&&this.queries[s].setDirty()}}class bw{constructor(r,s,a=null){this.predicate=r,this.flags=s,this.read=a}}class j_{constructor(r=[]){this.queries=r}elementStart(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(r,s)}elementEnd(r){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(r)}embeddedTView(r){let s=null;for(let a=0;a<this.length;a++){const c=null!==s?s.length:0,d=this.getByIndex(a).embeddedTView(r,c);d&&(d.indexInDeclarationView=a,null!==s?s.push(d):s=[d])}return null!==s?new j_(s):null}template(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].template(r,s)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class $_{constructor(r,s=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(r,s){this.isApplyingToNode(s)&&this.matchTNode(r,s)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,s){this.elementStart(r,s)}embeddedTView(r,s){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,s),new $_(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let a=r.parent;for(;null!==a&&8&a.type&&a.index!==s;)a=a.parent;return s===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(r,s){const a=this.metadata.predicate;if(Array.isArray(a))for(let c=0;c<a.length;c++){const d=a[c];this.matchTNodeWithReadOption(r,s,HE(s,d)),this.matchTNodeWithReadOption(r,s,ut(s,r,d,!1,!1))}else a===cg?4&s.type&&this.matchTNodeWithReadOption(r,s,-1):this.matchTNodeWithReadOption(r,s,ut(s,r,a,!1,!1))}matchTNodeWithReadOption(r,s,a){if(null!==a){const c=this.metadata.read;if(null!==c)if(c===sg||c===ly||c===cg&&4&s.type)this.addMatch(s.index,-2);else{const d=ut(s,r,c,!1,!1);null!==d&&this.addMatch(s.index,d)}else this.addMatch(s.index,a)}}addMatch(r,s){null===this.matches?this.matches=[r,s]:this.matches.push(r,s)}}function HE(n,r){const s=n.localNames;if(null!==s)for(let a=0;a<s.length;a+=2)if(s[a]===r)return s[a+1];return null}function WE(n,r,s,a){return-1===s?function GE(n,r){return 11&n.type?vf(n,r):4&n.type?cy(n,r):null}(r,n):-2===s?function zE(n,r,s){return s===sg?vf(r,n):s===cg?cy(r,n):s===ly?Ew(r,n):void 0}(n,r,a):Gt(n,n[1],s,r)}function Iw(n,r,s,a){const c=r[19].queries[a];if(null===c.matches){const d=n.data,m=s.matches,E=[];for(let A=0;A<m.length;A+=2){const j=m[A];E.push(j<0?null:WE(r,d[j],m[A+1],s.metadata.read))}c.matches=E}return c.matches}function H_(n,r,s,a){const c=n.queries.getByIndex(s),d=c.matches;if(null!==d){const m=Iw(n,r,c,s);for(let E=0;E<d.length;E+=2){const A=d[E];if(A>0)a.push(m[E/2]);else{const j=d[E+1],W=r[-A];for(let se=10;se<W.length;se++){const Se=W[se];Se[17]===Se[3]&&H_(Se[1],Se,j,a)}if(null!==W[9]){const se=W[9];for(let Se=0;Se<se.length;Se++){const Ze=se[Se];H_(Ze[1],Ze,j,a)}}}}}return a}function Dw(n){const r=Ge(),s=Qt(),a=co();_a(a+1);const c=xw(s,a);if(n.dirty&&Wn(r)===(2==(2&c.metadata.flags))){if(null===c.matches)n.reset([]);else{const d=c.crossesNgTemplate?H_(s,r,a,[]):Iw(s,r,c,a);n.reset(d,aE),n.notifyOnChanges()}return!0}return!1}function Cw(n,r,s,a){const c=Qt();if(c.firstCreatePass){const d=ur();(function Sw(n,r,s){null===n.queries&&(n.queries=new j_),n.queries.track(new $_(r,s))})(c,new bw(r,s,a),d.index),function ZE(n,r){const s=n.contentQueries||(n.contentQueries=[]);r!==(s.length?s[s.length-1]:-1)&&s.push(n.queries.length-1,r)}(c,n),2==(2&s)&&(c.staticContentQueries=!0)}!function Aw(n,r,s){const a=new L_(4==(4&s));Fg(n,r,a,a.destroy),null===r[19]&&(r[19]=new B_),r[19].queries.push(new U_(a))}(c,Ge(),s)}function Tw(){return function qE(n,r){return n[19].queries[r].queryList}(Ge(),co())}function xw(n,r){return n.queries.getByIndex(r)}function fy(...n){}const zw=new ti("Application Initializer");let Z_=(()=>{class n{constructor(s){this.appInits=s,this.resolve=fy,this.reject=fy,this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,c)=>{this.resolve=a,this.reject=c})}runInitializers(){if(this.initialized)return;const s=[],a=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let c=0;c<this.appInits.length;c++){const d=this.appInits[c]();if(Hc(d))s.push(d);else if(Xh(d)){const m=new Promise((E,A)=>{d.subscribe({complete:E,error:A})});s.push(m)}}Promise.all(s).then(()=>{a()}).catch(c=>{this.reject(c)}),0===s.length&&a(),this.initialized=!0}}return n.\u0275fac=function(s){return new(s||n)(Br(zw,8))},n.\u0275prov=$t({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Kw=new ti("AppId",{providedIn:"root",factory:function qw(){return`${Y_()}${Y_()}${Y_()}`}});function Y_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Zw=new ti("Platform Initializer"),Yw=new ti("Platform ID"),Qw=new ti("appBootstrapListener");let Jw=(()=>{class n{log(s){console.log(s)}warn(s){console.warn(s)}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=$t({token:n,factory:n.\u0275fac}),n})();const Q_=new ti("LocaleId",{providedIn:"root",factory:()=>Ua(Q_,Rt.Optional|Rt.SkipSelf)||function fb(){return"undefined"!=typeof $localize&&$localize.locale||Pd}()}),pb=new ti("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class gb{constructor(r,s){this.ngModuleFactory=r,this.componentFactories=s}}let mb=(()=>{class n{compileModuleSync(s){return new k_(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const a=this.compileModuleSync(s),d=h(Un(s).declarations).reduce((m,E)=>{const A=rr(E);return A&&m.push(new N_(A)),m},[]);return new gb(a,d)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=$t({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const _b=(()=>Promise.resolve(0))();function J_(n){"undefined"==typeof Zone?_b.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Su{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new cc(!1),this.onMicrotaskEmpty=new cc(!1),this.onStable=new cc(!1),this.onError=new cc(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!a&&s,c.shouldCoalesceRunChangeDetection=a,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function vb(){let n=Dn.requestAnimationFrame,r=Dn.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&r){const s=n[Zone.__symbol__("OriginalDelegate")];s&&(n=s);const a=r[Zone.__symbol__("OriginalDelegate")];a&&(r=a)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function bb(n){const r=()=>{!function Eb(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Dn,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,ev(n),n.isCheckStableRunning=!0,X_(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),ev(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,a,c,d,m,E)=>{try{return Xw(n),s.invokeTask(c,d,m,E)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===d.type||n.shouldCoalesceRunChangeDetection)&&r(),e0(n)}},onInvoke:(s,a,c,d,m,E,A)=>{try{return Xw(n),s.invoke(c,d,m,E,A)}finally{n.shouldCoalesceRunChangeDetection&&r(),e0(n)}},onHasTask:(s,a,c,d)=>{s.hasTask(c,d),a===c&&("microTask"==d.change?(n._hasPendingMicrotasks=d.microTask,ev(n),X_(n)):"macroTask"==d.change&&(n.hasPendingMacrotasks=d.macroTask))},onHandleError:(s,a,c,d)=>(s.handleError(c,d),n.runOutsideAngular(()=>n.onError.emit(d)),!1)})}(c)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Su.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Su.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(r,s,a){return this._inner.run(r,s,a)}runTask(r,s,a,c){const d=this._inner,m=d.scheduleEventTask("NgZoneEvent: "+c,r,wb,fy,fy);try{return d.runTask(m,s,a)}finally{d.cancelTask(m)}}runGuarded(r,s,a){return this._inner.runGuarded(r,s,a)}runOutsideAngular(r){return this._outer.run(r)}}const wb={};function X_(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function ev(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function Xw(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function e0(n){n._nesting--,X_(n)}class Ib{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new cc,this.onMicrotaskEmpty=new cc,this.onStable=new cc,this.onError=new cc}run(r,s,a){return r.apply(s,a)}runGuarded(r,s,a){return r.apply(s,a)}runOutsideAngular(r){return r()}runTask(r,s,a,c){return r.apply(s,a)}}let t0=(()=>{class n{constructor(s){this._ngZone=s,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Su.assertNotInAngularZone(),J_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())J_(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(s)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,a,c){let d=-1;a&&a>0&&(d=setTimeout(()=>{this._callbacks=this._callbacks.filter(m=>m.timeoutId!==d),s(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:s,timeoutId:d,updateCb:c})}whenStable(s,a,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,a,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(s,a,c){return[]}}return n.\u0275fac=function(s){return new(s||n)(Br(Su))},n.\u0275prov=$t({token:n,factory:n.\u0275fac}),n})(),n0=(()=>{class n{constructor(){this._applications=new Map,tv.addToWindow(this)}registerApplication(s,a){this._applications.set(s,a)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,a=!0){return tv.findTestabilityInTree(this,s,a)}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=$t({token:n,factory:n.\u0275fac}),n})();class Db{addToWindow(r){}findTestabilityInTree(r,s,a){return null}}function Cb(n){tv=n}let xu,tv=new Db;const r0=new ti("AllowMultipleToken");class Sb{constructor(r,s){this.name=r,this.token=s}}function s0(n,r,s=[]){const a=`Platform: ${r}`,c=new ti(a);return(d=[])=>{let m=o0();if(!m||m.injector.get(r0,!1))if(n)n(s.concat(d).concat({provide:c,useValue:!0}));else{const E=s.concat(d).concat({provide:c,useValue:!0},{provide:Id,useValue:"platform"});!function xb(n){if(xu&&!xu.destroyed&&!xu.injector.get(r0,!1))throw new $e(400,"");xu=n.get(a0);const r=n.get(Zw,null);r&&r.forEach(s=>s())}(Ca.create({providers:E,name:a}))}return function Mb(n){const r=o0();if(!r)throw new $e(401,"");return r}()}}function o0(){return xu&&!xu.destroyed?xu:null}let a0=(()=>{class n{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,a){const E=function Ob(n,r){let s;return s="noop"===n?new Ib:("zone.js"===n?void 0:n)||new Su({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==r?void 0:r.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==r?void 0:r.ngZoneRunCoalescing)}),s}(a?a.ngZone:void 0,{ngZoneEventCoalescing:a&&a.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:a&&a.ngZoneRunCoalescing||!1}),A=[{provide:Su,useValue:E}];return E.run(()=>{const j=Ca.create({providers:A,parent:this.injector,name:s.moduleType.name}),W=s.create(j),se=W.injector.get(Ui,null);if(!se)throw new $e(402,"");return E.runOutsideAngular(()=>{const Se=E.onError.subscribe({next:Ze=>{se.handleError(Ze)}});W.onDestroy(()=>{rv(this._modules,W),Se.unsubscribe()})}),function Rb(n,r,s){try{const a=s();return Hc(a)?a.catch(c=>{throw r.runOutsideAngular(()=>n.handleError(c)),c}):a}catch(a){throw r.runOutsideAngular(()=>n.handleError(a)),a}}(se,E,()=>{const Se=W.injector.get(Z_);return Se.runInitializers(),Se.donePromise.then(()=>(function ry(n){Ot(n,"Expected localeId to be defined"),"string"==typeof n&&(ny=n.toLowerCase().replace(/_/g,"-"))}(W.injector.get(Q_,Pd)||Pd),this._moduleDoBootstrap(W),W))})})}bootstrapModule(s,a=[]){const c=u0({},a);return function Tb(n,r,s){const a=new k_(s);return Promise.resolve(a)}(0,0,s).then(d=>this.bootstrapModuleFactory(d,c))}_moduleDoBootstrap(s){const a=s.injector.get(nv);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(c=>a.bootstrap(c));else{if(!s.instance.ngDoBootstrap)throw new $e(403,"");s.instance.ngDoBootstrap(a)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new $e(404,"");this._modules.slice().forEach(s=>s.destroy()),this._destroyListeners.forEach(s=>s()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(s){return new(s||n)(Br(Ca))},n.\u0275prov=$t({token:n,factory:n.\u0275fac}),n})();function u0(n,r){return Array.isArray(r)?r.reduce(u0,n):Object.assign(Object.assign({},n),r)}let nv=(()=>{class n{constructor(s,a,c,d,m){this._zone=s,this._injector=a,this._exceptionHandler=c,this._componentFactoryResolver=d,this._initStatus=m,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const E=new V.y(j=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{j.next(this._stable),j.complete()})}),A=new V.y(j=>{let W;this._zone.runOutsideAngular(()=>{W=this._zone.onStable.subscribe(()=>{Su.assertNotInAngularZone(),J_(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,j.next(!0))})})});const se=this._zone.onUnstable.subscribe(()=>{Su.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{j.next(!1)}))});return()=>{W.unsubscribe(),se.unsubscribe()}});this.isStable=(0,ue.T)(E,A.pipe((0,ee.B)()))}bootstrap(s,a){if(!this._initStatus.done)throw new $e(405,"");let c;c=s instanceof tw?s:this._componentFactoryResolver.resolveComponentFactory(s),this.componentTypes.push(c.componentType);const d=function Ab(n){return n.isBoundToModule}(c)?void 0:this._injector.get(wf),E=c.create(Ca.NULL,[],a||c.selector,d),A=E.location.nativeElement,j=E.injector.get(t0,null),W=j&&E.injector.get(n0);return j&&W&&W.registerApplication(A,j),E.onDestroy(()=>{this.detachView(E.hostView),rv(this.components,E),W&&W.unregisterApplication(A)}),this._loadComponent(E),E}tick(){if(this._runningTick)throw new $e(101,"");try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(s))}finally{this._runningTick=!1}}attachView(s){const a=s;this._views.push(a),a.attachToAppRef(this)}detachView(s){const a=s;rv(this._views,a),a.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s),this._injector.get(Qw,[]).concat(this._bootstrapListeners).forEach(c=>c(s))}ngOnDestroy(){this._views.slice().forEach(s=>s.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(s){return new(s||n)(Br(Su),Br(Ca),Br(Ui),Br(ay),Br(Z_))},n.\u0275prov=$t({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function rv(n,r){const s=n.indexOf(r);s>-1&&n.splice(s,1)}let l0=!0,d0=!1;function Nb(){return d0=!0,l0}function kb(){if(d0)throw new Error("Cannot enable prod mode after platform setup.");l0=!1}let Fb=(()=>{class n{}return n.__NG_ELEMENT_ID__=Lb,n})();function Lb(n){return function Vb(n,r,s){if(dt(n)&&!s){const a=Cn(n.index,r);return new og(a,a)}return 47&n.type?new og(r[16],r):null}(ur(),Ge(),16==(16&n))}class g0{constructor(){}supports(r){return Fc(r)}create(r){return new Gb(r)}}const Hb=(n,r)=>r;class Gb{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||Hb}forEachItem(r){let s;for(s=this._itHead;null!==s;s=s._next)r(s)}forEachOperation(r){let s=this._itHead,a=this._removalsHead,c=0,d=null;for(;s||a;){const m=!a||s&&s.currentIndex<y0(a,c,d)?s:a,E=y0(m,c,d),A=m.currentIndex;if(m===a)c--,a=a._nextRemoved;else if(s=s._next,null==m.previousIndex)c++;else{d||(d=[]);const j=E-c,W=A-c;if(j!=W){for(let Se=0;Se<j;Se++){const Ze=Se<d.length?d[Se]:d[Se]=0,gt=Ze+Se;W<=gt&&gt<j&&(d[Se]=Ze+1)}d[m.previousIndex]=W-j}}E!==A&&r(m,E,A)}}forEachPreviousItem(r){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachMovedItem(r){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}forEachIdentityChange(r){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)r(s)}diff(r){if(null==r&&(r=[]),!Fc(r))throw new $e(900,"");return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let c,d,m,s=this._itHead,a=!1;if(Array.isArray(r)){this.length=r.length;for(let E=0;E<this.length;E++)d=r[E],m=this._trackByFn(E,d),null!==s&&Object.is(s.trackById,m)?(a&&(s=this._verifyReinsertion(s,d,m,E)),Object.is(s.item,d)||this._addIdentityChange(s,d)):(s=this._mismatch(s,d,m,E),a=!0),s=s._next}else c=0,function Zy(n,r){if(Array.isArray(n))for(let s=0;s<n.length;s++)r(n[s]);else{const s=n[Dl()]();let a;for(;!(a=s.next()).done;)r(a.value)}}(r,E=>{m=this._trackByFn(c,E),null!==s&&Object.is(s.trackById,m)?(a&&(s=this._verifyReinsertion(s,E,m,c)),Object.is(s.item,E)||this._addIdentityChange(s,E)):(s=this._mismatch(s,E,m,c),a=!0),s=s._next,c++}),this.length=c;return this._truncate(s),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,s,a,c){let d;return null===r?d=this._itTail:(d=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._reinsertAfter(r,d,c)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(a,c))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._moveAfter(r,d,c)):r=this._addAfter(new Wb(s,a),d,c),r}_verifyReinsertion(r,s,a,c){let d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==d?r=this._reinsertAfter(d,r._prev,c):r.currentIndex!=c&&(r.currentIndex=c,this._addToMoves(r,c)),r}_truncate(r){for(;null!==r;){const s=r._next;this._addToRemovals(this._unlink(r)),r=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,s,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const c=r._prevRemoved,d=r._nextRemoved;return null===c?this._removalsHead=d:c._nextRemoved=d,null===d?this._removalsTail=c:d._prevRemoved=c,this._insertAfter(r,s,a),this._addToMoves(r,a),r}_moveAfter(r,s,a){return this._unlink(r),this._insertAfter(r,s,a),this._addToMoves(r,a),r}_addAfter(r,s,a){return this._insertAfter(r,s,a),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,s,a){const c=null===s?this._itHead:s._next;return r._next=c,r._prev=s,null===c?this._itTail=r:c._prev=r,null===s?this._itHead=r:s._next=r,null===this._linkedRecords&&(this._linkedRecords=new m0),this._linkedRecords.put(r),r.currentIndex=a,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const s=r._prev,a=r._next;return null===s?this._itHead=a:s._next=a,null===a?this._itTail=s:a._prev=s,r}_addToMoves(r,s){return r.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new m0),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,s){return r.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class Wb{constructor(r,s){this.item=r,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class zb{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,s){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===s||s<=a.currentIndex)&&Object.is(a.trackById,r))return a;return null}remove(r){const s=r._prevDup,a=r._nextDup;return null===s?this._head=a:s._nextDup=a,null===a?this._tail=s:a._prevDup=s,null===this._head}}class m0{constructor(){this.map=new Map}put(r){const s=r.trackById;let a=this.map.get(s);a||(a=new zb,this.map.set(s,a)),a.add(r)}get(r,s){const c=this.map.get(r);return c?c.get(r,s):null}remove(r){const s=r.trackById;return this.map.get(s).remove(r)&&this.map.delete(s),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function y0(n,r,s){const a=n.previousIndex;if(null===a)return a;let c=0;return s&&a<s.length&&(c=s[a]),a+r+c}class _0{constructor(){}supports(r){return r instanceof Map||jh(r)}create(){return new Kb}}class Kb{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let s;for(s=this._mapHead;null!==s;s=s._next)r(s)}forEachPreviousItem(r){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)r(s)}forEachChangedItem(r){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}diff(r){if(r){if(!(r instanceof Map||jh(r)))throw new $e(900,"")}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(r,(a,c)=>{if(s&&s.key===c)this._maybeAddToChanges(s,a),this._appendAfter=s,s=s._next;else{const d=this._getOrCreateRecordForKey(c,a);s=this._insertBeforeOrAppend(s,d)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let a=s;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,s){if(r){const a=r._prev;return s._next=r,s._prev=a,r._prev=s,a&&(a._next=s),r===this._mapHead&&(this._mapHead=s),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(r,s){if(this._records.has(r)){const c=this._records.get(r);this._maybeAddToChanges(c,s);const d=c._prev,m=c._next;return d&&(d._next=m),m&&(m._prev=d),c._next=null,c._prev=null,c}const a=new qb(r);return this._records.set(r,a),a.currentValue=s,this._addToAdditions(a),a}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,s){Object.is(s,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=s,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,s){r instanceof Map?r.forEach(s):Object.keys(r).forEach(a=>s(r[a],a))}}class qb{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function v0(){return new uv([new g0])}let uv=(()=>{class n{constructor(s){this.factories=s}static create(s,a){if(null!=a){const c=a.factories.slice();s=s.concat(c)}return new n(s)}static extend(s){return{provide:n,useFactory:a=>n.create(s,a||v0()),deps:[[n,new cu,new aa]]}}find(s){const a=this.factories.find(c=>c.supports(s));if(null!=a)return a;throw new $e(901,"")}}return n.\u0275prov=$t({token:n,providedIn:"root",factory:v0}),n})();function w0(){return new cv([new _0])}let cv=(()=>{class n{constructor(s){this.factories=s}static create(s,a){if(a){const c=a.factories.slice();s=s.concat(c)}return new n(s)}static extend(s){return{provide:n,useFactory:a=>n.create(s,a||w0()),deps:[[n,new cu,new aa]]}}find(s){const a=this.factories.find(d=>d.supports(s));if(a)return a;throw new $e(901,"")}}return n.\u0275prov=$t({token:n,providedIn:"root",factory:w0}),n})();const Qb=s0(null,"core",[{provide:Yw,useValue:"unknown"},{provide:a0,deps:[Ca]},{provide:n0,deps:[]},{provide:Jw,deps:[]}]);let Jb=(()=>{class n{constructor(s){}}return n.\u0275fac=function(s){return new(s||n)(Br(nv))},n.\u0275mod=Kn({type:n}),n.\u0275inj=on({}),n})()},2382:(Me,te,T)=>{"use strict";T.d(te,{Fj:()=>Ue,qu:()=>ds,u:()=>Di,sg:()=>es,JJ:()=>Vn,JL:()=>pr,wV:()=>Es,UX:()=>qr,kI:()=>xe,_Y:()=>hr});var p=T(5e3),L=T(9808),V=T(8306),ue=T(4742),ee=T(8421),le=T(7669),ye=T(5403),ae=T(3268),ne=T(1810),X=T(8996),re=T(4004);let je=(()=>{class F{constructor(M,z){this._renderer=M,this._elementRef=z,this.onChange=at=>{},this.onTouched=()=>{}}setProperty(M,z){this._renderer.setProperty(this._elementRef.nativeElement,M,z)}registerOnTouched(M){this.onTouched=M}registerOnChange(M){this.onChange=M}setDisabledState(M){this.setProperty("disabled",M)}}return F.\u0275fac=function(M){return new(M||F)(p.Y36(p.Qsj),p.Y36(p.SBq))},F.\u0275dir=p.lG2({type:F}),F})(),Oe=(()=>{class F extends je{}return F.\u0275fac=function(){let R;return function(z){return(R||(R=p.n5z(F)))(z||F)}}(),F.\u0275dir=p.lG2({type:F,features:[p.qOj]}),F})();const $e=new p.OlP("NgValueAccessor"),Fe={provide:$e,useExisting:(0,p.Gpc)(()=>Ue),multi:!0},nt=new p.OlP("CompositionEventMode");let Ue=(()=>{class F extends je{constructor(M,z,at){super(M,z),this._compositionMode=at,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function oe(){const F=(0,L.q)()?(0,L.q)().getUserAgent():"";return/android (\d+)/.test(F.toLowerCase())}())}writeValue(M){this.setProperty("value",null==M?"":M)}_handleInput(M){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(M)}_compositionStart(){this._composing=!0}_compositionEnd(M){this._composing=!1,this._compositionMode&&this.onChange(M)}}return F.\u0275fac=function(M){return new(M||F)(p.Y36(p.Qsj),p.Y36(p.SBq),p.Y36(nt,8))},F.\u0275dir=p.lG2({type:F,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(M,z){1&M&&p.NdJ("input",function(Ge){return z._handleInput(Ge.target.value)})("blur",function(){return z.onTouched()})("compositionstart",function(){return z._compositionStart()})("compositionend",function(Ge){return z._compositionEnd(Ge.target.value)})},features:[p._Bn([Fe]),p.qOj]}),F})();function Ce(F){return null==F||0===F.length}function Ve(F){return null!=F&&"number"==typeof F.length}const yt=new p.OlP("NgValidators"),ve=new p.OlP("NgAsyncValidators"),we=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class xe{static min(R){return function Ae(F){return R=>{if(Ce(R.value)||Ce(F))return null;const M=parseFloat(R.value);return!isNaN(M)&&M<F?{min:{min:F,actual:R.value}}:null}}(R)}static max(R){return function ze(F){return R=>{if(Ce(R.value)||Ce(F))return null;const M=parseFloat(R.value);return!isNaN(M)&&M>F?{max:{max:F,actual:R.value}}:null}}(R)}static required(R){return function ke(F){return Ce(F.value)?{required:!0}:null}(R)}static requiredTrue(R){return function ht(F){return!0===F.value?null:{required:!0}}(R)}static email(R){return function Qe(F){return Ce(F.value)||we.test(F.value)?null:{email:!0}}(R)}static minLength(R){return function xt(F){return R=>Ce(R.value)||!Ve(R.value)?null:R.value.length<F?{minlength:{requiredLength:F,actualLength:R.value.length}}:null}(R)}static maxLength(R){return function Lt(F){return R=>Ve(R.value)&&R.value.length>F?{maxlength:{requiredLength:F,actualLength:R.value.length}}:null}(R)}static pattern(R){return function In(F){if(!F)return Ot;let R,M;return"string"==typeof F?(M="","^"!==F.charAt(0)&&(M+="^"),M+=F,"$"!==F.charAt(F.length-1)&&(M+="$"),R=new RegExp(M)):(M=F.toString(),R=F),z=>{if(Ce(z.value))return null;const at=z.value;return R.test(at)?null:{pattern:{requiredPattern:M,actualValue:at}}}}(R)}static nullValidator(R){return null}static compose(R){return on(R)}static composeAsync(R){return er(R)}}function Ot(F){return null}function St(F){return null!=F}function gn(F){const R=(0,p.QGY)(F)?(0,X.D)(F):F;return(0,p.CqO)(R),R}function Bt(F){let R={};return F.forEach(M=>{R=null!=M?Object.assign(Object.assign({},R),M):R}),0===Object.keys(R).length?null:R}function yn(F,R){return R.map(M=>M(F))}function bn(F){return F.map(R=>function $t(F){return!F.validate}(R)?R:M=>R.validate(M))}function on(F){if(!F)return null;const R=F.filter(St);return 0==R.length?null:function(M){return Bt(yn(M,R))}}function ln(F){return null!=F?on(bn(F)):null}function er(F){if(!F)return null;const R=F.filter(St);return 0==R.length?null:function(M){return function J(...F){const R=(0,le.jO)(F),{args:M,keys:z}=(0,ue.D)(F),at=new V.y(Ge=>{const{length:Qt}=M;if(!Qt)return void Ge.complete();const Zr=new Array(Qt);let ur=Qt,Ni=Qt;for(let zi=0;zi<Qt;zi++){let Ei=!1;(0,ee.Xf)(M[zi]).subscribe((0,ye.x)(Ge,uo=>{Ei||(Ei=!0,Ni--),Zr[zi]=uo},()=>ur--,void 0,()=>{(!ur||!Ei)&&(Ni||Ge.next(z?(0,ne.n)(z,Zr):Zr),Ge.complete())}))}});return R?at.pipe((0,ae.Z)(R)):at}(yn(M,R).map(gn)).pipe((0,re.U)(Bt))}}function Zn(F){return null!=F?er(bn(F)):null}function Ln(F,R){return null===F?[R]:Array.isArray(F)?[...F,R]:[F,R]}function xn(F){return F._rawValidators}function lr(F){return F._rawAsyncValidators}function Nn(F){return F?Array.isArray(F)?F:[F]:[]}function tr(F,R){return Array.isArray(F)?F.includes(R):F===R}function fn(F,R){const M=Nn(R);return Nn(F).forEach(at=>{tr(M,at)||M.push(at)}),M}function Rt(F,R){return Nn(R).filter(M=>!tr(F,M))}class $n{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(R){this._rawValidators=R||[],this._composedValidatorFn=ln(this._rawValidators)}_setAsyncValidators(R){this._rawAsyncValidators=R||[],this._composedAsyncValidatorFn=Zn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(R){this._onDestroyCallbacks.push(R)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(R=>R()),this._onDestroyCallbacks=[]}reset(R){this.control&&this.control.reset(R)}hasError(R,M){return!!this.control&&this.control.hasError(R,M)}getError(R,M){return this.control?this.control.getError(R,M):null}}class nn extends $n{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class wn extends $n{get formDirective(){return null}get path(){return null}}class Yr{constructor(R){this._cd=R}is(R){var M,z,at;return"submitted"===R?!!(null===(M=this._cd)||void 0===M?void 0:M.submitted):!!(null===(at=null===(z=this._cd)||void 0===z?void 0:z.control)||void 0===at?void 0:at[R])}}let Vn=(()=>{class F extends Yr{constructor(M){super(M)}}return F.\u0275fac=function(M){return new(M||F)(p.Y36(nn,2))},F.\u0275dir=p.lG2({type:F,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(M,z){2&M&&p.ekj("ng-untouched",z.is("untouched"))("ng-touched",z.is("touched"))("ng-pristine",z.is("pristine"))("ng-dirty",z.is("dirty"))("ng-valid",z.is("valid"))("ng-invalid",z.is("invalid"))("ng-pending",z.is("pending"))},features:[p.qOj]}),F})(),pr=(()=>{class F extends Yr{constructor(M){super(M)}}return F.\u0275fac=function(M){return new(M||F)(p.Y36(wn,10))},F.\u0275dir=p.lG2({type:F,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(M,z){2&M&&p.ekj("ng-untouched",z.is("untouched"))("ng-touched",z.is("touched"))("ng-pristine",z.is("pristine"))("ng-dirty",z.is("dirty"))("ng-valid",z.is("valid"))("ng-invalid",z.is("invalid"))("ng-pending",z.is("pending"))("ng-submitted",z.is("submitted"))},features:[p.qOj]}),F})();function tt(F,R){qt(F,R),R.valueAccessor.writeValue(F.value),function Kn(F,R){R.valueAccessor.registerOnChange(M=>{F._pendingValue=M,F._pendingChange=!0,F._pendingDirty=!0,"change"===F.updateOn&&wr(F,R)})}(F,R),function Pn(F,R){const M=(z,at)=>{R.valueAccessor.writeValue(z),at&&R.viewToModelUpdate(z)};F.registerOnChange(M),R._registerOnDestroy(()=>{F._unregisterOnChange(M)})}(F,R),function ai(F,R){R.valueAccessor.registerOnTouched(()=>{F._pendingTouched=!0,"blur"===F.updateOn&&F._pendingChange&&wr(F,R),"submit"!==F.updateOn&&F.markAsTouched()})}(F,R),function vn(F,R){if(R.valueAccessor.setDisabledState){const M=z=>{R.valueAccessor.setDisabledState(z)};F.registerOnDisabledChange(M),R._registerOnDestroy(()=>{F._unregisterOnDisabledChange(M)})}}(F,R)}function wt(F,R,M=!0){const z=()=>{};R.valueAccessor&&(R.valueAccessor.registerOnChange(z),R.valueAccessor.registerOnTouched(z)),Mn(F,R),F&&(R._invokeOnDestroyCallbacks(),F._registerOnCollectionChange(()=>{}))}function Nt(F,R){F.forEach(M=>{M.registerOnValidatorChange&&M.registerOnValidatorChange(R)})}function qt(F,R){const M=xn(F);null!==R.validator?F.setValidators(Ln(M,R.validator)):"function"==typeof M&&F.setValidators([M]);const z=lr(F);null!==R.asyncValidator?F.setAsyncValidators(Ln(z,R.asyncValidator)):"function"==typeof z&&F.setAsyncValidators([z]);const at=()=>F.updateValueAndValidity();Nt(R._rawValidators,at),Nt(R._rawAsyncValidators,at)}function Mn(F,R){let M=!1;if(null!==F){if(null!==R.validator){const at=xn(F);if(Array.isArray(at)&&at.length>0){const Ge=at.filter(Qt=>Qt!==R.validator);Ge.length!==at.length&&(M=!0,F.setValidators(Ge))}}if(null!==R.asyncValidator){const at=lr(F);if(Array.isArray(at)&&at.length>0){const Ge=at.filter(Qt=>Qt!==R.asyncValidator);Ge.length!==at.length&&(M=!0,F.setAsyncValidators(Ge))}}}const z=()=>{};return Nt(R._rawValidators,z),Nt(R._rawAsyncValidators,z),M}function wr(F,R){F._pendingDirty&&F.markAsDirty(),F.setValue(F._pendingValue,{emitModelToViewChange:!1}),R.viewToModelUpdate(F._pendingValue),F._pendingChange=!1}function Wr(F,R){const M=F.indexOf(R);M>-1&&F.splice(M,1)}const Sr="VALID",On="INVALID",lt="PENDING",an="DISABLED";function Tr(F){return(hn(F)?F.validators:F)||null}function zr(F){return Array.isArray(F)?ln(F):F||null}function qn(F,R){return(hn(R)?R.asyncValidators:F)||null}function Qr(F){return Array.isArray(F)?Zn(F):F||null}function hn(F){return null!=F&&!Array.isArray(F)&&"object"==typeof F}const Jr=F=>F instanceof Le,Yn=F=>F instanceof qe,En=F=>F instanceof vt;function ni(F){return Jr(F)?F.value:F.getRawValue()}function yi(F,R){const M=Yn(F),z=F.controls;if(!(M?Object.keys(z):z).length)throw new p.vHH(1e3,"");if(!z[R])throw new p.vHH(1001,"")}function ge(F,R){Yn(F),F._forEachChild((z,at)=>{if(void 0===R[at])throw new p.vHH(1002,"")})}class rt{constructor(R,M){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=R,this._rawAsyncValidators=M,this._composedValidatorFn=zr(this._rawValidators),this._composedAsyncValidatorFn=Qr(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(R){this._rawValidators=this._composedValidatorFn=R}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(R){this._rawAsyncValidators=this._composedAsyncValidatorFn=R}get parent(){return this._parent}get valid(){return this.status===Sr}get invalid(){return this.status===On}get pending(){return this.status==lt}get disabled(){return this.status===an}get enabled(){return this.status!==an}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(R){this._rawValidators=R,this._composedValidatorFn=zr(R)}setAsyncValidators(R){this._rawAsyncValidators=R,this._composedAsyncValidatorFn=Qr(R)}addValidators(R){this.setValidators(fn(R,this._rawValidators))}addAsyncValidators(R){this.setAsyncValidators(fn(R,this._rawAsyncValidators))}removeValidators(R){this.setValidators(Rt(R,this._rawValidators))}removeAsyncValidators(R){this.setAsyncValidators(Rt(R,this._rawAsyncValidators))}hasValidator(R){return tr(this._rawValidators,R)}hasAsyncValidator(R){return tr(this._rawAsyncValidators,R)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(R={}){this.touched=!0,this._parent&&!R.onlySelf&&this._parent.markAsTouched(R)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(R=>R.markAllAsTouched())}markAsUntouched(R={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(M=>{M.markAsUntouched({onlySelf:!0})}),this._parent&&!R.onlySelf&&this._parent._updateTouched(R)}markAsDirty(R={}){this.pristine=!1,this._parent&&!R.onlySelf&&this._parent.markAsDirty(R)}markAsPristine(R={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(M=>{M.markAsPristine({onlySelf:!0})}),this._parent&&!R.onlySelf&&this._parent._updatePristine(R)}markAsPending(R={}){this.status=lt,!1!==R.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!R.onlySelf&&this._parent.markAsPending(R)}disable(R={}){const M=this._parentMarkedDirty(R.onlySelf);this.status=an,this.errors=null,this._forEachChild(z=>{z.disable(Object.assign(Object.assign({},R),{onlySelf:!0}))}),this._updateValue(),!1!==R.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},R),{skipPristineCheck:M})),this._onDisabledChange.forEach(z=>z(!0))}enable(R={}){const M=this._parentMarkedDirty(R.onlySelf);this.status=Sr,this._forEachChild(z=>{z.enable(Object.assign(Object.assign({},R),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:R.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},R),{skipPristineCheck:M})),this._onDisabledChange.forEach(z=>z(!1))}_updateAncestors(R){this._parent&&!R.onlySelf&&(this._parent.updateValueAndValidity(R),R.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(R){this._parent=R}updateValueAndValidity(R={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Sr||this.status===lt)&&this._runAsyncValidator(R.emitEvent)),!1!==R.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!R.onlySelf&&this._parent.updateValueAndValidity(R)}_updateTreeValidity(R={emitEvent:!0}){this._forEachChild(M=>M._updateTreeValidity(R)),this.updateValueAndValidity({onlySelf:!0,emitEvent:R.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?an:Sr}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(R){if(this.asyncValidator){this.status=lt,this._hasOwnPendingAsyncValidator=!0;const M=gn(this.asyncValidator(this));this._asyncValidationSubscription=M.subscribe(z=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(z,{emitEvent:R})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(R,M={}){this.errors=R,this._updateControlsErrors(!1!==M.emitEvent)}get(R){return function Bn(F,R,M){if(null==R||(Array.isArray(R)||(R=R.split(M)),Array.isArray(R)&&0===R.length))return null;let z=F;return R.forEach(at=>{z=Yn(z)?z.controls.hasOwnProperty(at)?z.controls[at]:null:En(z)&&z.at(at)||null}),z}(this,R,".")}getError(R,M){const z=M?this.get(M):this;return z&&z.errors?z.errors[R]:null}hasError(R,M){return!!this.getError(R,M)}get root(){let R=this;for(;R._parent;)R=R._parent;return R}_updateControlsErrors(R){this.status=this._calculateStatus(),R&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(R)}_initObservables(){this.valueChanges=new p.vpe,this.statusChanges=new p.vpe}_calculateStatus(){return this._allControlsDisabled()?an:this.errors?On:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(lt)?lt:this._anyControlsHaveStatus(On)?On:Sr}_anyControlsHaveStatus(R){return this._anyControls(M=>M.status===R)}_anyControlsDirty(){return this._anyControls(R=>R.dirty)}_anyControlsTouched(){return this._anyControls(R=>R.touched)}_updatePristine(R={}){this.pristine=!this._anyControlsDirty(),this._parent&&!R.onlySelf&&this._parent._updatePristine(R)}_updateTouched(R={}){this.touched=this._anyControlsTouched(),this._parent&&!R.onlySelf&&this._parent._updateTouched(R)}_isBoxedValue(R){return"object"==typeof R&&null!==R&&2===Object.keys(R).length&&"value"in R&&"disabled"in R}_registerOnCollectionChange(R){this._onCollectionChange=R}_setUpdateStrategy(R){hn(R)&&null!=R.updateOn&&(this._updateOn=R.updateOn)}_parentMarkedDirty(R){return!R&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Le extends rt{constructor(R=null,M,z){super(Tr(M),qn(z,M)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(R),this._setUpdateStrategy(M),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),hn(M)&&M.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(R)?R.value:R)}setValue(R,M={}){this.value=this._pendingValue=R,this._onChange.length&&!1!==M.emitModelToViewChange&&this._onChange.forEach(z=>z(this.value,!1!==M.emitViewToModelChange)),this.updateValueAndValidity(M)}patchValue(R,M={}){this.setValue(R,M)}reset(R=this.defaultValue,M={}){this._applyFormState(R),this.markAsPristine(M),this.markAsUntouched(M),this.setValue(this.value,M),this._pendingChange=!1}_updateValue(){}_anyControls(R){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(R){this._onChange.push(R)}_unregisterOnChange(R){Wr(this._onChange,R)}registerOnDisabledChange(R){this._onDisabledChange.push(R)}_unregisterOnDisabledChange(R){Wr(this._onDisabledChange,R)}_forEachChild(R){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(R){this._isBoxedValue(R)?(this.value=this._pendingValue=R.value,R.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=R}}class qe extends rt{constructor(R,M,z){super(Tr(M),qn(z,M)),this.controls=R,this._initObservables(),this._setUpdateStrategy(M),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(R,M){return this.controls[R]?this.controls[R]:(this.controls[R]=M,M.setParent(this),M._registerOnCollectionChange(this._onCollectionChange),M)}addControl(R,M,z={}){this.registerControl(R,M),this.updateValueAndValidity({emitEvent:z.emitEvent}),this._onCollectionChange()}removeControl(R,M={}){this.controls[R]&&this.controls[R]._registerOnCollectionChange(()=>{}),delete this.controls[R],this.updateValueAndValidity({emitEvent:M.emitEvent}),this._onCollectionChange()}setControl(R,M,z={}){this.controls[R]&&this.controls[R]._registerOnCollectionChange(()=>{}),delete this.controls[R],M&&this.registerControl(R,M),this.updateValueAndValidity({emitEvent:z.emitEvent}),this._onCollectionChange()}contains(R){return this.controls.hasOwnProperty(R)&&this.controls[R].enabled}setValue(R,M={}){ge(this,R),Object.keys(R).forEach(z=>{yi(this,z),this.controls[z].setValue(R[z],{onlySelf:!0,emitEvent:M.emitEvent})}),this.updateValueAndValidity(M)}patchValue(R,M={}){null!=R&&(Object.keys(R).forEach(z=>{this.controls[z]&&this.controls[z].patchValue(R[z],{onlySelf:!0,emitEvent:M.emitEvent})}),this.updateValueAndValidity(M))}reset(R={},M={}){this._forEachChild((z,at)=>{z.reset(R[at],{onlySelf:!0,emitEvent:M.emitEvent})}),this._updatePristine(M),this._updateTouched(M),this.updateValueAndValidity(M)}getRawValue(){return this._reduceChildren({},(R,M,z)=>(R[z]=ni(M),R))}_syncPendingControls(){let R=this._reduceChildren(!1,(M,z)=>!!z._syncPendingControls()||M);return R&&this.updateValueAndValidity({onlySelf:!0}),R}_forEachChild(R){Object.keys(this.controls).forEach(M=>{const z=this.controls[M];z&&R(z,M)})}_setUpControls(){this._forEachChild(R=>{R.setParent(this),R._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(R){for(const M of Object.keys(this.controls)){const z=this.controls[M];if(this.contains(M)&&R(z))return!0}return!1}_reduceValue(){return this._reduceChildren({},(R,M,z)=>((M.enabled||this.disabled)&&(R[z]=M.value),R))}_reduceChildren(R,M){let z=R;return this._forEachChild((at,Ge)=>{z=M(z,at,Ge)}),z}_allControlsDisabled(){for(const R of Object.keys(this.controls))if(this.controls[R].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class vt extends rt{constructor(R,M,z){super(Tr(M),qn(z,M)),this.controls=R,this._initObservables(),this._setUpdateStrategy(M),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(R){return this.controls[R]}push(R,M={}){this.controls.push(R),this._registerControl(R),this.updateValueAndValidity({emitEvent:M.emitEvent}),this._onCollectionChange()}insert(R,M,z={}){this.controls.splice(R,0,M),this._registerControl(M),this.updateValueAndValidity({emitEvent:z.emitEvent})}removeAt(R,M={}){this.controls[R]&&this.controls[R]._registerOnCollectionChange(()=>{}),this.controls.splice(R,1),this.updateValueAndValidity({emitEvent:M.emitEvent})}setControl(R,M,z={}){this.controls[R]&&this.controls[R]._registerOnCollectionChange(()=>{}),this.controls.splice(R,1),M&&(this.controls.splice(R,0,M),this._registerControl(M)),this.updateValueAndValidity({emitEvent:z.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(R,M={}){ge(this,R),R.forEach((z,at)=>{yi(this,at),this.at(at).setValue(z,{onlySelf:!0,emitEvent:M.emitEvent})}),this.updateValueAndValidity(M)}patchValue(R,M={}){null!=R&&(R.forEach((z,at)=>{this.at(at)&&this.at(at).patchValue(z,{onlySelf:!0,emitEvent:M.emitEvent})}),this.updateValueAndValidity(M))}reset(R=[],M={}){this._forEachChild((z,at)=>{z.reset(R[at],{onlySelf:!0,emitEvent:M.emitEvent})}),this._updatePristine(M),this._updateTouched(M),this.updateValueAndValidity(M)}getRawValue(){return this.controls.map(R=>ni(R))}clear(R={}){this.controls.length<1||(this._forEachChild(M=>M._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:R.emitEvent}))}_syncPendingControls(){let R=this.controls.reduce((M,z)=>!!z._syncPendingControls()||M,!1);return R&&this.updateValueAndValidity({onlySelf:!0}),R}_forEachChild(R){this.controls.forEach((M,z)=>{R(M,z)})}_updateValue(){this.value=this.controls.filter(R=>R.enabled||this.disabled).map(R=>R.value)}_anyControls(R){return this.controls.some(M=>M.enabled&&R(M))}_setUpControls(){this._forEachChild(R=>this._registerControl(R))}_allControlsDisabled(){for(const R of this.controls)if(R.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(R){R.setParent(this),R._registerOnCollectionChange(this._onCollectionChange)}}let hr=(()=>{class F{}return F.\u0275fac=function(M){return new(M||F)},F.\u0275dir=p.lG2({type:F,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),F})();const Zs={provide:$e,useExisting:(0,p.Gpc)(()=>Es),multi:!0};let Es=(()=>{class F extends Oe{writeValue(M){this.setProperty("value",null==M?"":M)}registerOnChange(M){this.onChange=z=>{M(""==z?null:parseFloat(z))}}}return F.\u0275fac=function(){let R;return function(z){return(R||(R=p.n5z(F)))(z||F)}}(),F.\u0275dir=p.lG2({type:F,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(M,z){1&M&&p.NdJ("input",function(Ge){return z.onChange(Ge.target.value)})("blur",function(){return z.onTouched()})},features:[p._Bn([Zs]),p.qOj]}),F})(),Ye=(()=>{class F{}return F.\u0275fac=function(M){return new(M||F)},F.\u0275mod=p.oAB({type:F}),F.\u0275inj=p.cJS({}),F})();const xr=new p.OlP("NgModelWithFormControlWarning"),$i={provide:wn,useExisting:(0,p.Gpc)(()=>es)};let es=(()=>{class F extends wn{constructor(M,z){super(),this.validators=M,this.asyncValidators=z,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new p.vpe,this._setValidators(M),this._setAsyncValidators(z)}ngOnChanges(M){this._checkFormPresent(),M.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Mn(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(M){const z=this.form.get(M.path);return tt(z,M),z.updateValueAndValidity({emitEvent:!1}),this.directives.push(M),z}getControl(M){return this.form.get(M.path)}removeControl(M){wt(M.control||null,M,!1),Wr(this.directives,M)}addFormGroup(M){this._setUpFormContainer(M)}removeFormGroup(M){this._cleanUpFormContainer(M)}getFormGroup(M){return this.form.get(M.path)}addFormArray(M){this._setUpFormContainer(M)}removeFormArray(M){this._cleanUpFormContainer(M)}getFormArray(M){return this.form.get(M.path)}updateModel(M,z){this.form.get(M.path).setValue(z)}onSubmit(M){return this.submitted=!0,function Mi(F,R){F._syncPendingControls(),R.forEach(M=>{const z=M.control;"submit"===z.updateOn&&z._pendingChange&&(M.viewToModelUpdate(z._pendingValue),z._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(M),!1}onReset(){this.resetForm()}resetForm(M){this.form.reset(M),this.submitted=!1}_updateDomValue(){this.directives.forEach(M=>{const z=M.control,at=this.form.get(M.path);z!==at&&(wt(z||null,M),Jr(at)&&(tt(at,M),M.control=at))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(M){const z=this.form.get(M.path);(function dn(F,R){qt(F,R)})(z,M),z.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(M){if(this.form){const z=this.form.get(M.path);z&&function rr(F,R){return Mn(F,R)}(z,M)&&z.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){qt(this.form,this),this._oldForm&&Mn(this._oldForm,this)}_checkFormPresent(){}}return F.\u0275fac=function(M){return new(M||F)(p.Y36(yt,10),p.Y36(ve,10))},F.\u0275dir=p.lG2({type:F,selectors:[["","formGroup",""]],hostBindings:function(M,z){1&M&&p.NdJ("submit",function(Ge){return z.onSubmit(Ge)})("reset",function(){return z.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[p._Bn([$i]),p.qOj,p.TTD]}),F})();const pi={provide:nn,useExisting:(0,p.Gpc)(()=>Di)};let Di=(()=>{class F extends nn{constructor(M,z,at,Ge,Qt){super(),this._ngModelWarningConfig=Qt,this._added=!1,this.update=new p.vpe,this._ngModelWarningSent=!1,this._parent=M,this._setValidators(z),this._setAsyncValidators(at),this.valueAccessor=function ui(F,R){if(!R)return null;let M,z,at;return Array.isArray(R),R.forEach(Ge=>{Ge.constructor===Ue?M=Ge:function Ar(F){return Object.getPrototypeOf(F.constructor)===Oe}(Ge)?z=Ge:at=Ge}),at||z||M||null}(0,Ge)}set isDisabled(M){}ngOnChanges(M){this._added||this._setUpControl(),function Un(F,R){if(!F.hasOwnProperty("model"))return!1;const M=F.model;return!!M.isFirstChange()||!Object.is(R,M.currentValue)}(M,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(M){this.viewModel=M,this.update.emit(M)}get path(){return function et(F,R){return[...R.path,F]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return F._ngModelWarningSentOnce=!1,F.\u0275fac=function(M){return new(M||F)(p.Y36(wn,13),p.Y36(yt,10),p.Y36(ve,10),p.Y36($e,10),p.Y36(xr,8))},F.\u0275dir=p.lG2({type:F,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[p._Bn([pi]),p.qOj,p.TTD]}),F})(),fr=(()=>{class F{}return F.\u0275fac=function(M){return new(M||F)},F.\u0275mod=p.oAB({type:F}),F.\u0275inj=p.cJS({imports:[[Ye]]}),F})(),qr=(()=>{class F{static withConfig(M){return{ngModule:F,providers:[{provide:xr,useValue:M.warnOnNgModelWithFormControl}]}}}return F.\u0275fac=function(M){return new(M||F)},F.\u0275mod=p.oAB({type:F}),F.\u0275inj=p.cJS({imports:[fr]}),F})(),ds=(()=>{class F{group(M,z=null){const at=this._reduceControls(M);let Zr,Ge=null,Qt=null;return null!=z&&(function Yt(F){return void 0!==F.asyncValidators||void 0!==F.validators||void 0!==F.updateOn}(z)?(Ge=null!=z.validators?z.validators:null,Qt=null!=z.asyncValidators?z.asyncValidators:null,Zr=null!=z.updateOn?z.updateOn:void 0):(Ge=null!=z.validator?z.validator:null,Qt=null!=z.asyncValidator?z.asyncValidator:null)),new qe(at,{asyncValidators:Qt,updateOn:Zr,validators:Ge})}control(M,z,at){return new Le(M,z,at)}array(M,z,at){const Ge=M.map(Qt=>this._createControl(Qt));return new vt(Ge,z,at)}_reduceControls(M){const z={};return Object.keys(M).forEach(at=>{z[at]=this._createControl(M[at])}),z}_createControl(M){return Jr(M)||Yn(M)||En(M)?M:Array.isArray(M)?this.control(M[0],M.length>1?M[1]:null,M.length>2?M[2]:null):this.control(M)}}return F.\u0275fac=function(M){return new(M||F)},F.\u0275prov=p.Yz7({token:F,factory:F.\u0275fac,providedIn:qr}),F})()},4232:(Me,te,T)=>{"use strict";T.d(te,{F0:()=>cr,yS:()=>Go,Bz:()=>Qn,lC:()=>wi});var p=T(5e3),L=T(8306),V=T(4742),ue=T(8996),ee=T(4671),le=T(3268),ye=T(7669),ae=T(1810),ne=T(5403),J=T(9672);function je(b,v,_){b?(0,J.f)(_,b,v):v()}var Oe=T(576);function $e(b,v){const _=(0,Oe.m)(b)?b:()=>b,C=S=>S.error(_());return new L.y(v?S=>v.schedule(C,0,S):C)}var ot=T(8421);function De(b){return new L.y(v=>{(0,ot.Xf)(b()).subscribe(v)})}var Fe=T(727),oe=T(4482);function nt(){return(0,oe.e)((b,v)=>{let _=null;b._refCount++;const C=(0,ne.x)(v,void 0,void 0,void 0,()=>{if(!b||b._refCount<=0||0<--b._refCount)return void(_=null);const S=b._connection,B=_;_=null,S&&(!B||S===B)&&S.unsubscribe(),v.unsubscribe()});b.subscribe(C),C.closed||(_=b.connect())})}class Ue extends L.y{constructor(v,_){super(),this.source=v,this.subjectFactory=_,this._subject=null,this._refCount=0,this._connection=null,(0,oe.A)(v)&&(this.lift=v.lift)}_subscribe(v){return this.getSubject().subscribe(v)}getSubject(){const v=this._subject;return(!v||v.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:v}=this;this._subject=this._connection=null,null==v||v.unsubscribe()}connect(){let v=this._connection;if(!v){v=this._connection=new Fe.w0;const _=this.getSubject();v.add(this.source.subscribe((0,ne.x)(_,void 0,()=>{this._teardown(),_.complete()},C=>{this._teardown(),_.error(C)},()=>this._teardown()))),v.closed&&(this._connection=null,v=Fe.w0.EMPTY)}return v}refCount(){return nt()(this)}}var Ce=T(9646),Ve=T(1135),yt=T(6805),ve=T(7272),we=T(515),xe=T(7579),Ae=T(9300);function ze(b){return b<=0?()=>we.E:(0,oe.e)((v,_)=>{let C=[];v.subscribe((0,ne.x)(_,S=>{C.push(S),b<C.length&&C.shift()},()=>{for(const S of C)_.next(S);_.complete()},void 0,()=>{C=null}))})}var ke=T(8068),ht=T(6590),Lt=T(4004),In=T(3900),Ot=T(5698),St=T(8675),gn=T(5026),Bt=T(262),yn=T(4351),$t=T(590),bn=T(5577),on=T(8505),ln=T(8189),er=T(9808);class Zn{constructor(v,_){this.id=v,this.url=_}}class Ln extends Zn{constructor(v,_,C="imperative",S=null){super(v,_),this.navigationTrigger=C,this.restoredState=S}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class xn extends Zn{constructor(v,_,C){super(v,_),this.urlAfterRedirects=C}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class lr extends Zn{constructor(v,_,C){super(v,_),this.reason=C}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Nn extends Zn{constructor(v,_,C){super(v,_),this.error=C}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class tr extends Zn{constructor(v,_,C,S){super(v,_),this.urlAfterRedirects=C,this.state=S}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fn extends Zn{constructor(v,_,C,S){super(v,_),this.urlAfterRedirects=C,this.state=S}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Rt extends Zn{constructor(v,_,C,S,B){super(v,_),this.urlAfterRedirects=C,this.state=S,this.shouldActivate=B}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class $n extends Zn{constructor(v,_,C,S){super(v,_),this.urlAfterRedirects=C,this.state=S}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class nn extends Zn{constructor(v,_,C,S){super(v,_),this.urlAfterRedirects=C,this.state=S}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class wn{constructor(v){this.route=v}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Yr{constructor(v){this.route=v}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Rr{constructor(v){this.snapshot=v}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class rn{constructor(v){this.snapshot=v}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Vn{constructor(v){this.snapshot=v}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pr{constructor(v){this.snapshot=v}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Hn{constructor(v,_,C){this.routerEvent=v,this.position=_,this.anchor=C}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Et="primary";class Pt{constructor(v){this.params=v||{}}has(v){return Object.prototype.hasOwnProperty.call(this.params,v)}get(v){if(this.has(v)){const _=this.params[v];return Array.isArray(_)?_[0]:_}return null}getAll(v){if(this.has(v)){const _=this.params[v];return Array.isArray(_)?_:[_]}return[]}get keys(){return Object.keys(this.params)}}function Ht(b){return new Pt(b)}const gr="ngNavigationCancelingError";function zn(b){const v=Error("NavigationCancelingError: "+b);return v[gr]=!0,v}function Gr(b,v,_){const C=_.path.split("/");if(C.length>b.length||"full"===_.pathMatch&&(v.hasChildren()||C.length<b.length))return null;const S={};for(let B=0;B<C.length;B++){const ie=C[B],Ie=b[B];if(ie.startsWith(":"))S[ie.substring(1)]=Ie;else if(ie!==Ie.path)return null}return{consumed:b.slice(0,C.length),posParams:S}}function nr(b,v){const _=b?Object.keys(b):void 0,C=v?Object.keys(v):void 0;if(!_||!C||_.length!=C.length)return!1;let S;for(let B=0;B<_.length;B++)if(S=_[B],!pe(b[S],v[S]))return!1;return!0}function pe(b,v){if(Array.isArray(b)&&Array.isArray(v)){if(b.length!==v.length)return!1;const _=[...b].sort(),C=[...v].sort();return _.every((S,B)=>C[B]===S)}return b===v}function Ee(b){return Array.prototype.concat.apply([],b)}function Te(b){return b.length>0?b[b.length-1]:null}function He(b,v){for(const _ in b)b.hasOwnProperty(_)&&v(b[_],_)}function Mt(b){return(0,p.CqO)(b)?b:(0,p.QGY)(b)?(0,ue.D)(Promise.resolve(b)):(0,Ce.of)(b)}const tt={exact:function qt(b,v,_){if(!_r(b.segments,v.segments)||!wr(b.segments,v.segments,_)||b.numberOfChildren!==v.numberOfChildren)return!1;for(const C in v.children)if(!b.children[C]||!qt(b.children[C],v.children[C],_))return!1;return!0},subset:Kn},wt={exact:function vn(b,v){return nr(b,v)},subset:function Mn(b,v){return Object.keys(v).length<=Object.keys(b).length&&Object.keys(v).every(_=>pe(b[_],v[_]))},ignored:()=>!0};function Nt(b,v,_){return tt[_.paths](b.root,v.root,_.matrixParams)&&wt[_.queryParams](b.queryParams,v.queryParams)&&!("exact"===_.fragment&&b.fragment!==v.fragment)}function Kn(b,v,_){return ai(b,v,v.segments,_)}function ai(b,v,_,C){if(b.segments.length>_.length){const S=b.segments.slice(0,_.length);return!(!_r(S,_)||v.hasChildren()||!wr(S,_,C))}if(b.segments.length===_.length){if(!_r(b.segments,_)||!wr(b.segments,_,C))return!1;for(const S in v.children)if(!b.children[S]||!Kn(b.children[S],v.children[S],C))return!1;return!0}{const S=_.slice(0,b.segments.length),B=_.slice(b.segments.length);return!!(_r(b.segments,S)&&wr(b.segments,S,C)&&b.children[Et])&&ai(b.children[Et],v,B,C)}}function wr(b,v,_){return v.every((C,S)=>wt[_](b[S].parameters,C.parameters))}class Pn{constructor(v,_,C){this.root=v,this.queryParams=_,this.fragment=C}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ht(this.queryParams)),this._queryParamMap}toString(){return ui.serialize(this)}}class dn{constructor(v,_){this.segments=v,this.children=_,this.parent=null,He(_,(C,S)=>C.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Wr(this)}}class rr{constructor(v,_){this.path=v,this.parameters=_}get parameterMap(){return this._parameterMap||(this._parameterMap=Ht(this.parameters)),this._parameterMap}toString(){return Tr(this)}}function _r(b,v){return b.length===v.length&&b.every((_,C)=>_.path===v[C].path)}class Ar{}class Mi{parse(v){const _=new yi(v);return new Pn(_.parseRootSegment(),_.parseQueryParams(),_.parseFragment())}serialize(v){const _=`/${Pr(v.root,!0)}`,C=function qn(b){const v=Object.keys(b).map(_=>{const C=b[_];return Array.isArray(C)?C.map(S=>`${Sr(_)}=${Sr(S)}`).join("&"):`${Sr(_)}=${Sr(C)}`}).filter(_=>!!_);return v.length?`?${v.join("&")}`:""}(v.queryParams);return`${_}${C}${"string"==typeof v.fragment?`#${function On(b){return encodeURI(b)}(v.fragment)}`:""}`}}const ui=new Mi;function Wr(b){return b.segments.map(v=>Tr(v)).join("/")}function Pr(b,v){if(!b.hasChildren())return Wr(b);if(v){const _=b.children[Et]?Pr(b.children[Et],!1):"",C=[];return He(b.children,(S,B)=>{B!==Et&&C.push(`${B}:${Pr(S,!1)}`)}),C.length>0?`${_}(${C.join("//")})`:_}{const _=function Un(b,v){let _=[];return He(b.children,(C,S)=>{S===Et&&(_=_.concat(v(C,S)))}),He(b.children,(C,S)=>{S!==Et&&(_=_.concat(v(C,S)))}),_}(b,(C,S)=>S===Et?[Pr(b.children[Et],!1)]:[`${S}:${Pr(C,!1)}`]);return 1===Object.keys(b.children).length&&null!=b.children[Et]?`${Wr(b)}/${_[0]}`:`${Wr(b)}/(${_.join("//")})`}}function Wt(b){return encodeURIComponent(b).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Sr(b){return Wt(b).replace(/%3B/gi,";")}function lt(b){return Wt(b).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function an(b){return decodeURIComponent(b)}function Bn(b){return an(b.replace(/\+/g,"%20"))}function Tr(b){return`${lt(b.path)}${function zr(b){return Object.keys(b).map(v=>`;${lt(v)}=${lt(b[v])}`).join("")}(b.parameters)}`}const Qr=/^[^\/()?;=#]+/;function hn(b){const v=b.match(Qr);return v?v[0]:""}const Jr=/^[^=?&#]+/,En=/^[^&#]+/;class yi{constructor(v){this.url=v,this.remaining=v}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new dn([],{}):new dn([],this.parseChildren())}parseQueryParams(){const v={};if(this.consumeOptional("?"))do{this.parseQueryParam(v)}while(this.consumeOptional("&"));return v}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const v=[];for(this.peekStartsWith("(")||v.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),v.push(this.parseSegment());let _={};this.peekStartsWith("/(")&&(this.capture("/"),_=this.parseParens(!0));let C={};return this.peekStartsWith("(")&&(C=this.parseParens(!1)),(v.length>0||Object.keys(_).length>0)&&(C[Et]=new dn(v,_)),C}parseSegment(){const v=hn(this.remaining);if(""===v&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(v),new rr(an(v),this.parseMatrixParams())}parseMatrixParams(){const v={};for(;this.consumeOptional(";");)this.parseParam(v);return v}parseParam(v){const _=hn(this.remaining);if(!_)return;this.capture(_);let C="";if(this.consumeOptional("=")){const S=hn(this.remaining);S&&(C=S,this.capture(C))}v[an(_)]=an(C)}parseQueryParam(v){const _=function Yn(b){const v=b.match(Jr);return v?v[0]:""}(this.remaining);if(!_)return;this.capture(_);let C="";if(this.consumeOptional("=")){const ie=function ni(b){const v=b.match(En);return v?v[0]:""}(this.remaining);ie&&(C=ie,this.capture(C))}const S=Bn(_),B=Bn(C);if(v.hasOwnProperty(S)){let ie=v[S];Array.isArray(ie)||(ie=[ie],v[S]=ie),ie.push(B)}else v[S]=B}parseParens(v){const _={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const C=hn(this.remaining),S=this.remaining[C.length];if("/"!==S&&")"!==S&&";"!==S)throw new Error(`Cannot parse url '${this.url}'`);let B;C.indexOf(":")>-1?(B=C.substr(0,C.indexOf(":")),this.capture(B),this.capture(":")):v&&(B=Et);const ie=this.parseChildren();_[B]=1===Object.keys(ie).length?ie[Et]:new dn([],ie),this.consumeOptional("//")}return _}peekStartsWith(v){return this.remaining.startsWith(v)}consumeOptional(v){return!!this.peekStartsWith(v)&&(this.remaining=this.remaining.substring(v.length),!0)}capture(v){if(!this.consumeOptional(v))throw new Error(`Expected "${v}".`)}}class ge{constructor(v){this._root=v}get root(){return this._root.value}parent(v){const _=this.pathFromRoot(v);return _.length>1?_[_.length-2]:null}children(v){const _=rt(v,this._root);return _?_.children.map(C=>C.value):[]}firstChild(v){const _=rt(v,this._root);return _&&_.children.length>0?_.children[0].value:null}siblings(v){const _=Le(v,this._root);return _.length<2?[]:_[_.length-2].children.map(S=>S.value).filter(S=>S!==v)}pathFromRoot(v){return Le(v,this._root).map(_=>_.value)}}function rt(b,v){if(b===v.value)return v;for(const _ of v.children){const C=rt(b,_);if(C)return C}return null}function Le(b,v){if(b===v.value)return[v];for(const _ of v.children){const C=Le(b,_);if(C.length)return C.unshift(v),C}return[]}class qe{constructor(v,_){this.value=v,this.children=_}toString(){return`TreeNode(${this.value})`}}function vt(b){const v={};return b&&b.children.forEach(_=>v[_.value.outlet]=_),v}class bt extends ge{constructor(v,_){super(v),this.snapshot=_,Vt(this,v)}toString(){return this.snapshot.toString()}}function Ut(b,v){const _=function dr(b,v){const ie=new Be([],{},{},"",{},Et,v,null,b.root,-1,{});return new dt("",new qe(ie,[]))}(b,v),C=new Ve.X([new rr("",{})]),S=new Ve.X({}),B=new Ve.X({}),ie=new Ve.X({}),Ie=new Ve.X(""),ut=new ce(C,S,ie,Ie,B,Et,v,_.root);return ut.snapshot=_.root,new bt(new qe(ut,[]),_)}class ce{constructor(v,_,C,S,B,ie,Ie,ut){this.url=v,this.params=_,this.queryParams=C,this.fragment=S,this.data=B,this.outlet=ie,this.component=Ie,this._futureSnapshot=ut}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Lt.U)(v=>Ht(v)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Lt.U)(v=>Ht(v)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function de(b,v="emptyOnly"){const _=b.pathFromRoot;let C=0;if("always"!==v)for(C=_.length-1;C>=1;){const S=_[C],B=_[C-1];if(S.routeConfig&&""===S.routeConfig.path)C--;else{if(B.component)break;C--}}return function Q(b){return b.reduce((v,_)=>({params:Object.assign(Object.assign({},v.params),_.params),data:Object.assign(Object.assign({},v.data),_.data),resolve:Object.assign(Object.assign({},v.resolve),_._resolvedData)}),{params:{},data:{},resolve:{}})}(_.slice(C))}class Be{constructor(v,_,C,S,B,ie,Ie,ut,Gt,Jn,un){this.url=v,this.params=_,this.queryParams=C,this.fragment=S,this.data=B,this.outlet=ie,this.component=Ie,this.routeConfig=ut,this._urlSegment=Gt,this._lastPathIndex=Jn,this._resolve=un}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ht(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ht(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(C=>C.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class dt extends ge{constructor(v,_){super(_),this.url=v,Vt(this,_)}toString(){return sn(this._root)}}function Vt(b,v){v.value._routerState=b,v.children.forEach(_=>Vt(b,_))}function sn(b){const v=b.children.length>0?` { ${b.children.map(sn).join(", ")} } `:"";return`${b.value}${v}`}function Kr(b){if(b.snapshot){const v=b.snapshot,_=b._futureSnapshot;b.snapshot=_,nr(v.queryParams,_.queryParams)||b.queryParams.next(_.queryParams),v.fragment!==_.fragment&&b.fragment.next(_.fragment),nr(v.params,_.params)||b.params.next(_.params),function Cr(b,v){if(b.length!==v.length)return!1;for(let _=0;_<b.length;++_)if(!nr(b[_],v[_]))return!1;return!0}(v.url,_.url)||b.url.next(_.url),nr(v.data,_.data)||b.data.next(_.data)}else b.snapshot=b._futureSnapshot,b.data.next(b._futureSnapshot.data)}function Er(b,v){const _=nr(b.params,v.params)&&function yr(b,v){return _r(b,v)&&b.every((_,C)=>nr(_.parameters,v[C].parameters))}(b.url,v.url);return _&&!(!b.parent!=!v.parent)&&(!b.parent||Er(b.parent,v.parent))}function hr(b,v,_){if(_&&b.shouldReuseRoute(v.value,_.value.snapshot)){const C=_.value;C._futureSnapshot=v.value;const S=function Zs(b,v,_){return v.children.map(C=>{for(const S of _.children)if(b.shouldReuseRoute(C.value,S.value.snapshot))return hr(b,C,S);return hr(b,C)})}(b,v,_);return new qe(C,S)}{if(b.shouldAttach(v.value)){const B=b.retrieve(v.value);if(null!==B){const ie=B.route;return ie.value._futureSnapshot=v.value,ie.children=v.children.map(Ie=>hr(b,Ie)),ie}}const C=function Es(b){return new ce(new Ve.X(b.url),new Ve.X(b.params),new Ve.X(b.queryParams),new Ve.X(b.fragment),new Ve.X(b.data),b.outlet,b.component,b)}(v.value),S=v.children.map(B=>hr(b,B));return new qe(C,S)}}function be(b){return"object"==typeof b&&null!=b&&!b.outlets&&!b.segmentPath}function Ye(b){return"object"==typeof b&&null!=b&&b.outlets}function ft(b,v,_,C,S){let B={};return C&&He(C,(ie,Ie)=>{B[Ie]=Array.isArray(ie)?ie.map(ut=>`${ut}`):`${ie}`}),new Pn(_.root===b?v:Dt(_.root,b,v),B,S)}function Dt(b,v,_){const C={};return He(b.children,(S,B)=>{C[B]=S===v?_:Dt(S,v,_)}),new dn(b.segments,C)}class jt{constructor(v,_,C){if(this.isAbsolute=v,this.numberOfDoubleDots=_,this.commands=C,v&&C.length>0&&be(C[0]))throw new Error("Root segment cannot have matrix parameters");const S=C.find(Ye);if(S&&S!==Te(C))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class xr{constructor(v,_,C){this.segmentGroup=v,this.processChildren=_,this.index=C}}function es(b,v,_){if(b||(b=new dn([],{})),0===b.segments.length&&b.hasChildren())return Rs(b,v,_);const C=function _i(b,v,_){let C=0,S=v;const B={match:!1,pathIndex:0,commandIndex:0};for(;S<b.segments.length;){if(C>=_.length)return B;const ie=b.segments[S],Ie=_[C];if(Ye(Ie))break;const ut=`${Ie}`,Gt=C<_.length-1?_[C+1]:null;if(S>0&&void 0===ut)break;if(ut&&Gt&&"object"==typeof Gt&&void 0===Gt.outlets){if(!pi(ut,Gt,ie))return B;C+=2}else{if(!pi(ut,{},ie))return B;C++}S++}return{match:!0,pathIndex:S,commandIndex:C}}(b,v,_),S=_.slice(C.commandIndex);if(C.match&&C.pathIndex<b.segments.length){const B=new dn(b.segments.slice(0,C.pathIndex),{});return B.children[Et]=new dn(b.segments.slice(C.pathIndex),b.children),Rs(B,0,S)}return C.match&&0===S.length?new dn(b.segments,{}):C.match&&!b.hasChildren()?Hs(b,v,_):C.match?Rs(b,0,S):Hs(b,v,_)}function Rs(b,v,_){if(0===_.length)return new dn(b.segments,{});{const C=function $i(b){return Ye(b[0])?b[0].outlets:{[Et]:b}}(_),S={};return He(C,(B,ie)=>{"string"==typeof B&&(B=[B]),null!==B&&(S[ie]=es(b.children[ie],v,B))}),He(b.children,(B,ie)=>{void 0===C[ie]&&(S[ie]=B)}),new dn(b.segments,S)}}function Hs(b,v,_){const C=b.segments.slice(0,v);let S=0;for(;S<_.length;){const B=_[S];if(Ye(B)){const ut=ps(B.outlets);return new dn(C,ut)}if(0===S&&be(_[0])){C.push(new rr(b.segments[v].path,ts(_[0]))),S++;continue}const ie=Ye(B)?B.outlets[Et]:`${B}`,Ie=S<_.length-1?_[S+1]:null;ie&&Ie&&be(Ie)?(C.push(new rr(ie,ts(Ie))),S+=2):(C.push(new rr(ie,{})),S++)}return new dn(C,{})}function ps(b){const v={};return He(b,(_,C)=>{"string"==typeof _&&(_=[_]),null!==_&&(v[C]=Hs(new dn([],{}),0,_))}),v}function ts(b){const v={};return He(b,(_,C)=>v[C]=`${_}`),v}function pi(b,v,_){return b==_.path&&nr(v,_.parameters)}class gs{constructor(v,_,C,S){this.routeReuseStrategy=v,this.futureState=_,this.currState=C,this.forwardEvent=S}activate(v){const _=this.futureState._root,C=this.currState?this.currState._root:null;this.deactivateChildRoutes(_,C,v),Kr(this.futureState.root),this.activateChildRoutes(_,C,v)}deactivateChildRoutes(v,_,C){const S=vt(_);v.children.forEach(B=>{const ie=B.value.outlet;this.deactivateRoutes(B,S[ie],C),delete S[ie]}),He(S,(B,ie)=>{this.deactivateRouteAndItsChildren(B,C)})}deactivateRoutes(v,_,C){const S=v.value,B=_?_.value:null;if(S===B)if(S.component){const ie=C.getContext(S.outlet);ie&&this.deactivateChildRoutes(v,_,ie.children)}else this.deactivateChildRoutes(v,_,C);else B&&this.deactivateRouteAndItsChildren(_,C)}deactivateRouteAndItsChildren(v,_){v.value.component&&this.routeReuseStrategy.shouldDetach(v.value.snapshot)?this.detachAndStoreRouteSubtree(v,_):this.deactivateRouteAndOutlet(v,_)}detachAndStoreRouteSubtree(v,_){const C=_.getContext(v.value.outlet),S=C&&v.value.component?C.children:_,B=vt(v);for(const ie of Object.keys(B))this.deactivateRouteAndItsChildren(B[ie],S);if(C&&C.outlet){const ie=C.outlet.detach(),Ie=C.children.onOutletDeactivated();this.routeReuseStrategy.store(v.value.snapshot,{componentRef:ie,route:v,contexts:Ie})}}deactivateRouteAndOutlet(v,_){const C=_.getContext(v.value.outlet),S=C&&v.value.component?C.children:_,B=vt(v);for(const ie of Object.keys(B))this.deactivateRouteAndItsChildren(B[ie],S);C&&C.outlet&&(C.outlet.deactivate(),C.children.onOutletDeactivated(),C.attachRef=null,C.resolver=null,C.route=null)}activateChildRoutes(v,_,C){const S=vt(_);v.children.forEach(B=>{this.activateRoutes(B,S[B.value.outlet],C),this.forwardEvent(new pr(B.value.snapshot))}),v.children.length&&this.forwardEvent(new rn(v.value.snapshot))}activateRoutes(v,_,C){const S=v.value,B=_?_.value:null;if(Kr(S),S===B)if(S.component){const ie=C.getOrCreateContext(S.outlet);this.activateChildRoutes(v,_,ie.children)}else this.activateChildRoutes(v,_,C);else if(S.component){const ie=C.getOrCreateContext(S.outlet);if(this.routeReuseStrategy.shouldAttach(S.snapshot)){const Ie=this.routeReuseStrategy.retrieve(S.snapshot);this.routeReuseStrategy.store(S.snapshot,null),ie.children.onOutletReAttached(Ie.contexts),ie.attachRef=Ie.componentRef,ie.route=Ie.route.value,ie.outlet&&ie.outlet.attach(Ie.componentRef,Ie.route.value),Kr(Ie.route.value),this.activateChildRoutes(v,null,ie.children)}else{const Ie=function ls(b){for(let v=b.parent;v;v=v.parent){const _=v.routeConfig;if(_&&_._loadedConfig)return _._loadedConfig;if(_&&_.component)return null}return null}(S.snapshot),ut=Ie?Ie.module.componentFactoryResolver:null;ie.attachRef=null,ie.route=S,ie.resolver=ut,ie.outlet&&ie.outlet.activateWith(S,ut),this.activateChildRoutes(v,null,ie.children)}}else this.activateChildRoutes(v,null,C)}}class Gs{constructor(v,_){this.routes=v,this.module=_}}function Hi(b){return"function"==typeof b}function Oi(b){return b instanceof Pn}const $r=Symbol("INITIAL_VALUE");function Is(){return(0,In.w)(b=>function X(...b){const v=(0,ye.yG)(b),_=(0,ye.jO)(b),{args:C,keys:S}=(0,V.D)(b);if(0===C.length)return(0,ue.D)([],v);const B=new L.y(function re(b,v,_=ee.y){return C=>{je(v,()=>{const{length:S}=b,B=new Array(S);let ie=S,Ie=S;for(let ut=0;ut<S;ut++)je(v,()=>{const Gt=(0,ue.D)(b[ut],v);let Jn=!1;Gt.subscribe((0,ne.x)(C,un=>{B[ut]=un,Jn||(Jn=!0,Ie--),Ie||C.next(_(B.slice()))},()=>{--ie||C.complete()}))},C)},C)}}(C,v,S?ie=>(0,ae.n)(S,ie):ee.y));return _?B.pipe((0,le.Z)(_)):B}(b.map(v=>v.pipe((0,Ot.q)(1),(0,St.O)($r)))).pipe((0,gn.R)((v,_)=>{let C=!1;return _.reduce((S,B,ie)=>S!==$r?S:(B===$r&&(C=!0),C||!1!==B&&ie!==_.length-1&&!Oi(B)?S:B),v)},$r),(0,Ae.h)(v=>v!==$r),(0,Lt.U)(v=>Oi(v)?v:!0===v),(0,Ot.q)(1)))}class Ys{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new vi,this.attachRef=null}}class vi{constructor(){this.contexts=new Map}onChildOutletCreated(v,_){const C=this.getOrCreateContext(v);C.outlet=_,this.contexts.set(v,C)}onChildOutletDestroyed(v){const _=this.getContext(v);_&&(_.outlet=null,_.attachRef=null)}onOutletDeactivated(){const v=this.contexts;return this.contexts=new Map,v}onOutletReAttached(v){this.contexts=v}getOrCreateContext(v){let _=this.getContext(v);return _||(_=new Ys,this.contexts.set(v,_)),_}getContext(v){return this.contexts.get(v)||null}}let wi=(()=>{class b{constructor(_,C,S,B,ie){this.parentContexts=_,this.location=C,this.resolver=S,this.changeDetector=ie,this.activated=null,this._activatedRoute=null,this.activateEvents=new p.vpe,this.deactivateEvents=new p.vpe,this.attachEvents=new p.vpe,this.detachEvents=new p.vpe,this.name=B||Et,_.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const _=this.parentContexts.getContext(this.name);_&&_.route&&(_.attachRef?this.attach(_.attachRef,_.route):this.activateWith(_.route,_.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const _=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(_.instance),_}attach(_,C){this.activated=_,this._activatedRoute=C,this.location.insert(_.hostView),this.attachEvents.emit(_.instance)}deactivate(){if(this.activated){const _=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(_)}}activateWith(_,C){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=_;const ie=(C=C||this.resolver).resolveComponentFactory(_._futureSnapshot.routeConfig.component),Ie=this.parentContexts.getOrCreateContext(this.name).children,ut=new ns(_,Ie,this.location.injector);this.activated=this.location.createComponent(ie,this.location.length,ut),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return b.\u0275fac=function(_){return new(_||b)(p.Y36(vi),p.Y36(p.s_b),p.Y36(p._Vd),p.$8M("name"),p.Y36(p.sBO))},b.\u0275dir=p.lG2({type:b,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),b})();class ns{constructor(v,_,C){this.route=v,this.childContexts=_,this.parent=C}get(v,_){return v===ce?this.route:v===vi?this.childContexts:this.parent.get(v,_)}}let Ps=(()=>{class b{}return b.\u0275fac=function(_){return new(_||b)},b.\u0275cmp=p.Xpm({type:b,selectors:[["ng-component"]],decls:1,vars:0,template:function(_,C){1&_&&p._UZ(0,"router-outlet")},directives:[wi],encapsulation:2}),b})();function Ri(b,v=""){for(let _=0;_<b.length;_++){const C=b[_];Wi(C,Gn(v,C))}}function Wi(b,v){b.children&&Ri(b.children,v)}function Gn(b,v){return v?b||v.path?b&&!v.path?`${b}/`:!b&&v.path?v.path:`${b}/${v.path}`:"":b}function N(b){const v=b.children&&b.children.map(N),_=v?Object.assign(Object.assign({},b),{children:v}):Object.assign({},b);return!_.component&&(v||_.loadChildren)&&_.outlet&&_.outlet!==Et&&(_.component=Ps),_}function G(b){return b.outlet||Et}function P(b,v){const _=b.filter(C=>G(C)===v);return _.push(...b.filter(C=>G(C)!==v)),_}const Z={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function _e(b,v,_){var C;if(""===v.path)return"full"===v.pathMatch&&(b.hasChildren()||_.length>0)?Object.assign({},Z):{matched:!0,consumedSegments:[],remainingSegments:_,parameters:{},positionalParamSegments:{}};const B=(v.matcher||Gr)(_,b,v);if(!B)return Object.assign({},Z);const ie={};He(B.posParams,(ut,Gt)=>{ie[Gt]=ut.path});const Ie=B.consumed.length>0?Object.assign(Object.assign({},ie),B.consumed[B.consumed.length-1].parameters):ie;return{matched:!0,consumedSegments:B.consumed,remainingSegments:_.slice(B.consumed.length),parameters:Ie,positionalParamSegments:null!==(C=B.posParams)&&void 0!==C?C:{}}}function Je(b,v,_,C,S="corrected"){if(_.length>0&&function _n(b,v,_){return _.some(C=>Cn(b,v,C)&&G(C)!==Et)}(b,_,C)){const ie=new dn(v,function Zt(b,v,_,C){const S={};S[Et]=C,C._sourceSegment=b,C._segmentIndexShift=v.length;for(const B of _)if(""===B.path&&G(B)!==Et){const ie=new dn([],{});ie._sourceSegment=b,ie._segmentIndexShift=v.length,S[G(B)]=ie}return S}(b,v,C,new dn(_,b.children)));return ie._sourceSegment=b,ie._segmentIndexShift=v.length,{segmentGroup:ie,slicedSegments:[]}}if(0===_.length&&function kn(b,v,_){return _.some(C=>Cn(b,v,C))}(b,_,C)){const ie=new dn(b.segments,function pt(b,v,_,C,S,B){const ie={};for(const Ie of C)if(Cn(b,_,Ie)&&!S[G(Ie)]){const ut=new dn([],{});ut._sourceSegment=b,ut._segmentIndexShift="legacy"===B?b.segments.length:v.length,ie[G(Ie)]=ut}return Object.assign(Object.assign({},S),ie)}(b,v,_,C,b.children,S));return ie._sourceSegment=b,ie._segmentIndexShift=v.length,{segmentGroup:ie,slicedSegments:_}}const B=new dn(b.segments,b.children);return B._sourceSegment=b,B._segmentIndexShift=v.length,{segmentGroup:B,slicedSegments:_}}function Cn(b,v,_){return(!(b.hasChildren()||v.length>0)||"full"!==_.pathMatch)&&""===_.path}function Wn(b,v,_,C){return!!(G(b)===C||C!==Et&&Cn(v,_,b))&&("**"===b.path||_e(v,b,_).matched)}function Nr(b,v,_){return 0===v.length&&!b.children[_]}class mr{constructor(v){this.segmentGroup=v||null}}class fr{constructor(v){this.urlTree=v}}function Pi(b){return $e(new mr(b))}function qr(b){return $e(new fr(b))}class F{constructor(v,_,C,S,B){this.configLoader=_,this.urlSerializer=C,this.urlTree=S,this.config=B,this.allowRedirects=!0,this.ngModule=v.get(p.h0i)}apply(){const v=Je(this.urlTree.root,[],[],this.config).segmentGroup,_=new dn(v.segments,v.children);return this.expandSegmentGroup(this.ngModule,this.config,_,Et).pipe((0,Lt.U)(B=>this.createUrlTree(M(B),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,Bt.K)(B=>{if(B instanceof fr)return this.allowRedirects=!1,this.match(B.urlTree);throw B instanceof mr?this.noMatchError(B):B}))}match(v){return this.expandSegmentGroup(this.ngModule,this.config,v.root,Et).pipe((0,Lt.U)(S=>this.createUrlTree(M(S),v.queryParams,v.fragment))).pipe((0,Bt.K)(S=>{throw S instanceof mr?this.noMatchError(S):S}))}noMatchError(v){return new Error(`Cannot match any routes. URL Segment: '${v.segmentGroup}'`)}createUrlTree(v,_,C){const S=v.segments.length>0?new dn([],{[Et]:v}):v;return new Pn(S,_,C)}expandSegmentGroup(v,_,C,S){return 0===C.segments.length&&C.hasChildren()?this.expandChildren(v,_,C).pipe((0,Lt.U)(B=>new dn([],B))):this.expandSegment(v,C,_,C.segments,S,!0)}expandChildren(v,_,C){const S=[];for(const B of Object.keys(C.children))"primary"===B?S.unshift(B):S.push(B);return(0,ue.D)(S).pipe((0,yn.b)(B=>{const ie=C.children[B],Ie=P(_,B);return this.expandSegmentGroup(v,Ie,ie,B).pipe((0,Lt.U)(ut=>({segment:ut,outlet:B})))}),(0,gn.R)((B,ie)=>(B[ie.outlet]=ie.segment,B),{}),function Qe(b,v){const _=arguments.length>=2;return C=>C.pipe(b?(0,Ae.h)((S,B)=>b(S,B,C)):ee.y,ze(1),_?(0,ht.d)(v):(0,ke.T)(()=>new yt.K))}())}expandSegment(v,_,C,S,B,ie){return(0,ue.D)(C).pipe((0,yn.b)(Ie=>this.expandSegmentAgainstRoute(v,_,C,Ie,S,B,ie).pipe((0,Bt.K)(Gt=>{if(Gt instanceof mr)return(0,Ce.of)(null);throw Gt}))),(0,$t.P)(Ie=>!!Ie),(0,Bt.K)((Ie,ut)=>{if(Ie instanceof yt.K||"EmptyError"===Ie.name)return Nr(_,S,B)?(0,Ce.of)(new dn([],{})):Pi(_);throw Ie}))}expandSegmentAgainstRoute(v,_,C,S,B,ie,Ie){return Wn(S,_,B,ie)?void 0===S.redirectTo?this.matchSegmentAgainstRoute(v,_,S,B,ie):Ie&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(v,_,C,S,B,ie):Pi(_):Pi(_)}expandSegmentAgainstRouteUsingRedirect(v,_,C,S,B,ie){return"**"===S.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(v,C,S,ie):this.expandRegularSegmentAgainstRouteUsingRedirect(v,_,C,S,B,ie)}expandWildCardWithParamsAgainstRouteUsingRedirect(v,_,C,S){const B=this.applyRedirectCommands([],C.redirectTo,{});return C.redirectTo.startsWith("/")?qr(B):this.lineralizeSegments(C,B).pipe((0,bn.z)(ie=>{const Ie=new dn(ie,{});return this.expandSegment(v,Ie,_,ie,S,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(v,_,C,S,B,ie){const{matched:Ie,consumedSegments:ut,remainingSegments:Gt,positionalParamSegments:Jn}=_e(_,S,B);if(!Ie)return Pi(_);const un=this.applyRedirectCommands(ut,S.redirectTo,Jn);return S.redirectTo.startsWith("/")?qr(un):this.lineralizeSegments(S,un).pipe((0,bn.z)(vr=>this.expandSegment(v,_,C,vr.concat(Gt),ie,!1)))}matchSegmentAgainstRoute(v,_,C,S,B){if("**"===C.path)return C.loadChildren?(C._loadedConfig?(0,Ce.of)(C._loadedConfig):this.configLoader.load(v.injector,C)).pipe((0,Lt.U)(un=>(C._loadedConfig=un,new dn(S,{})))):(0,Ce.of)(new dn(S,{}));const{matched:ie,consumedSegments:Ie,remainingSegments:ut}=_e(_,C,S);return ie?this.getChildConfig(v,C,S).pipe((0,bn.z)(Jn=>{const un=Jn.module,vr=Jn.routes,{segmentGroup:sr,slicedSegments:As}=Je(_,Ie,ut,vr),mo=new dn(sr.segments,sr.children);if(0===As.length&&mo.hasChildren())return this.expandChildren(un,vr,mo).pipe((0,Lt.U)(Fn=>new dn(Ie,Fn)));if(0===vr.length&&0===As.length)return(0,Ce.of)(new dn(Ie,{}));const bi=G(C)===B;return this.expandSegment(un,mo,vr,As,bi?Et:B,!0).pipe((0,Lt.U)(Ss=>new dn(Ie.concat(Ss.segments),Ss.children)))})):Pi(_)}getChildConfig(v,_,C){return _.children?(0,Ce.of)(new Gs(_.children,v)):_.loadChildren?void 0!==_._loadedConfig?(0,Ce.of)(_._loadedConfig):this.runCanLoadGuards(v.injector,_,C).pipe((0,bn.z)(S=>S?this.configLoader.load(v.injector,_).pipe((0,Lt.U)(B=>(_._loadedConfig=B,B))):function ds(b){return $e(zn(`Cannot load children because the guard of the route "path: '${b.path}'" returned false`))}(_))):(0,Ce.of)(new Gs([],v))}runCanLoadGuards(v,_,C){const S=_.canLoad;if(!S||0===S.length)return(0,Ce.of)(!0);const B=S.map(ie=>{const Ie=v.get(ie);let ut;if(function Gi(b){return b&&Hi(b.canLoad)}(Ie))ut=Ie.canLoad(_,C);else{if(!Hi(Ie))throw new Error("Invalid CanLoad guard");ut=Ie(_,C)}return Mt(ut)});return(0,Ce.of)(B).pipe(Is(),(0,on.b)(ie=>{if(!Oi(ie))return;const Ie=zn(`Redirecting to "${this.urlSerializer.serialize(ie)}"`);throw Ie.url=ie,Ie}),(0,Lt.U)(ie=>!0===ie))}lineralizeSegments(v,_){let C=[],S=_.root;for(;;){if(C=C.concat(S.segments),0===S.numberOfChildren)return(0,Ce.of)(C);if(S.numberOfChildren>1||!S.children[Et])return $e(new Error(`Only absolute redirects can have named outlets. redirectTo: '${v.redirectTo}'`));S=S.children[Et]}}applyRedirectCommands(v,_,C){return this.applyRedirectCreatreUrlTree(_,this.urlSerializer.parse(_),v,C)}applyRedirectCreatreUrlTree(v,_,C,S){const B=this.createSegmentGroup(v,_.root,C,S);return new Pn(B,this.createQueryParams(_.queryParams,this.urlTree.queryParams),_.fragment)}createQueryParams(v,_){const C={};return He(v,(S,B)=>{if("string"==typeof S&&S.startsWith(":")){const Ie=S.substring(1);C[B]=_[Ie]}else C[B]=S}),C}createSegmentGroup(v,_,C,S){const B=this.createSegments(v,_.segments,C,S);let ie={};return He(_.children,(Ie,ut)=>{ie[ut]=this.createSegmentGroup(v,Ie,C,S)}),new dn(B,ie)}createSegments(v,_,C,S){return _.map(B=>B.path.startsWith(":")?this.findPosParam(v,B,S):this.findOrReturn(B,C))}findPosParam(v,_,C){const S=C[_.path.substring(1)];if(!S)throw new Error(`Cannot redirect to '${v}'. Cannot find '${_.path}'.`);return S}findOrReturn(v,_){let C=0;for(const S of _){if(S.path===v.path)return _.splice(C),S;C++}return v}}function M(b){const v={};for(const C of Object.keys(b.children)){const B=M(b.children[C]);(B.segments.length>0||B.hasChildren())&&(v[C]=B)}return function R(b){if(1===b.numberOfChildren&&b.children[Et]){const v=b.children[Et];return new dn(b.segments.concat(v.segments),v.children)}return b}(new dn(b.segments,v))}class at{constructor(v){this.path=v,this.route=this.path[this.path.length-1]}}class Ge{constructor(v,_){this.component=v,this.route=_}}function Qt(b,v,_){const C=b._root;return zi(C,v?v._root:null,_,[C.value])}function ur(b,v,_){const C=function Ni(b){if(!b)return null;for(let v=b.parent;v;v=v.parent){const _=v.routeConfig;if(_&&_._loadedConfig)return _._loadedConfig}return null}(v);return(C?C.module.injector:_).get(b)}function zi(b,v,_,C,S={canDeactivateChecks:[],canActivateChecks:[]}){const B=vt(v);return b.children.forEach(ie=>{(function Ei(b,v,_,C,S={canDeactivateChecks:[],canActivateChecks:[]}){const B=b.value,ie=v?v.value:null,Ie=_?_.getContext(b.value.outlet):null;if(ie&&B.routeConfig===ie.routeConfig){const ut=function uo(b,v,_){if("function"==typeof _)return _(b,v);switch(_){case"pathParamsChange":return!_r(b.url,v.url);case"pathParamsOrQueryParamsChange":return!_r(b.url,v.url)||!nr(b.queryParams,v.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Er(b,v)||!nr(b.queryParams,v.queryParams);default:return!Er(b,v)}}(ie,B,B.routeConfig.runGuardsAndResolvers);ut?S.canActivateChecks.push(new at(C)):(B.data=ie.data,B._resolvedData=ie._resolvedData),zi(b,v,B.component?Ie?Ie.children:null:_,C,S),ut&&Ie&&Ie.outlet&&Ie.outlet.isActivated&&S.canDeactivateChecks.push(new Ge(Ie.outlet.component,ie))}else ie&&Qs(v,Ie,S),S.canActivateChecks.push(new at(C)),zi(b,null,B.component?Ie?Ie.children:null:_,C,S)})(ie,B[ie.value.outlet],_,C.concat([ie.value]),S),delete B[ie.value.outlet]}),He(B,(ie,Ie)=>Qs(ie,_.getContext(Ie),S)),S}function Qs(b,v,_){const C=vt(b),S=b.value;He(C,(B,ie)=>{Qs(B,S.component?v?v.children.getContext(ie):null:v,_)}),_.canDeactivateChecks.push(new Ge(S.component&&v&&v.outlet&&v.outlet.isActivated?v.outlet.component:null,S))}class ki{}function Do(b){return new L.y(v=>v.error(b))}class Co{constructor(v,_,C,S,B,ie){this.rootComponentType=v,this.config=_,this.urlTree=C,this.url=S,this.paramsInheritanceStrategy=B,this.relativeLinkResolution=ie}recognize(){const v=Je(this.urlTree.root,[],[],this.config.filter(ie=>void 0===ie.redirectTo),this.relativeLinkResolution).segmentGroup,_=this.processSegmentGroup(this.config,v,Et);if(null===_)return null;const C=new Be([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Et,this.rootComponentType,null,this.urlTree.root,-1,{}),S=new qe(C,_),B=new dt(this.url,S);return this.inheritParamsAndData(B._root),B}inheritParamsAndData(v){const _=v.value,C=de(_,this.paramsInheritanceStrategy);_.params=Object.freeze(C.params),_.data=Object.freeze(C.data),v.children.forEach(S=>this.inheritParamsAndData(S))}processSegmentGroup(v,_,C){return 0===_.segments.length&&_.hasChildren()?this.processChildren(v,_):this.processSegment(v,_,_.segments,C)}processChildren(v,_){const C=[];for(const B of Object.keys(_.children)){const ie=_.children[B],Ie=P(v,B),ut=this.processSegmentGroup(Ie,ie,B);if(null===ut)return null;C.push(...ut)}const S=co(C);return function Na(b){b.sort((v,_)=>v.value.outlet===Et?-1:_.value.outlet===Et?1:v.value.outlet.localeCompare(_.value.outlet))}(S),S}processSegment(v,_,C,S){for(const B of v){const ie=this.processSegmentAgainstRoute(B,_,C,S);if(null!==ie)return ie}return Nr(_,C,S)?[]:null}processSegmentAgainstRoute(v,_,C,S){if(v.redirectTo||!Wn(v,_,C,S))return null;let B,ie=[],Ie=[];if("**"===v.path){const sr=C.length>0?Te(C).parameters:{};B=new Be(C,sr,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Cs(v),G(v),v.component,v,Bo(_),Xs(_)+C.length,jo(v))}else{const sr=_e(_,v,C);if(!sr.matched)return null;ie=sr.consumedSegments,Ie=sr.remainingSegments,B=new Be(ie,sr.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Cs(v),G(v),v.component,v,Bo(_),Xs(_)+ie.length,jo(v))}const ut=function Js(b){return b.children?b.children:b.loadChildren?b._loadedConfig.routes:[]}(v),{segmentGroup:Gt,slicedSegments:Jn}=Je(_,ie,Ie,ut.filter(sr=>void 0===sr.redirectTo),this.relativeLinkResolution);if(0===Jn.length&&Gt.hasChildren()){const sr=this.processChildren(ut,Gt);return null===sr?null:[new qe(B,sr)]}if(0===ut.length&&0===Jn.length)return[new qe(B,[])];const un=G(v)===S,vr=this.processSegment(ut,Gt,Jn,un?Et:S);return null===vr?null:[new qe(B,vr)]}}function ya(b){const v=b.value.routeConfig;return v&&""===v.path&&void 0===v.redirectTo}function co(b){const v=[],_=new Set;for(const C of b){if(!ya(C)){v.push(C);continue}const S=v.find(B=>C.value.routeConfig===B.value.routeConfig);void 0!==S?(S.children.push(...C.children),_.add(S)):v.push(C)}for(const C of _){const S=co(C.children);v.push(new qe(C.value,S))}return v.filter(C=>!_.has(C))}function Bo(b){let v=b;for(;v._sourceSegment;)v=v._sourceSegment;return v}function Xs(b){let v=b,_=v._segmentIndexShift?v._segmentIndexShift:0;for(;v._sourceSegment;)v=v._sourceSegment,_+=v._segmentIndexShift?v._segmentIndexShift:0;return _-1}function Cs(b){return b.data||{}}function jo(b){return b.resolve||{}}function eo(b){return[...Object.keys(b),...Object.getOwnPropertySymbols(b)]}function ii(b){return(0,In.w)(v=>{const _=b(v);return _?(0,ue.D)(_).pipe((0,Lt.U)(()=>v)):(0,Ce.of)(v)})}class ru extends class si{shouldDetach(v){return!1}store(v,_){}shouldAttach(v){return!1}retrieve(v){return null}shouldReuseRoute(v,_){return v.routeConfig===_.routeConfig}}{}const to=new p.OlP("ROUTES");class iu{constructor(v,_,C,S){this.injector=v,this.compiler=_,this.onLoadStartListener=C,this.onLoadEndListener=S}load(v,_){if(_._loader$)return _._loader$;this.onLoadStartListener&&this.onLoadStartListener(_);const S=this.loadModuleFactory(_.loadChildren).pipe((0,Lt.U)(B=>{this.onLoadEndListener&&this.onLoadEndListener(_);const ie=B.create(v);return new Gs(Ee(ie.injector.get(to,void 0,p.XFs.Self|p.XFs.Optional)).map(N),ie)}),(0,Bt.K)(B=>{throw _._loader$=void 0,B}));return _._loader$=new Ue(S,()=>new xe.x).pipe(nt()),_._loader$}loadModuleFactory(v){return Mt(v()).pipe((0,bn.z)(_=>_ instanceof p.YKP?(0,Ce.of)(_):(0,ue.D)(this.compiler.compileModuleAsync(_))))}}class ho{shouldProcessUrl(v){return!0}extract(v){return v}merge(v,_){return v}}function ra(b){throw b}function ms(b,v,_){return v.parse("/")}function Ts(b,v){return(0,Ce.of)(null)}const To={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},$o={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let cr=(()=>{class b{constructor(_,C,S,B,ie,Ie,ut){this.rootComponentType=_,this.urlSerializer=C,this.rootContexts=S,this.location=B,this.config=ut,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new xe.x,this.errorHandler=ra,this.malformedUriErrorHandler=ms,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Ts,afterPreactivation:Ts},this.urlHandlingStrategy=new ho,this.routeReuseStrategy=new ru,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=ie.get(p.h0i),this.console=ie.get(p.c2e);const un=ie.get(p.R0b);this.isNgZoneEnabled=un instanceof p.R0b&&p.R0b.isInAngularZone(),this.resetConfig(ut),this.currentUrlTree=function et(){return new Pn(new dn([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new iu(ie,Ie,vr=>this.triggerEvent(new wn(vr)),vr=>this.triggerEvent(new Yr(vr))),this.routerState=Ut(this.currentUrlTree,this.rootComponentType),this.transitions=new Ve.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var _;return null===(_=this.location.getState())||void 0===_?void 0:_.\u0275routerPageId}setupNavigations(_){const C=this.events;return _.pipe((0,Ae.h)(S=>0!==S.id),(0,Lt.U)(S=>Object.assign(Object.assign({},S),{extractedUrl:this.urlHandlingStrategy.extract(S.rawUrl)})),(0,In.w)(S=>{let B=!1,ie=!1;return(0,Ce.of)(S).pipe((0,on.b)(Ie=>{this.currentNavigation={id:Ie.id,initialUrl:Ie.currentRawUrl,extractedUrl:Ie.extractedUrl,trigger:Ie.source,extras:Ie.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,In.w)(Ie=>{const ut=this.browserUrlTree.toString(),Gt=!this.navigated||Ie.extractedUrl.toString()!==ut||ut!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||Gt)&&this.urlHandlingStrategy.shouldProcessUrl(Ie.rawUrl))return Ci(Ie.source)&&(this.browserUrlTree=Ie.extractedUrl),(0,Ce.of)(Ie).pipe((0,In.w)(un=>{const vr=this.transitions.getValue();return C.next(new Ln(un.id,this.serializeUrl(un.extractedUrl),un.source,un.restoredState)),vr!==this.transitions.getValue()?we.E:Promise.resolve(un)}),function z(b,v,_,C){return(0,In.w)(S=>function zs(b,v,_,C,S){return new F(b,v,_,C,S).apply()}(b,v,_,S.extractedUrl,C).pipe((0,Lt.U)(B=>Object.assign(Object.assign({},S),{urlAfterRedirects:B}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,on.b)(un=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:un.urlAfterRedirects})}),function Ki(b,v,_,C,S){return(0,bn.z)(B=>function ri(b,v,_,C,S="emptyOnly",B="legacy"){try{const ie=new Co(b,v,_,C,S,B).recognize();return null===ie?Do(new ki):(0,Ce.of)(ie)}catch(ie){return Do(ie)}}(b,v,B.urlAfterRedirects,_(B.urlAfterRedirects),C,S).pipe((0,Lt.U)(ie=>Object.assign(Object.assign({},B),{targetSnapshot:ie}))))}(this.rootComponentType,this.config,un=>this.serializeUrl(un),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,on.b)(un=>{if("eager"===this.urlUpdateStrategy){if(!un.extras.skipLocationChange){const sr=this.urlHandlingStrategy.merge(un.urlAfterRedirects,un.rawUrl);this.setBrowserUrl(sr,un)}this.browserUrlTree=un.urlAfterRedirects}const vr=new tr(un.id,this.serializeUrl(un.extractedUrl),this.serializeUrl(un.urlAfterRedirects),un.targetSnapshot);C.next(vr)}));if(Gt&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:vr,extractedUrl:sr,source:As,restoredState:mo,extras:bi}=Ie,Ko=new Ln(vr,this.serializeUrl(sr),As,mo);C.next(Ko);const Ss=Ut(sr,this.rootComponentType).snapshot;return(0,Ce.of)(Object.assign(Object.assign({},Ie),{targetSnapshot:Ss,urlAfterRedirects:sr,extras:Object.assign(Object.assign({},bi),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=Ie.rawUrl,Ie.resolve(null),we.E}),ii(Ie=>{const{targetSnapshot:ut,id:Gt,extractedUrl:Jn,rawUrl:un,extras:{skipLocationChange:vr,replaceUrl:sr}}=Ie;return this.hooks.beforePreactivation(ut,{navigationId:Gt,appliedUrlTree:Jn,rawUrlTree:un,skipLocationChange:!!vr,replaceUrl:!!sr})}),(0,on.b)(Ie=>{const ut=new fn(Ie.id,this.serializeUrl(Ie.extractedUrl),this.serializeUrl(Ie.urlAfterRedirects),Ie.targetSnapshot);this.triggerEvent(ut)}),(0,Lt.U)(Ie=>Object.assign(Object.assign({},Ie),{guards:Qt(Ie.targetSnapshot,Ie.currentSnapshot,this.rootContexts)})),function Pa(b,v){return(0,bn.z)(_=>{const{targetSnapshot:C,currentSnapshot:S,guards:{canActivateChecks:B,canDeactivateChecks:ie}}=_;return 0===ie.length&&0===B.length?(0,Ce.of)(Object.assign(Object.assign({},_),{guardsResult:!0})):function ma(b,v,_,C){return(0,ue.D)(b).pipe((0,bn.z)(S=>function rs(b,v,_,C,S){const B=v&&v.routeConfig?v.routeConfig.canDeactivate:null;if(!B||0===B.length)return(0,Ce.of)(!0);const ie=B.map(Ie=>{const ut=ur(Ie,v,S);let Gt;if(function Mr(b){return b&&Hi(b.canDeactivate)}(ut))Gt=Mt(ut.canDeactivate(b,v,_,C));else{if(!Hi(ut))throw new Error("Invalid CanDeactivate guard");Gt=Mt(ut(b,v,_,C))}return Gt.pipe((0,$t.P)())});return(0,Ce.of)(ie).pipe(Is())}(S.component,S.route,_,v,C)),(0,$t.P)(S=>!0!==S,!0))}(ie,C,S,b).pipe((0,bn.z)(Ie=>Ie&&function bs(b){return"boolean"==typeof b}(Ie)?function Ks(b,v,_,C){return(0,ue.D)(v).pipe((0,yn.b)(S=>(0,ve.z)(function Xr(b,v){return null!==b&&v&&v(new Rr(b)),(0,Ce.of)(!0)}(S.route.parent,C),function Ds(b,v){return null!==b&&v&&v(new Vn(b)),(0,Ce.of)(!0)}(S.route,C),function ta(b,v,_){const C=v[v.length-1],B=v.slice(0,v.length-1).reverse().map(ie=>function Zr(b){const v=b.routeConfig?b.routeConfig.canActivateChild:null;return v&&0!==v.length?{node:b,guards:v}:null}(ie)).filter(ie=>null!==ie).map(ie=>De(()=>{const Ie=ie.guards.map(ut=>{const Gt=ur(ut,ie.node,_);let Jn;if(function Ws(b){return b&&Hi(b.canActivateChild)}(Gt))Jn=Mt(Gt.canActivateChild(C,b));else{if(!Hi(Gt))throw new Error("Invalid CanActivateChild guard");Jn=Mt(Gt(C,b))}return Jn.pipe((0,$t.P)())});return(0,Ce.of)(Ie).pipe(Is())}));return(0,Ce.of)(B).pipe(Is())}(b,S.path,_),function hs(b,v,_){const C=v.routeConfig?v.routeConfig.canActivate:null;if(!C||0===C.length)return(0,Ce.of)(!0);const S=C.map(B=>De(()=>{const ie=ur(B,v,_);let Ie;if(function jr(b){return b&&Hi(b.canActivate)}(ie))Ie=Mt(ie.canActivate(v,b));else{if(!Hi(ie))throw new Error("Invalid CanActivate guard");Ie=Mt(ie(v,b))}return Ie.pipe((0,$t.P)())}));return(0,Ce.of)(S).pipe(Is())}(b,S.route,_))),(0,$t.P)(S=>!0!==S,!0))}(C,B,b,v):(0,Ce.of)(Ie)),(0,Lt.U)(Ie=>Object.assign(Object.assign({},_),{guardsResult:Ie})))})}(this.ngModule.injector,Ie=>this.triggerEvent(Ie)),(0,on.b)(Ie=>{if(Oi(Ie.guardsResult)){const Gt=zn(`Redirecting to "${this.serializeUrl(Ie.guardsResult)}"`);throw Gt.url=Ie.guardsResult,Gt}const ut=new Rt(Ie.id,this.serializeUrl(Ie.extractedUrl),this.serializeUrl(Ie.urlAfterRedirects),Ie.targetSnapshot,!!Ie.guardsResult);this.triggerEvent(ut)}),(0,Ae.h)(Ie=>!!Ie.guardsResult||(this.restoreHistory(Ie),this.cancelNavigationTransition(Ie,""),!1)),ii(Ie=>{if(Ie.guards.canActivateChecks.length)return(0,Ce.of)(Ie).pipe((0,on.b)(ut=>{const Gt=new $n(ut.id,this.serializeUrl(ut.extractedUrl),this.serializeUrl(ut.urlAfterRedirects),ut.targetSnapshot);this.triggerEvent(Gt)}),(0,In.w)(ut=>{let Gt=!1;return(0,Ce.of)(ut).pipe(function na(b,v){return(0,bn.z)(_=>{const{targetSnapshot:C,guards:{canActivateChecks:S}}=_;if(!S.length)return(0,Ce.of)(_);let B=0;return(0,ue.D)(S).pipe((0,yn.b)(ie=>function ka(b,v,_,C){return function lo(b,v,_,C){const S=eo(b);if(0===S.length)return(0,Ce.of)({});const B={};return(0,ue.D)(S).pipe((0,bn.z)(ie=>function va(b,v,_,C){const S=ur(b,v,C);return Mt(S.resolve?S.resolve(v,_):S(v,_))}(b[ie],v,_,C).pipe((0,on.b)(Ie=>{B[ie]=Ie}))),ze(1),(0,bn.z)(()=>eo(B).length===S.length?(0,Ce.of)(B):we.E))}(b._resolve,b,v,C).pipe((0,Lt.U)(B=>(b._resolvedData=B,b.data=Object.assign(Object.assign({},b.data),de(b,_).resolve),null)))}(ie.route,C,b,v)),(0,on.b)(()=>B++),ze(1),(0,bn.z)(ie=>B===S.length?(0,Ce.of)(_):we.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,on.b)({next:()=>Gt=!0,complete:()=>{Gt||(this.restoreHistory(ut),this.cancelNavigationTransition(ut,"At least one route resolver didn't emit any value."))}}))}),(0,on.b)(ut=>{const Gt=new nn(ut.id,this.serializeUrl(ut.extractedUrl),this.serializeUrl(ut.urlAfterRedirects),ut.targetSnapshot);this.triggerEvent(Gt)}))}),ii(Ie=>{const{targetSnapshot:ut,id:Gt,extractedUrl:Jn,rawUrl:un,extras:{skipLocationChange:vr,replaceUrl:sr}}=Ie;return this.hooks.afterPreactivation(ut,{navigationId:Gt,appliedUrlTree:Jn,rawUrlTree:un,skipLocationChange:!!vr,replaceUrl:!!sr})}),(0,Lt.U)(Ie=>{const ut=function ji(b,v,_){const C=hr(b,v._root,_?_._root:void 0);return new bt(C,v)}(this.routeReuseStrategy,Ie.targetSnapshot,Ie.currentRouterState);return Object.assign(Object.assign({},Ie),{targetRouterState:ut})}),(0,on.b)(Ie=>{this.currentUrlTree=Ie.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(Ie.urlAfterRedirects,Ie.rawUrl),this.routerState=Ie.targetRouterState,"deferred"===this.urlUpdateStrategy&&(Ie.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,Ie),this.browserUrlTree=Ie.urlAfterRedirects)}),((b,v,_)=>(0,Lt.U)(C=>(new gs(v,C.targetRouterState,C.currentRouterState,_).activate(b),C)))(this.rootContexts,this.routeReuseStrategy,Ie=>this.triggerEvent(Ie)),(0,on.b)({next(){B=!0},complete(){B=!0}}),function xt(b){return(0,oe.e)((v,_)=>{try{v.subscribe(_)}finally{_.add(b)}})}(()=>{var Ie;B||ie||this.cancelNavigationTransition(S,`Navigation ID ${S.id} is not equal to the current navigation id ${this.navigationId}`),(null===(Ie=this.currentNavigation)||void 0===Ie?void 0:Ie.id)===S.id&&(this.currentNavigation=null)}),(0,Bt.K)(Ie=>{if(ie=!0,function Dn(b){return b&&b[gr]}(Ie)){const ut=Oi(Ie.url);ut||(this.navigated=!0,this.restoreHistory(S,!0));const Gt=new lr(S.id,this.serializeUrl(S.extractedUrl),Ie.message);C.next(Gt),ut?setTimeout(()=>{const Jn=this.urlHandlingStrategy.merge(Ie.url,this.rawUrlTree),un={skipLocationChange:S.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Ci(S.source)};this.scheduleNavigation(Jn,"imperative",null,un,{resolve:S.resolve,reject:S.reject,promise:S.promise})},0):S.resolve(!1)}else{this.restoreHistory(S,!0);const ut=new Nn(S.id,this.serializeUrl(S.extractedUrl),Ie);C.next(ut);try{S.resolve(this.errorHandler(Ie))}catch(Gt){S.reject(Gt)}}return we.E}))}))}resetRootComponentType(_){this.rootComponentType=_,this.routerState.root.component=this.rootComponentType}setTransition(_){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),_))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(_=>{const C="popstate"===_.type?"popstate":"hashchange";"popstate"===C&&setTimeout(()=>{var S;const B={replaceUrl:!0},ie=(null===(S=_.state)||void 0===S?void 0:S.navigationId)?_.state:null;if(ie){const ut=Object.assign({},ie);delete ut.navigationId,delete ut.\u0275routerPageId,0!==Object.keys(ut).length&&(B.state=ut)}const Ie=this.parseUrl(_.url);this.scheduleNavigation(Ie,C,ie,B)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(_){this.events.next(_)}resetConfig(_){Ri(_),this.config=_.map(N),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(_,C={}){const{relativeTo:S,queryParams:B,fragment:ie,queryParamsHandling:Ie,preserveFragment:ut}=C,Gt=S||this.routerState.root,Jn=ut?this.currentUrlTree.fragment:ie;let un=null;switch(Ie){case"merge":un=Object.assign(Object.assign({},this.currentUrlTree.queryParams),B);break;case"preserve":un=this.currentUrlTree.queryParams;break;default:un=B||null}return null!==un&&(un=this.removeEmptyProps(un)),function Re(b,v,_,C,S){if(0===_.length)return ft(v.root,v.root,v,C,S);const B=function ir(b){if("string"==typeof b[0]&&1===b.length&&"/"===b[0])return new jt(!0,0,b);let v=0,_=!1;const C=b.reduce((S,B,ie)=>{if("object"==typeof B&&null!=B){if(B.outlets){const Ie={};return He(B.outlets,(ut,Gt)=>{Ie[Gt]="string"==typeof ut?ut.split("/"):ut}),[...S,{outlets:Ie}]}if(B.segmentPath)return[...S,B.segmentPath]}return"string"!=typeof B?[...S,B]:0===ie?(B.split("/").forEach((Ie,ut)=>{0==ut&&"."===Ie||(0==ut&&""===Ie?_=!0:".."===Ie?v++:""!=Ie&&S.push(Ie))}),S):[...S,B]},[]);return new jt(_,v,C)}(_);if(B.toRoot())return ft(v.root,new dn([],{}),v,C,S);const ie=function or(b,v,_){if(b.isAbsolute)return new xr(v.root,!0,0);if(-1===_.snapshot._lastPathIndex){const B=_.snapshot._urlSegment;return new xr(B,B===v.root,0)}const C=be(b.commands[0])?0:1;return function fi(b,v,_){let C=b,S=v,B=_;for(;B>S;){if(B-=S,C=C.parent,!C)throw new Error("Invalid number of '../'");S=C.segments.length}return new xr(C,!1,S-B)}(_.snapshot._urlSegment,_.snapshot._lastPathIndex+C,b.numberOfDoubleDots)}(B,v,b),Ie=ie.processChildren?Rs(ie.segmentGroup,ie.index,B.commands):es(ie.segmentGroup,ie.index,B.commands);return ft(ie.segmentGroup,Ie,v,C,S)}(Gt,this.currentUrlTree,_,un,null!=Jn?Jn:null)}navigateByUrl(_,C={skipLocationChange:!1}){const S=Oi(_)?_:this.parseUrl(_),B=this.urlHandlingStrategy.merge(S,this.rawUrlTree);return this.scheduleNavigation(B,"imperative",null,C)}navigate(_,C={skipLocationChange:!1}){return function Ho(b){for(let v=0;v<b.length;v++){const _=b[v];if(null==_)throw new Error(`The requested path contains ${_} segment at index ${v}`)}}(_),this.navigateByUrl(this.createUrlTree(_,C),C)}serializeUrl(_){return this.urlSerializer.serialize(_)}parseUrl(_){let C;try{C=this.urlSerializer.parse(_)}catch(S){C=this.malformedUriErrorHandler(S,this.urlSerializer,_)}return C}isActive(_,C){let S;if(S=!0===C?Object.assign({},To):!1===C?Object.assign({},$o):C,Oi(_))return Nt(this.currentUrlTree,_,S);const B=this.parseUrl(_);return Nt(this.currentUrlTree,B,S)}removeEmptyProps(_){return Object.keys(_).reduce((C,S)=>{const B=_[S];return null!=B&&(C[S]=B),C},{})}processNavigations(){this.navigations.subscribe(_=>{this.navigated=!0,this.lastSuccessfulId=_.id,this.currentPageId=_.targetPageId,this.events.next(new xn(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,_.resolve(!0)},_=>{this.console.warn(`Unhandled Navigation Error: ${_}`)})}scheduleNavigation(_,C,S,B,ie){var Ie,ut;if(this.disposed)return Promise.resolve(!1);let Gt,Jn,un;ie?(Gt=ie.resolve,Jn=ie.reject,un=ie.promise):un=new Promise((As,mo)=>{Gt=As,Jn=mo});const vr=++this.navigationId;let sr;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(S=this.location.getState()),sr=S&&S.\u0275routerPageId?S.\u0275routerPageId:B.replaceUrl||B.skipLocationChange?null!==(Ie=this.browserPageId)&&void 0!==Ie?Ie:0:(null!==(ut=this.browserPageId)&&void 0!==ut?ut:0)+1):sr=0,this.setTransition({id:vr,targetPageId:sr,source:C,restoredState:S,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:_,extras:B,resolve:Gt,reject:Jn,promise:un,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),un.catch(As=>Promise.reject(As))}setBrowserUrl(_,C){const S=this.urlSerializer.serialize(_),B=Object.assign(Object.assign({},C.extras.state),this.generateNgRouterState(C.id,C.targetPageId));this.location.isCurrentPathEqualTo(S)||C.extras.replaceUrl?this.location.replaceState(S,"",B):this.location.go(S,"",B)}restoreHistory(_,C=!1){var S,B;if("computed"===this.canceledNavigationResolution){const ie=this.currentPageId-_.targetPageId;"popstate"!==_.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(S=this.currentNavigation)||void 0===S?void 0:S.finalUrl)||0===ie?this.currentUrlTree===(null===(B=this.currentNavigation)||void 0===B?void 0:B.finalUrl)&&0===ie&&(this.resetState(_),this.browserUrlTree=_.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(ie)}else"replace"===this.canceledNavigationResolution&&(C&&this.resetState(_),this.resetUrlToCurrentUrlTree())}resetState(_){this.routerState=_.currentRouterState,this.currentUrlTree=_.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,_.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(_,C){const S=new lr(_.id,this.serializeUrl(_.extractedUrl),C);this.triggerEvent(S),_.resolve(!1)}generateNgRouterState(_,C){return"computed"===this.canceledNavigationResolution?{navigationId:_,\u0275routerPageId:C}:{navigationId:_}}}return b.\u0275fac=function(_){p.$Z()},b.\u0275prov=p.Yz7({token:b,factory:b.\u0275fac}),b})();function Ci(b){return"imperative"!==b}let Go=(()=>{class b{constructor(_,C,S){this.router=_,this.route=C,this.locationStrategy=S,this.commands=null,this.href=null,this.onChanges=new xe.x,this.subscription=_.events.subscribe(B=>{B instanceof xn&&this.updateTargetUrlAndHref()})}set routerLink(_){this.commands=null!=_?Array.isArray(_)?_:[_]:null}ngOnChanges(_){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(_,C,S,B,ie){if(0!==_||C||S||B||ie||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const Ie={skipLocationChange:ys(this.skipLocationChange),replaceUrl:ys(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,Ie),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:ys(this.preserveFragment)})}}return b.\u0275fac=function(_){return new(_||b)(p.Y36(cr),p.Y36(ce),p.Y36(er.S$))},b.\u0275dir=p.lG2({type:b,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(_,C){1&_&&p.NdJ("click",function(B){return C.onClick(B.button,B.ctrlKey,B.shiftKey,B.altKey,B.metaKey)}),2&_&&p.uIk("target",C.target)("href",C.href,p.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[p.TTD]}),b})();function ys(b){return""===b||!!b}class Wo{}class ia{preload(v,_){return(0,Ce.of)(null)}}let I=(()=>{class b{constructor(_,C,S,B){this.router=_,this.injector=S,this.preloadingStrategy=B,this.loader=new iu(S,C,ut=>_.triggerEvent(new wn(ut)),ut=>_.triggerEvent(new Yr(ut)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,Ae.h)(_=>_ instanceof xn),(0,yn.b)(()=>this.preload())).subscribe(()=>{})}preload(){const _=this.injector.get(p.h0i);return this.processRoutes(_,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(_,C){const S=[];for(const B of C)if(B.loadChildren&&!B.canLoad&&B._loadedConfig){const ie=B._loadedConfig;S.push(this.processRoutes(ie.module,ie.routes))}else B.loadChildren&&!B.canLoad?S.push(this.preloadConfig(_,B)):B.children&&S.push(this.processRoutes(_,B.children));return(0,ue.D)(S).pipe((0,ln.J)(),(0,Lt.U)(B=>{}))}preloadConfig(_,C){return this.preloadingStrategy.preload(C,()=>(C._loadedConfig?(0,Ce.of)(C._loadedConfig):this.loader.load(_.injector,C)).pipe((0,bn.z)(B=>(C._loadedConfig=B,this.processRoutes(B.module,B.routes)))))}}return b.\u0275fac=function(_){return new(_||b)(p.LFG(cr),p.LFG(p.Sil),p.LFG(p.zs3),p.LFG(Wo))},b.\u0275prov=p.Yz7({token:b,factory:b.\u0275fac}),b})(),D=(()=>{class b{constructor(_,C,S={}){this.router=_,this.viewportScroller=C,this.options=S,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},S.scrollPositionRestoration=S.scrollPositionRestoration||"disabled",S.anchorScrolling=S.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(_=>{_ instanceof Ln?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=_.navigationTrigger,this.restoredId=_.restoredState?_.restoredState.navigationId:0):_ instanceof xn&&(this.lastId=_.id,this.scheduleScrollEvent(_,this.router.parseUrl(_.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(_=>{_ instanceof Hn&&(_.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(_.position):_.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(_.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(_,C){this.router.triggerEvent(new Hn(_,"popstate"===this.lastSource?this.store[this.restoredId]:null,C))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return b.\u0275fac=function(_){p.$Z()},b.\u0275prov=p.Yz7({token:b,factory:b.\u0275fac}),b})();const me=new p.OlP("ROUTER_CONFIGURATION"),mt=new p.OlP("ROUTER_FORROOT_GUARD"),en=[er.Ye,{provide:Ar,useClass:Mi},{provide:cr,useFactory:function Li(b,v,_,C,S,B,ie={},Ie,ut){const Gt=new cr(null,b,v,_,C,S,Ee(B));return Ie&&(Gt.urlHandlingStrategy=Ie),ut&&(Gt.routeReuseStrategy=ut),function zo(b,v){b.errorHandler&&(v.errorHandler=b.errorHandler),b.malformedUriErrorHandler&&(v.malformedUriErrorHandler=b.malformedUriErrorHandler),b.onSameUrlNavigation&&(v.onSameUrlNavigation=b.onSameUrlNavigation),b.paramsInheritanceStrategy&&(v.paramsInheritanceStrategy=b.paramsInheritanceStrategy),b.relativeLinkResolution&&(v.relativeLinkResolution=b.relativeLinkResolution),b.urlUpdateStrategy&&(v.urlUpdateStrategy=b.urlUpdateStrategy),b.canceledNavigationResolution&&(v.canceledNavigationResolution=b.canceledNavigationResolution)}(ie,Gt),ie.enableTracing&&Gt.events.subscribe(Jn=>{var un,vr;null===(un=console.group)||void 0===un||un.call(console,`Router Event: ${Jn.constructor.name}`),console.log(Jn.toString()),console.log(Jn),null===(vr=console.groupEnd)||void 0===vr||vr.call(console)}),Gt},deps:[Ar,vi,er.Ye,p.zs3,p.Sil,to,me,[class Mu{},new p.FiY],[class Ns{},new p.FiY]]},vi,{provide:ce,useFactory:function no(b){return b.routerState.root},deps:[cr]},I,ia,class fs{preload(v,_){return _().pipe((0,Bt.K)(()=>(0,Ce.of)(null)))}},{provide:me,useValue:{enableTracing:!1}}];function ei(){return new p.PXZ("Router",cr)}let Qn=(()=>{class b{constructor(_,C){}static forRoot(_,C){return{ngModule:b,providers:[en,go(_),{provide:mt,useFactory:po,deps:[[cr,new p.FiY,new p.tp0]]},{provide:me,useValue:C||{}},{provide:er.S$,useFactory:Fi,deps:[er.lw,[new p.tBr(er.mr),new p.FiY],me]},{provide:D,useFactory:Ti,deps:[cr,er.EM,me]},{provide:Wo,useExisting:C&&C.preloadingStrategy?C.preloadingStrategy:ia},{provide:p.PXZ,multi:!0,useFactory:ei},[wa,{provide:p.ip1,multi:!0,useFactory:Fa,deps:[wa]},{provide:Vr,useFactory:Ct,deps:[wa]},{provide:p.tb,multi:!0,useExisting:Vr}]]}}static forChild(_){return{ngModule:b,providers:[go(_)]}}}return b.\u0275fac=function(_){return new(_||b)(p.LFG(mt,8),p.LFG(cr,8))},b.\u0275mod=p.oAB({type:b}),b.\u0275inj=p.cJS({}),b})();function Ti(b,v,_){return _.scrollOffset&&v.setOffset(_.scrollOffset),new D(b,v,_)}function Fi(b,v,_={}){return _.useHash?new er.Do(b,v):new er.b0(b,v)}function po(b){return"guarded"}function go(b){return[{provide:p.deG,multi:!0,useValue:b},{provide:to,multi:!0,useValue:b}]}let wa=(()=>{class b{constructor(_){this.injector=_,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new xe.x}appInitializer(){return this.injector.get(er.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let C=null;const S=new Promise(Ie=>C=Ie),B=this.injector.get(cr),ie=this.injector.get(me);return"disabled"===ie.initialNavigation?(B.setUpLocationChangeListener(),C(!0)):"enabled"===ie.initialNavigation||"enabledBlocking"===ie.initialNavigation?(B.hooks.afterPreactivation=()=>this.initNavigation?(0,Ce.of)(null):(this.initNavigation=!0,C(!0),this.resultOfPreactivationDone),B.initialNavigation()):C(!0),S})}bootstrapListener(_){const C=this.injector.get(me),S=this.injector.get(I),B=this.injector.get(D),ie=this.injector.get(cr),Ie=this.injector.get(p.z2F);_===Ie.components[0]&&(("enabledNonBlocking"===C.initialNavigation||void 0===C.initialNavigation)&&ie.initialNavigation(),S.setUpPreloading(),B.init(),ie.resetRootComponentType(Ie.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return b.\u0275fac=function(_){return new(_||b)(p.LFG(p.zs3))},b.\u0275prov=p.Yz7({token:b,factory:b.\u0275fac}),b})();function Fa(b){return b.appInitializer.bind(b)}function Ct(b){return b.bootstrapListener.bind(b)}const Vr=new p.OlP("Router Initializer")},3942:(Me,te,T)=>{"use strict";T.d(te,{Z:()=>$e});var p=T(2090),L=T(4859),V=T(9681),ue=T(1877);class ee{constructor(De,Fe){this._delegate=De,this.firebase=Fe,(0,V._addComponent)(De,new L.wA("app-compat",()=>this,"PUBLIC")),this.container=De.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(De){this._delegate.automaticDataCollectionEnabled=De}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(De=>{this._delegate.checkDestroyed(),De()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,V.deleteApp)(this._delegate)))}_getService(De,Fe=V._DEFAULT_ENTRY_NAME){var oe;this._delegate.checkDestroyed();const nt=this._delegate.container.getProvider(De);return!nt.isInitialized()&&"EXPLICIT"===(null===(oe=nt.getComponent())||void 0===oe?void 0:oe.instantiationMode)&&nt.initialize(),nt.getImmediate({identifier:Fe})}_removeServiceInstance(De,Fe=V._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(De).clearInstance(Fe)}_addComponent(De){(0,V._addComponent)(this._delegate,De)}_addOrOverwriteComponent(De){(0,V._addOrOverwriteComponent)(this._delegate,De)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ye=new p.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),J=function ne(){const ot=function ae(ot){const De={},Fe={__esModule:!0,initializeApp:function Ue(ve,we={}){const xe=V.initializeApp(ve,we);if((0,p.r3)(De,xe.name))return De[xe.name];const Ae=new ot(xe,Fe);return De[xe.name]=Ae,Ae},app:nt,registerVersion:V.registerVersion,setLogLevel:V.setLogLevel,onLog:V.onLog,apps:null,SDK_VERSION:V.SDK_VERSION,INTERNAL:{registerComponent:function Ve(ve){const we=ve.name,xe=we.replace("-compat","");if(V._registerComponent(ve)&&"PUBLIC"===ve.type){const Ae=(ze=nt())=>{if("function"!=typeof ze[xe])throw ye.create("invalid-app-argument",{appName:we});return ze[xe]()};void 0!==ve.serviceProps&&(0,p.ZB)(Ae,ve.serviceProps),Fe[xe]=Ae,ot.prototype[xe]=function(...ze){return this._getService.bind(this,we).apply(this,ve.multipleInstances?ze:[])}}return"PUBLIC"===ve.type?Fe[xe]:null},removeApp:function oe(ve){delete De[ve]},useAsService:function yt(ve,we){return"serverAuth"===we?null:we},modularAPIs:V}};function nt(ve){if(!(0,p.r3)(De,ve=ve||V._DEFAULT_ENTRY_NAME))throw ye.create("no-app",{appName:ve});return De[ve]}return Fe.default=Fe,Object.defineProperty(Fe,"apps",{get:function Ce(){return Object.keys(De).map(ve=>De[ve])}}),nt.App=ot,Fe}(ee);return ot.INTERNAL=Object.assign(Object.assign({},ot.INTERNAL),{createFirebaseNamespace:ne,extendNamespace:function De(Fe){(0,p.ZB)(ot,Fe)},createSubscribe:p.ne,ErrorFactory:p.LL,deepExtend:p.ZB}),ot}(),X=new ue.Yd("@firebase/app-compat");if((0,p.jU)()&&void 0!==self.firebase){X.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ot=self.firebase.SDK_VERSION;ot&&ot.indexOf("LITE")>=0&&X.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const $e=J;!function Oe(ot){(0,V.registerVersion)("@firebase/app-compat","0.1.19",ot)}()},9681:(Me,te,T)=>{"use strict";T.r(te),T.d(te,{FirebaseError:()=>ue.ZR,SDK_VERSION:()=>lr,_DEFAULT_ENTRY_NAME:()=>Ot,_addComponent:()=>yn,_addOrOverwriteComponent:()=>$t,_apps:()=>gn,_clearComponents:()=>er,_components:()=>Bt,_getProvider:()=>on,_registerComponent:()=>bn,_removeServiceInstance:()=>ln,deleteApp:()=>Rt,getApp:()=>tr,getApps:()=>fn,initializeApp:()=>Nn,onLog:()=>wn,registerVersion:()=>nn,setLogLevel:()=>Yr});var p=T(5861),L=T(4859),V=T(1877),ue=T(2090),ee=T(2940);class le{constructor(tt){this.container=tt}getPlatformInfoString(){return this.container.getProviders().map(wt=>{if(function ye(et){const tt=et.getComponent();return"VERSION"===(null==tt?void 0:tt.type)}(wt)){const Nt=wt.getImmediate();return`${Nt.library}/${Nt.version}`}return null}).filter(wt=>wt).join(" ")}}const ae="@firebase/app",J=new V.Yd("@firebase/app"),Ot="[DEFAULT]",St={[ae]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},gn=new Map,Bt=new Map;function yn(et,tt){try{et.container.addComponent(tt)}catch(wt){J.debug(`Component ${tt.name} failed to register with FirebaseApp ${et.name}`,wt)}}function $t(et,tt){et.container.addOrOverwriteComponent(tt)}function bn(et){const tt=et.name;if(Bt.has(tt))return J.debug(`There were multiple attempts to register component ${tt}.`),!1;Bt.set(tt,et);for(const wt of gn.values())yn(wt,et);return!0}function on(et,tt){const wt=et.container.getProvider("heartbeat").getImmediate({optional:!0});return wt&&wt.triggerHeartbeat(),et.container.getProvider(tt)}function ln(et,tt,wt=Ot){on(et,tt).clearInstance(wt)}function er(){Bt.clear()}const Ln=new ue.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class xn{constructor(tt,wt,Nt){this._isDeleted=!1,this._options=Object.assign({},tt),this._config=Object.assign({},wt),this._name=wt.name,this._automaticDataCollectionEnabled=wt.automaticDataCollectionEnabled,this._container=Nt,this.container.addComponent(new L.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(tt){this.checkDestroyed(),this._automaticDataCollectionEnabled=tt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(tt){this._isDeleted=tt}checkDestroyed(){if(this.isDeleted)throw Ln.create("app-deleted",{appName:this._name})}}const lr="9.6.8";function Nn(et,tt={}){"object"!=typeof tt&&(tt={name:tt});const wt=Object.assign({name:Ot,automaticDataCollectionEnabled:!1},tt),Nt=wt.name;if("string"!=typeof Nt||!Nt)throw Ln.create("bad-app-name",{appName:String(Nt)});const vn=gn.get(Nt);if(vn){if((0,ue.vZ)(et,vn.options)&&(0,ue.vZ)(wt,vn.config))return vn;throw Ln.create("duplicate-app",{appName:Nt})}const qt=new L.H0(Nt);for(const Kn of Bt.values())qt.addComponent(Kn);const Mn=new xn(et,wt,qt);return gn.set(Nt,Mn),Mn}function tr(et=Ot){const tt=gn.get(et);if(!tt)throw Ln.create("no-app",{appName:et});return tt}function fn(){return Array.from(gn.values())}function Rt(et){return $n.apply(this,arguments)}function $n(){return($n=(0,p.Z)(function*(et){const tt=et.name;gn.has(tt)&&(gn.delete(tt),yield Promise.all(et.container.getProviders().map(wt=>wt.delete())),et.isDeleted=!0)})).apply(this,arguments)}function nn(et,tt,wt){var Nt;let vn=null!==(Nt=St[et])&&void 0!==Nt?Nt:et;wt&&(vn+=`-${wt}`);const qt=vn.match(/\s|\//),Mn=tt.match(/\s|\//);if(qt||Mn){const Kn=[`Unable to register library "${vn}" with version "${tt}":`];return qt&&Kn.push(`library name "${vn}" contains illegal characters (whitespace or "/")`),qt&&Mn&&Kn.push("and"),Mn&&Kn.push(`version name "${tt}" contains illegal characters (whitespace or "/")`),void J.warn(Kn.join(" "))}bn(new L.wA(`${vn}-version`,()=>({library:vn,version:tt}),"VERSION"))}function wn(et,tt){if(null!==et&&"function"!=typeof et)throw Ln.create("invalid-log-argument");(0,V.Am)(et,tt)}function Yr(et){(0,V.Ub)(et)}const Vn="firebase-heartbeat-store";let pr=null;function Hn(){return pr||(pr=(0,ee.openDb)("firebase-heartbeat-database",1,et=>{0===et.oldVersion&&et.createObjectStore(Vn)}).catch(et=>{throw Ln.create("storage-open",{originalErrorMessage:et.message})})),pr}function Pt(){return(Pt=(0,p.Z)(function*(et){try{return(yield Hn()).transaction(Vn).objectStore(Vn).get(Gr(et))}catch(tt){throw Ln.create("storage-get",{originalErrorMessage:tt.message})}})).apply(this,arguments)}function Ht(et,tt){return gr.apply(this,arguments)}function gr(){return(gr=(0,p.Z)(function*(et,tt){try{const Nt=(yield Hn()).transaction(Vn,"readwrite");return yield Nt.objectStore(Vn).put(tt,Gr(et)),Nt.complete}catch(wt){throw Ln.create("storage-set",{originalErrorMessage:wt.message})}})).apply(this,arguments)}function Dn(){return(Dn=(0,p.Z)(function*(et){try{const wt=(yield Hn()).transaction(Vn,"readwrite");return yield wt.objectStore(Vn).delete(Gr(et)),wt.complete}catch(tt){throw Ln.create("storage-delete",{originalErrorMessage:tt.message})}})).apply(this,arguments)}function Gr(et){return`${et.name}!${et.options.appId}`}class pe{constructor(tt){this.container=tt,this._heartbeatsCache=null;const wt=this.container.getProvider("app").getImmediate();this._storage=new Ke(wt),this._heartbeatsCachePromise=this._storage.read().then(Nt=>(this._heartbeatsCache=Nt,Nt))}triggerHeartbeat(){var tt=this;return(0,p.Z)(function*(){const Nt=tt.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),vn=function Ee(){return(new Date).toISOString().substring(0,10)}();if(null===tt._heartbeatsCache&&(tt._heartbeatsCache=yield tt._heartbeatsCachePromise),!tt._heartbeatsCache.some(qt=>qt.date===vn))return tt._heartbeatsCache.push({date:vn,userAgent:Nt}),tt._heartbeatsCache=tt._heartbeatsCache.filter(qt=>{const Mn=new Date(qt.date).valueOf();return Date.now()-Mn<=2592e6}),tt._storage.overwrite(tt._heartbeatsCache)})()}getHeartbeatsHeader(){var tt=this;return(0,p.Z)(function*(){if(null===tt._heartbeatsCache&&(yield tt._heartbeatsCachePromise),null===tt._heartbeatsCache)return"";const{heartbeatsToSend:wt,unsentEntries:Nt}=function Te(et,tt=1024){const wt=[];let Nt=et.slice();for(const vn of et){const qt=wt.find(Mn=>Mn.userAgent===vn.userAgent);if(qt){if(qt.dates.push(vn.date),He(wt)>tt){qt.dates.pop();break}}else if(wt.push({userAgent:vn.userAgent,dates:[vn.date]}),He(wt)>tt){wt.pop();break}Nt=Nt.slice(1)}return{heartbeatsToSend:wt,unsentEntries:Nt}}(tt._heartbeatsCache),vn=(0,ue.h$)(JSON.stringify({version:2,heartbeats:wt}));return Nt.length>0?(tt._heartbeatsCache=Nt,yield tt._storage.overwrite(tt._heartbeatsCache)):(tt._heartbeatsCache=null,tt._storage.deleteAll()),vn})()}}class Ke{constructor(tt){this.app=tt,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,p.Z)(function*(){return!!(0,ue.hl)()&&(0,ue.eu)().then(()=>!0).catch(()=>!1)})()}read(){var tt=this;return(0,p.Z)(function*(){if(yield tt._canUseIndexedDBPromise){const Nt=yield function Et(et){return Pt.apply(this,arguments)}(tt.app);return(null==Nt?void 0:Nt.heartbeats)||[]}return[]})()}overwrite(tt){var wt=this;return(0,p.Z)(function*(){if(yield wt._canUseIndexedDBPromise)return Ht(wt.app,{heartbeats:tt})})()}add(tt){var wt=this;return(0,p.Z)(function*(){if(yield wt._canUseIndexedDBPromise){const vn=yield wt.read();return Ht(wt.app,{heartbeats:[...vn,...tt]})}})()}delete(tt){var wt=this;return(0,p.Z)(function*(){if(yield wt._canUseIndexedDBPromise){const vn=yield wt.read();return Ht(wt.app,{heartbeats:vn.filter(qt=>!tt.includes(qt))})}})()}deleteAll(){var tt=this;return(0,p.Z)(function*(){if(yield tt._canUseIndexedDBPromise)return function zn(et){return Dn.apply(this,arguments)}(tt.app)})()}}function He(et){return(0,ue.h$)(JSON.stringify({version:2,heartbeats:et})).length}!function Mt(et){bn(new L.wA("platform-logger",tt=>new le(tt),"PRIVATE")),bn(new L.wA("heartbeat",tt=>new pe(tt),"PRIVATE")),nn(ae,"0.7.18",et),nn(ae,"0.7.18","esm2017"),nn("fire-js","")}("")},4859:(Me,te,T)=>{"use strict";T.d(te,{wA:()=>V,H0:()=>ae});var p=T(5861),L=T(2090);class V{constructor(J,X,re){this.name=J,this.instanceFactory=X,this.type=re,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(J){return this.instantiationMode=J,this}setMultipleInstances(J){return this.multipleInstances=J,this}setServiceProps(J){return this.serviceProps=J,this}setInstanceCreatedCallback(J){return this.onInstanceCreated=J,this}}const ue="[DEFAULT]";class ee{constructor(J,X){this.name=J,this.container=X,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(J){const X=this.normalizeInstanceIdentifier(J);if(!this.instancesDeferred.has(X)){const re=new L.BH;if(this.instancesDeferred.set(X,re),this.isInitialized(X)||this.shouldAutoInitialize())try{const je=this.getOrInitializeService({instanceIdentifier:X});je&&re.resolve(je)}catch(je){}}return this.instancesDeferred.get(X).promise}getImmediate(J){var X;const re=this.normalizeInstanceIdentifier(null==J?void 0:J.identifier),je=null!==(X=null==J?void 0:J.optional)&&void 0!==X&&X;if(!this.isInitialized(re)&&!this.shouldAutoInitialize()){if(je)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:re})}catch(Oe){if(je)return null;throw Oe}}getComponent(){return this.component}setComponent(J){if(J.name!==this.name)throw Error(`Mismatching Component ${J.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=J,this.shouldAutoInitialize()){if(function ye(ne){return"EAGER"===ne.instantiationMode}(J))try{this.getOrInitializeService({instanceIdentifier:ue})}catch(X){}for(const[X,re]of this.instancesDeferred.entries()){const je=this.normalizeInstanceIdentifier(X);try{const Oe=this.getOrInitializeService({instanceIdentifier:je});re.resolve(Oe)}catch(Oe){}}}}clearInstance(J=ue){this.instancesDeferred.delete(J),this.instancesOptions.delete(J),this.instances.delete(J)}delete(){var J=this;return(0,p.Z)(function*(){const X=Array.from(J.instances.values());yield Promise.all([...X.filter(re=>"INTERNAL"in re).map(re=>re.INTERNAL.delete()),...X.filter(re=>"_delete"in re).map(re=>re._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(J=ue){return this.instances.has(J)}getOptions(J=ue){return this.instancesOptions.get(J)||{}}initialize(J={}){const{options:X={}}=J,re=this.normalizeInstanceIdentifier(J.instanceIdentifier);if(this.isInitialized(re))throw Error(`${this.name}(${re}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const je=this.getOrInitializeService({instanceIdentifier:re,options:X});for(const[Oe,$e]of this.instancesDeferred.entries())re===this.normalizeInstanceIdentifier(Oe)&&$e.resolve(je);return je}onInit(J,X){var re;const je=this.normalizeInstanceIdentifier(X),Oe=null!==(re=this.onInitCallbacks.get(je))&&void 0!==re?re:new Set;Oe.add(J),this.onInitCallbacks.set(je,Oe);const $e=this.instances.get(je);return $e&&J($e,je),()=>{Oe.delete(J)}}invokeOnInitCallbacks(J,X){const re=this.onInitCallbacks.get(X);if(re)for(const je of re)try{je(J,X)}catch(Oe){}}getOrInitializeService({instanceIdentifier:J,options:X={}}){let re=this.instances.get(J);if(!re&&this.component&&(re=this.component.instanceFactory(this.container,{instanceIdentifier:(ne=J,ne===ue?void 0:ne),options:X}),this.instances.set(J,re),this.instancesOptions.set(J,X),this.invokeOnInitCallbacks(re,J),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,J,re)}catch(je){}var ne;return re||null}normalizeInstanceIdentifier(J=ue){return this.component?this.component.multipleInstances?J:ue:J}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ae{constructor(J){this.name=J,this.providers=new Map}addComponent(J){const X=this.getProvider(J.name);if(X.isComponentSet())throw new Error(`Component ${J.name} has already been registered with ${this.name}`);X.setComponent(J)}addOrOverwriteComponent(J){this.getProvider(J.name).isComponentSet()&&this.providers.delete(J.name),this.addComponent(J)}getProvider(J){if(this.providers.has(J))return this.providers.get(J);const X=new ee(J,this);return this.providers.set(J,X),X}getProviders(){return Array.from(this.providers.values())}}},1877:(Me,te,T)=>{"use strict";T.d(te,{in:()=>L,Yd:()=>ye,Ub:()=>ae,Am:()=>ne});const p=[];var L=(()=>{return(J=L||(L={}))[J.DEBUG=0]="DEBUG",J[J.VERBOSE=1]="VERBOSE",J[J.INFO=2]="INFO",J[J.WARN=3]="WARN",J[J.ERROR=4]="ERROR",J[J.SILENT=5]="SILENT",L;var J})();const V={debug:L.DEBUG,verbose:L.VERBOSE,info:L.INFO,warn:L.WARN,error:L.ERROR,silent:L.SILENT},ue=L.INFO,ee={[L.DEBUG]:"log",[L.VERBOSE]:"log",[L.INFO]:"info",[L.WARN]:"warn",[L.ERROR]:"error"},le=(J,X,...re)=>{if(X<J.logLevel)return;const je=(new Date).toISOString(),Oe=ee[X];if(!Oe)throw new Error(`Attempted to log a message with an invalid logType (value: ${X})`);console[Oe](`[${je}]  ${J.name}:`,...re)};class ye{constructor(X){this.name=X,this._logLevel=ue,this._logHandler=le,this._userLogHandler=null,p.push(this)}get logLevel(){return this._logLevel}set logLevel(X){if(!(X in L))throw new TypeError(`Invalid value "${X}" assigned to \`logLevel\``);this._logLevel=X}setLogLevel(X){this._logLevel="string"==typeof X?V[X]:X}get logHandler(){return this._logHandler}set logHandler(X){if("function"!=typeof X)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=X}get userLogHandler(){return this._userLogHandler}set userLogHandler(X){this._userLogHandler=X}debug(...X){this._userLogHandler&&this._userLogHandler(this,L.DEBUG,...X),this._logHandler(this,L.DEBUG,...X)}log(...X){this._userLogHandler&&this._userLogHandler(this,L.VERBOSE,...X),this._logHandler(this,L.VERBOSE,...X)}info(...X){this._userLogHandler&&this._userLogHandler(this,L.INFO,...X),this._logHandler(this,L.INFO,...X)}warn(...X){this._userLogHandler&&this._userLogHandler(this,L.WARN,...X),this._logHandler(this,L.WARN,...X)}error(...X){this._userLogHandler&&this._userLogHandler(this,L.ERROR,...X),this._logHandler(this,L.ERROR,...X)}}function ae(J){p.forEach(X=>{X.setLogLevel(J)})}function ne(J,X){for(const re of p){let je=null;X&&X.level&&(je=V[X.level]),re.userLogHandler=null===J?null:(Oe,$e,...ot)=>{const De=ot.map(Fe=>{if(null==Fe)return null;if("string"==typeof Fe)return Fe;if("number"==typeof Fe||"boolean"==typeof Fe)return Fe.toString();if(Fe instanceof Error)return Fe.message;try{return JSON.stringify(Fe)}catch(oe){return null}}).filter(Fe=>Fe).join(" ");$e>=(null!=je?je:Oe.logLevel)&&J({level:L[$e].toLowerCase(),message:De,args:ot,type:Oe.name})}}}},9565:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{FT:()=>StoreDevtoolsModule});var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5e3),_ngrx_store__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(5620),rxjs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(515),rxjs__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(8306),rxjs__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(9646),rxjs__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(6451),rxjs__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(233),rxjs__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(4707),rxjs_operators__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(3099),rxjs_operators__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(9300),rxjs_operators__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(4004),rxjs_operators__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(4351),rxjs_operators__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(1749),rxjs_operators__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(8372),rxjs_operators__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(262),rxjs_operators__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(5698),rxjs_operators__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(2722),rxjs_operators__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(3900),rxjs_operators__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(5684),rxjs_operators__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(5363),rxjs_operators__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(1365),rxjs_operators__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(5026);class StoreDevtoolsConfig{constructor(){this.maxAge=!1}}const STORE_DEVTOOLS_CONFIG=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Options"),INITIAL_OPTIONS=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Initial Config");function noMonitor(){return null}const DEFAULT_NAME="NgRx Store DevTools";function createConfig(Me){const te={maxAge:!1,monitor:noMonitor,actionSanitizer:void 0,stateSanitizer:void 0,name:DEFAULT_NAME,serialize:!1,logOnly:!1,autoPause:!1,features:{pause:!0,lock:!0,persist:!0,export:!0,import:"custom",jump:!0,skip:!0,reorder:!0,dispatch:!0,test:!0}},T="function"==typeof Me?Me():Me,V=Object.assign({},te,{features:T.features||!!T.logOnly&&{pause:!0,export:!0,test:!0}||te.features},T);if(V.maxAge&&V.maxAge<2)throw new Error(`Devtools 'maxAge' cannot be less than 2, got ${V.maxAge}`);return V}const PERFORM_ACTION="PERFORM_ACTION",REFRESH="REFRESH",RESET="RESET",ROLLBACK="ROLLBACK",COMMIT="COMMIT",SWEEP="SWEEP",TOGGLE_ACTION="TOGGLE_ACTION",SET_ACTIONS_ACTIVE="SET_ACTIONS_ACTIVE",JUMP_TO_STATE="JUMP_TO_STATE",JUMP_TO_ACTION="JUMP_TO_ACTION",IMPORT_STATE="IMPORT_STATE",LOCK_CHANGES="LOCK_CHANGES",PAUSE_RECORDING="PAUSE_RECORDING";class PerformAction{constructor(te,T){if(this.action=te,this.timestamp=T,this.type=PERFORM_ACTION,void 0===te.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?')}}class Refresh{constructor(){this.type=REFRESH}}class Reset{constructor(te){this.timestamp=te,this.type=RESET}}class Rollback{constructor(te){this.timestamp=te,this.type=ROLLBACK}}class Commit{constructor(te){this.timestamp=te,this.type=COMMIT}}class Sweep{constructor(){this.type=SWEEP}}class ToggleAction{constructor(te){this.id=te,this.type=TOGGLE_ACTION}}class SetActionsActive{constructor(te,T,p=!0){this.start=te,this.end=T,this.active=p,this.type=SET_ACTIONS_ACTIVE}}class JumpToState{constructor(te){this.index=te,this.type=JUMP_TO_STATE}}class JumpToAction{constructor(te){this.actionId=te,this.type=JUMP_TO_ACTION}}class ImportState{constructor(te){this.nextLiftedState=te,this.type=IMPORT_STATE}}class LockChanges{constructor(te){this.status=te,this.type=LOCK_CHANGES}}class PauseRecording{constructor(te){this.status=te,this.type=PAUSE_RECORDING}}function difference(Me,te){return Me.filter(T=>te.indexOf(T)<0)}function unliftState(Me){const{computedStates:te,currentStateIndex:T}=Me;if(T>=te.length){const{state:L}=te[te.length-1];return L}const{state:p}=te[T];return p}function unliftAction(Me){return Me.actionsById[Me.nextActionId-1]}function liftAction(Me){return new PerformAction(Me,+Date.now())}function sanitizeActions(Me,te){return Object.keys(te).reduce((T,p)=>{const L=Number(p);return T[L]=sanitizeAction(Me,te[L],L),T},{})}function sanitizeAction(Me,te,T){return Object.assign(Object.assign({},te),{action:Me(te.action,T)})}function sanitizeStates(Me,te){return te.map((T,p)=>({state:sanitizeState(Me,T.state,p),error:T.error}))}function sanitizeState(Me,te,T){return Me(te,T)}function shouldFilterActions(Me){return Me.predicate||Me.actionsSafelist||Me.actionsBlocklist}function filterLiftedState(Me,te,T,p){const L=[],V={},ue=[];return Me.stagedActionIds.forEach((ee,le)=>{const ye=Me.actionsById[ee];!ye||le&&isActionFiltered(Me.computedStates[le],ye,te,T,p)||(V[ee]=ye,L.push(ee),ue.push(Me.computedStates[le]))}),Object.assign(Object.assign({},Me),{stagedActionIds:L,actionsById:V,computedStates:ue})}function isActionFiltered(Me,te,T,p,L){const V=T&&!T(Me,te.action),ue=p&&!te.action.type.match(p.map(le=>escapeRegExp(le)).join("|")),ee=L&&te.action.type.match(L.map(le=>escapeRegExp(le)).join("|"));return V||ue||ee}function escapeRegExp(Me){return Me.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}const INIT_ACTION={type:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.qg},RECOMPUTE="@ngrx/store-devtools/recompute",RECOMPUTE_ACTION={type:RECOMPUTE};function computeNextEntry(Me,te,T,p,L){if(p)return{state:T,error:"Interrupted by an error up the chain"};let ue,V=T;try{V=Me(T,te)}catch(ee){ue=ee.toString(),L.handleError(ee)}return{state:V,error:ue}}function recomputeStates(Me,te,T,p,L,V,ue,ee,le){if(te>=Me.length&&Me.length===V.length)return Me;const ye=Me.slice(0,te),ae=V.length-(le?1:0);for(let ne=te;ne<ae;ne++){const J=V[ne],X=L[J].action,re=ye[ne-1],je=re?re.state:p,Oe=re?re.error:void 0,ot=ue.indexOf(J)>-1?re:computeNextEntry(T,X,je,Oe,ee);ye.push(ot)}return le&&ye.push(Me[Me.length-1]),ye}function liftInitialState(Me,te){return{monitorState:te(void 0,{}),nextActionId:1,actionsById:{0:liftAction(INIT_ACTION)},stagedActionIds:[0],skippedActionIds:[],committedState:Me,currentStateIndex:0,computedStates:[],isLocked:!1,isPaused:!1}}function liftReducerWith(Me,te,T,p,L={}){return V=>(ue,ee)=>{let{monitorState:le,actionsById:ye,nextActionId:ae,stagedActionIds:ne,skippedActionIds:J,committedState:X,currentStateIndex:re,computedStates:je,isLocked:Oe,isPaused:$e}=ue||te;function ot(oe){let nt=oe,Ue=ne.slice(1,nt+1);for(let Ce=0;Ce<Ue.length;Ce++){if(je[Ce+1].error){nt=Ce,Ue=ne.slice(1,nt+1);break}delete ye[Ue[Ce]]}J=J.filter(Ce=>-1===Ue.indexOf(Ce)),ne=[0,...ne.slice(nt+1)],X=je[nt].state,je=je.slice(nt),re=re>nt?re-nt:0}function De(){ye={0:liftAction(INIT_ACTION)},ae=1,ne=[0],J=[],X=je[re].state,re=0,je=[]}ue||(ye=Object.create(ye));let Fe=0;switch(ee.type){case LOCK_CHANGES:Oe=ee.status,Fe=1/0;break;case PAUSE_RECORDING:$e=ee.status,$e?(ne=[...ne,ae],ye[ae]=new PerformAction({type:"@ngrx/devtools/pause"},+Date.now()),ae++,Fe=ne.length-1,je=je.concat(je[je.length-1]),re===ne.length-2&&re++,Fe=1/0):De();break;case RESET:ye={0:liftAction(INIT_ACTION)},ae=1,ne=[0],J=[],X=Me,re=0,je=[];break;case COMMIT:De();break;case ROLLBACK:ye={0:liftAction(INIT_ACTION)},ae=1,ne=[0],J=[],re=0,je=[];break;case TOGGLE_ACTION:{const{id:oe}=ee;J=-1===J.indexOf(oe)?[oe,...J]:J.filter(Ue=>Ue!==oe),Fe=ne.indexOf(oe);break}case SET_ACTIONS_ACTIVE:{const{start:oe,end:nt,active:Ue}=ee,Ce=[];for(let Ve=oe;Ve<nt;Ve++)Ce.push(Ve);J=Ue?difference(J,Ce):[...J,...Ce],Fe=ne.indexOf(oe);break}case JUMP_TO_STATE:re=ee.index,Fe=1/0;break;case JUMP_TO_ACTION:{const oe=ne.indexOf(ee.actionId);-1!==oe&&(re=oe),Fe=1/0;break}case SWEEP:ne=difference(ne,J),J=[],re=Math.min(re,ne.length-1);break;case PERFORM_ACTION:{if(Oe)return ue||te;if($e||ue&&isActionFiltered(ue.computedStates[re],ee,L.predicate,L.actionsSafelist,L.actionsBlocklist)){const nt=je[je.length-1];je=[...je.slice(0,-1),computeNextEntry(V,ee.action,nt.state,nt.error,T)],Fe=1/0;break}L.maxAge&&ne.length===L.maxAge&&ot(1),re===ne.length-1&&re++;const oe=ae++;ye[oe]=ee,ne=[...ne,oe],Fe=ne.length-1;break}case IMPORT_STATE:({monitorState:le,actionsById:ye,nextActionId:ae,stagedActionIds:ne,skippedActionIds:J,committedState:X,currentStateIndex:re,computedStates:je,isLocked:Oe,isPaused:$e}=ee.nextLiftedState);break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.qg:Fe=0,L.maxAge&&ne.length>L.maxAge&&(je=recomputeStates(je,Fe,V,X,ye,ne,J,T,$e),ot(ne.length-L.maxAge),Fe=1/0);break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.wb:if(je.filter(nt=>nt.error).length>0)Fe=0,L.maxAge&&ne.length>L.maxAge&&(je=recomputeStates(je,Fe,V,X,ye,ne,J,T,$e),ot(ne.length-L.maxAge),Fe=1/0);else{if(!$e&&!Oe){re===ne.length-1&&re++;const nt=ae++;ye[nt]=new PerformAction(ee,+Date.now()),ne=[...ne,nt],Fe=ne.length-1,je=recomputeStates(je,Fe,V,X,ye,ne,J,T,$e)}je=je.map(nt=>Object.assign(Object.assign({},nt),{state:V(nt.state,RECOMPUTE_ACTION)})),re=ne.length-1,L.maxAge&&ne.length>L.maxAge&&ot(ne.length-L.maxAge),Fe=1/0}break;default:Fe=1/0}return je=recomputeStates(je,Fe,V,X,ye,ne,J,T,$e),le=p(le,ee),{monitorState:le,actionsById:ye,nextActionId:ae,stagedActionIds:ne,skippedActionIds:J,committedState:X,currentStateIndex:re,computedStates:je,isLocked:Oe,isPaused:$e}}}let DevtoolsDispatcher=(()=>{class Me extends _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.UO{}return Me.\u0275fac=function(){let te;return function(p){return(te||(te=_angular_core__WEBPACK_IMPORTED_MODULE_0__.n5z(Me)))(p||Me)}}(),Me.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:Me,factory:Me.\u0275fac}),Me})();const ExtensionActionTypes={START:"START",DISPATCH:"DISPATCH",STOP:"STOP",ACTION:"ACTION"},REDUX_DEVTOOLS_EXTENSION=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Redux Devtools Extension");let DevtoolsExtension=(()=>{class DevtoolsExtension{constructor(Me,te,T){this.config=te,this.dispatcher=T,this.devtoolsExtension=Me,this.createActionStreams()}notify(Me,te){if(this.devtoolsExtension)if(Me.type===PERFORM_ACTION){if(te.isLocked||te.isPaused)return;const T=unliftState(te);if(shouldFilterActions(this.config)&&isActionFiltered(T,Me,this.config.predicate,this.config.actionsSafelist,this.config.actionsBlocklist))return;const p=this.config.stateSanitizer?sanitizeState(this.config.stateSanitizer,T,te.currentStateIndex):T,L=this.config.actionSanitizer?sanitizeAction(this.config.actionSanitizer,Me,te.nextActionId):Me;this.sendToReduxDevtools(()=>this.extensionConnection.send(L,p))}else{const T=Object.assign(Object.assign({},te),{stagedActionIds:te.stagedActionIds,actionsById:this.config.actionSanitizer?sanitizeActions(this.config.actionSanitizer,te.actionsById):te.actionsById,computedStates:this.config.stateSanitizer?sanitizeStates(this.config.stateSanitizer,te.computedStates):te.computedStates});this.sendToReduxDevtools(()=>this.devtoolsExtension.send(null,T,this.getExtensionConfig(this.config)))}}createChangesObservable(){return this.devtoolsExtension?new rxjs__WEBPACK_IMPORTED_MODULE_3__.y(Me=>{const te=this.devtoolsExtension.connect(this.getExtensionConfig(this.config));return this.extensionConnection=te,te.init(),te.subscribe(T=>Me.next(T)),te.unsubscribe}):rxjs__WEBPACK_IMPORTED_MODULE_2__.E}createActionStreams(){const Me=this.createChangesObservable().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.B)()),te=Me.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(ee=>ee.type===ExtensionActionTypes.START)),T=Me.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(ee=>ee.type===ExtensionActionTypes.STOP)),p=Me.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(ee=>ee.type===ExtensionActionTypes.DISPATCH),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(ee=>this.unwrapAction(ee.payload)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.b)(ee=>ee.type===IMPORT_STATE?this.dispatcher.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(le=>le.type===_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.wb),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.V)(1e3),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.b)(1e3),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(()=>ee),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.K)(()=>(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.of)(ee)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.q)(1)):(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.of)(ee))),V=Me.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(ee=>ee.type===ExtensionActionTypes.ACTION),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(ee=>this.unwrapAction(ee.payload))).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(T)),ue=p.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(T));this.start$=te.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(T)),this.actions$=this.start$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.w)(()=>V)),this.liftedActions$=this.start$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.w)(()=>ue))}unwrapAction(action){return"string"==typeof action?eval(`(${action})`):action}getExtensionConfig(Me){var te;const T={name:Me.name,features:Me.features,serialize:Me.serialize,autoPause:null!==(te=Me.autoPause)&&void 0!==te&&te};return!1!==Me.maxAge&&(T.maxAge=Me.maxAge),T}sendToReduxDevtools(Me){try{Me()}catch(te){console.warn("@ngrx/store-devtools: something went wrong inside the redux devtools",te)}}}return DevtoolsExtension.\u0275fac=function Me(te){return new(te||DevtoolsExtension)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(REDUX_DEVTOOLS_EXTENSION),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(STORE_DEVTOOLS_CONFIG),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsDispatcher))},DevtoolsExtension.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:DevtoolsExtension,factory:DevtoolsExtension.\u0275fac}),DevtoolsExtension})(),StoreDevtools=(()=>{class Me{constructor(T,p,L,V,ue,ee,le,ye){const ae=liftInitialState(le,ye.monitor),ne=liftReducerWith(le,ae,ee,ye.monitor,ye),J=(0,rxjs__WEBPACK_IMPORTED_MODULE_15__.T)((0,rxjs__WEBPACK_IMPORTED_MODULE_15__.T)(p.asObservable().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_16__.T)(1)),V.actions$).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(liftAction)),T,V.liftedActions$).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_17__.Q)(rxjs__WEBPACK_IMPORTED_MODULE_18__.N)),X=L.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(ne)),re=new rxjs__WEBPACK_IMPORTED_MODULE_19__.t(1),je=J.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_20__.M)(X),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_21__.R)(({state:De},[Fe,oe])=>{let nt=oe(De,Fe);return Fe.type!==PERFORM_ACTION&&shouldFilterActions(ye)&&(nt=filterLiftedState(nt,ye.predicate,ye.actionsSafelist,ye.actionsBlocklist)),V.notify(Fe,nt),{state:nt,action:Fe}},{state:ae,action:null})).subscribe(({state:De,action:Fe})=>{re.next(De),Fe.type===PERFORM_ACTION&&ue.next(Fe.action)}),Oe=V.start$.subscribe(()=>{this.refresh()}),$e=re.asObservable(),ot=$e.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(unliftState));this.extensionStartSubscription=Oe,this.stateSubscription=je,this.dispatcher=T,this.liftedState=$e,this.state=ot}dispatch(T){this.dispatcher.next(T)}next(T){this.dispatcher.next(T)}error(T){}complete(){}performAction(T){this.dispatch(new PerformAction(T,+Date.now()))}refresh(){this.dispatch(new Refresh)}reset(){this.dispatch(new Reset(+Date.now()))}rollback(){this.dispatch(new Rollback(+Date.now()))}commit(){this.dispatch(new Commit(+Date.now()))}sweep(){this.dispatch(new Sweep)}toggleAction(T){this.dispatch(new ToggleAction(T))}jumpToAction(T){this.dispatch(new JumpToAction(T))}jumpToState(T){this.dispatch(new JumpToState(T))}importState(T){this.dispatch(new ImportState(T))}lockChanges(T){this.dispatch(new LockChanges(T))}pauseRecording(T){this.dispatch(new PauseRecording(T))}}return Me.\u0275fac=function(T){return new(T||Me)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsDispatcher),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.UO),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.n$),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsExtension),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.Y$),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_angular_core__WEBPACK_IMPORTED_MODULE_0__.qLn),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.Y6),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(STORE_DEVTOOLS_CONFIG))},Me.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:Me,factory:Me.\u0275fac}),Me})();const IS_EXTENSION_OR_MONITOR_PRESENT=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Is Devtools Extension or Monitor Present");function createIsExtensionOrMonitorPresent(Me,te){return Boolean(Me)||te.monitor!==noMonitor}function createReduxDevtoolsExtension(){const Me="__REDUX_DEVTOOLS_EXTENSION__";return"object"==typeof window&&void 0!==window[Me]?window[Me]:null}function createStateObservable(Me){return Me.state}let StoreDevtoolsModule=(()=>{class Me{static instrument(T={}){return{ngModule:Me,providers:[DevtoolsExtension,DevtoolsDispatcher,StoreDevtools,{provide:INITIAL_OPTIONS,useValue:T},{provide:IS_EXTENSION_OR_MONITOR_PRESENT,deps:[REDUX_DEVTOOLS_EXTENSION,STORE_DEVTOOLS_CONFIG],useFactory:createIsExtensionOrMonitorPresent},{provide:REDUX_DEVTOOLS_EXTENSION,useFactory:createReduxDevtoolsExtension},{provide:STORE_DEVTOOLS_CONFIG,deps:[INITIAL_OPTIONS],useFactory:createConfig},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.FR,deps:[StoreDevtools],useFactory:createStateObservable},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.mK,useExisting:DevtoolsDispatcher}]}}}return Me.\u0275fac=function(T){return new(T||Me)},Me.\u0275mod=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oAB({type:Me}),Me.\u0275inj=_angular_core__WEBPACK_IMPORTED_MODULE_0__.cJS({}),Me})()},5620:(Me,te,T)=>{"use strict";T.d(te,{UO:()=>oe,qg:()=>Fe,Y6:()=>Ve,mK:()=>xn,n$:()=>Ln,Y$:()=>fn,FR:()=>$n,yh:()=>Rr,Aw:()=>zr,wb:()=>lr,PH:()=>Oe,Lq:()=>yi,on:()=>ni,Ky:()=>$e});var p=T(5e3),L=T(1135),V=T(8306),ue=T(7579),ee=T(233),le=T(4004),ae=T(5363),ne=T(1365),J=T(5026),X=T(1884);const re={};function Oe(ge,rt){if(re[ge]=(re[ge]||0)+1,"function"==typeof rt)return De(ge,(...qe)=>Object.assign(Object.assign({},rt(...qe)),{type:ge}));switch(rt?rt._as:"empty"){case"empty":return De(ge,()=>({type:ge}));case"props":return De(ge,qe=>Object.assign(Object.assign({},qe),{type:ge}));default:throw new Error("Unexpected config.")}}function $e(){return{_as:"props",_p:void 0}}function De(ge,rt){return Object.defineProperty(rt,"type",{value:ge,writable:!1})}const Fe="@ngrx/store/init";let oe=(()=>{class ge extends L.X{constructor(){super({type:Fe})}next(Le){if("function"==typeof Le)throw new TypeError("\n        Dispatch expected an object, instead it received a function.\n        If you're using the createAction function, make sure to invoke the function\n        before dispatching the action. For example, someAction should be someAction().");if(void 0===Le)throw new TypeError("Actions must be objects");if(void 0===Le.type)throw new TypeError("Actions must have a type property");super.next(Le)}complete(){}ngOnDestroy(){super.complete()}}return ge.\u0275fac=function(Le){return new(Le||ge)},ge.\u0275prov=p.Yz7({token:ge,factory:ge.\u0275fac}),ge})();const nt=[oe],Ue=new p.OlP("@ngrx/store Internal Root Guard"),Ce=new p.OlP("@ngrx/store Internal Initial State"),Ve=new p.OlP("@ngrx/store Initial State"),yt=new p.OlP("@ngrx/store Reducer Factory"),ve=new p.OlP("@ngrx/store Internal Reducer Factory Provider"),we=new p.OlP("@ngrx/store Initial Reducers"),xe=new p.OlP("@ngrx/store Internal Initial Reducers"),Ae=new p.OlP("@ngrx/store Store Features"),ze=new p.OlP("@ngrx/store Internal Store Reducers"),ke=new p.OlP("@ngrx/store Internal Feature Reducers"),ht=new p.OlP("@ngrx/store Internal Feature Configs"),Qe=new p.OlP("@ngrx/store Internal Store Features"),xt=new p.OlP("@ngrx/store Internal Feature Reducers Token"),Lt=new p.OlP("@ngrx/store Feature Reducers"),In=new p.OlP("@ngrx/store User Provided Meta Reducers"),Ot=new p.OlP("@ngrx/store Meta Reducers"),St=new p.OlP("@ngrx/store Internal Resolved Meta Reducers"),gn=new p.OlP("@ngrx/store User Runtime Checks Config"),Bt=new p.OlP("@ngrx/store Internal User Runtime Checks Config"),yn=new p.OlP("@ngrx/store Internal Runtime Checks"),$t=new p.OlP("@ngrx/store Check if Action types are unique");function bn(ge,rt={}){const Le=Object.keys(ge),qe={};for(let bt=0;bt<Le.length;bt++){const Ut=Le[bt];"function"==typeof ge[Ut]&&(qe[Ut]=ge[Ut])}const vt=Object.keys(qe);return function(Ut,dr){Ut=void 0===Ut?rt:Ut;let ce=!1;const de={};for(let Q=0;Q<vt.length;Q++){const Be=vt[Q],Vt=Ut[Be],sn=(0,qe[Be])(Vt,dr);de[Be]=sn,ce=ce||sn!==Vt}return ce?de:Ut}}function ln(...ge){return function(rt){if(0===ge.length)return rt;const Le=ge[ge.length-1];return ge.slice(0,-1).reduceRight((vt,bt)=>bt(vt),Le(rt))}}function er(ge,rt){return Array.isArray(rt)&&rt.length>0&&(ge=ln.apply(null,[...rt,ge])),(Le,qe)=>{const vt=ge(Le);return(bt,Ut)=>vt(bt=void 0===bt?qe:bt,Ut)}}class Ln extends V.y{}class xn extends oe{}const lr="@ngrx/store/update-reducers";let Nn=(()=>{class ge extends L.X{constructor(Le,qe,vt,bt){super(bt(vt,qe)),this.dispatcher=Le,this.initialState=qe,this.reducers=vt,this.reducerFactory=bt}get currentReducers(){return this.reducers}addFeature(Le){this.addFeatures([Le])}addFeatures(Le){const qe=Le.reduce((vt,{reducers:bt,reducerFactory:Ut,metaReducers:dr,initialState:ce,key:de})=>{const Q="function"==typeof bt?function Zn(ge){const rt=Array.isArray(ge)&&ge.length>0?ln(...ge):Le=>Le;return(Le,qe)=>(Le=rt(Le),(vt,bt)=>Le(vt=void 0===vt?qe:vt,bt))}(dr)(bt,ce):er(Ut,dr)(bt,ce);return vt[de]=Q,vt},{});this.addReducers(qe)}removeFeature(Le){this.removeFeatures([Le])}removeFeatures(Le){this.removeReducers(Le.map(qe=>qe.key))}addReducer(Le,qe){this.addReducers({[Le]:qe})}addReducers(Le){this.reducers=Object.assign(Object.assign({},this.reducers),Le),this.updateReducers(Object.keys(Le))}removeReducer(Le){this.removeReducers([Le])}removeReducers(Le){Le.forEach(qe=>{this.reducers=function on(ge,rt){return Object.keys(ge).filter(Le=>Le!==rt).reduce((Le,qe)=>Object.assign(Le,{[qe]:ge[qe]}),{})}(this.reducers,qe)}),this.updateReducers(Le)}updateReducers(Le){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:lr,features:Le})}ngOnDestroy(){this.complete()}}return ge.\u0275fac=function(Le){return new(Le||ge)(p.LFG(xn),p.LFG(Ve),p.LFG(we),p.LFG(yt))},ge.\u0275prov=p.Yz7({token:ge,factory:ge.\u0275fac}),ge})();const tr=[Nn,{provide:Ln,useExisting:Nn},{provide:xn,useExisting:oe}];let fn=(()=>{class ge extends ue.x{ngOnDestroy(){this.complete()}}return ge.\u0275fac=function(){let rt;return function(qe){return(rt||(rt=p.n5z(ge)))(qe||ge)}}(),ge.\u0275prov=p.Yz7({token:ge,factory:ge.\u0275fac}),ge})();const Rt=[fn];class $n extends V.y{}let nn=(()=>{class ge extends L.X{constructor(Le,qe,vt,bt){super(bt);const de=Le.pipe((0,ae.Q)(ee.N)).pipe((0,ne.M)(qe)).pipe((0,J.R)(wn,{state:bt}));this.stateSubscription=de.subscribe(({state:Q,action:Be})=>{this.next(Q),vt.next(Be)})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}}return ge.INIT=Fe,ge.\u0275fac=function(Le){return new(Le||ge)(p.LFG(oe),p.LFG(Ln),p.LFG(fn),p.LFG(Ve))},ge.\u0275prov=p.Yz7({token:ge,factory:ge.\u0275fac}),ge})();function wn(ge={state:void 0},[rt,Le]){const{state:qe}=ge;return{state:Le(qe,rt),action:rt}}const Yr=[nn,{provide:$n,useExisting:nn}];let Rr=(()=>{class ge extends V.y{constructor(Le,qe,vt){super(),this.actionsObserver=qe,this.reducerManager=vt,this.source=Le}select(Le,...qe){return Vn.call(null,Le,...qe)(this)}lift(Le){const qe=new ge(this,this.actionsObserver,this.reducerManager);return qe.operator=Le,qe}dispatch(Le){this.actionsObserver.next(Le)}next(Le){this.actionsObserver.next(Le)}error(Le){this.actionsObserver.error(Le)}complete(){this.actionsObserver.complete()}addReducer(Le,qe){this.reducerManager.addReducer(Le,qe)}removeReducer(Le){this.reducerManager.removeReducer(Le)}}return ge.\u0275fac=function(Le){return new(Le||ge)(p.LFG($n),p.LFG(oe),p.LFG(Nn))},ge.\u0275prov=p.Yz7({token:ge,factory:ge.\u0275fac}),ge})();const rn=[Rr];function Vn(ge,rt,...Le){return function(vt){let bt;if("string"==typeof ge){const Ut=[rt,...Le].filter(Boolean);bt=vt.pipe(function ye(...ge){const rt=ge.length;if(0===rt)throw new Error("list of properties cannot be empty.");return(0,le.U)(Le=>{let qe=Le;for(let vt=0;vt<rt;vt++){const bt=null==qe?void 0:qe[ge[vt]];if(void 0===bt)return;qe=bt}return qe})}(ge,...Ut))}else{if("function"!=typeof ge)throw new TypeError(`Unexpected type '${typeof ge}' in select operator, expected 'string' or 'function'`);bt=vt.pipe((0,le.U)(Ut=>ge(Ut,rt)))}return bt.pipe((0,X.x)())}}const Hn="https://ngrx.io/guide/store/configuration/runtime-checks";function Et(ge){return void 0===ge}function Pt(ge){return null===ge}function Ht(ge){return Array.isArray(ge)}function Gr(ge){return"object"==typeof ge&&null!==ge}function pe(ge){return"function"==typeof ge}function rr(ge){Object.freeze(ge);const rt=pe(ge);return Object.getOwnPropertyNames(ge).forEach(Le=>{if(!Le.startsWith("\u0275")&&function Te(ge,rt){return Object.prototype.hasOwnProperty.call(ge,rt)}(ge,Le)&&(!rt||"caller"!==Le&&"callee"!==Le&&"arguments"!==Le)){const qe=ge[Le];(Gr(qe)||pe(qe))&&!Object.isFrozen(qe)&&rr(qe)}}),ge}function _r(ge,rt=[]){return(Et(ge)||Pt(ge))&&0===rt.length?{path:["root"],value:ge}:Object.keys(ge).reduce((qe,vt)=>{if(qe)return qe;const bt=ge[vt];return function Ee(ge){return pe(ge)&&ge.hasOwnProperty("\u0275cmp")}(bt)?qe:!(Et(bt)||Pt(bt)||function Dn(ge){return"number"==typeof ge}(bt)||function zn(ge){return"boolean"==typeof ge}(bt)||function gr(ge){return"string"==typeof ge}(bt)||Ht(bt))&&(function nr(ge){if(!function Cr(ge){return Gr(ge)&&!Ht(ge)}(ge))return!1;const rt=Object.getPrototypeOf(ge);return rt===Object.prototype||null===rt}(bt)?_r(bt,[...rt,vt]):{path:[...rt,vt],value:bt})},!1)}function Un(ge,rt){if(!1===ge)return;const Le=ge.path.join("."),qe=new Error(`Detected unserializable ${rt} at "${Le}". ${Hn}#strict${rt}serializability`);throw qe.value=ge.value,qe.unserializablePath=Le,qe}function Mi(ge){return(0,p.X6Q)()?Object.assign({strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1},ge):{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function ui({strictActionSerializability:ge,strictStateSerializability:rt}){return Le=>ge||rt?function yr(ge,rt){return function(Le,qe){rt.action(qe)&&Un(_r(qe),"action");const vt=ge(Le,qe);return rt.state()&&Un(_r(vt),"state"),vt}}(Le,{action:qe=>ge&&!Pr(qe),state:()=>rt}):Le}function Wr({strictActionImmutability:ge,strictStateImmutability:rt}){return Le=>ge||rt?function dn(ge,rt){return function(Le,qe){const vt=rt.action(qe)?rr(qe):qe,bt=ge(Le,vt);return rt.state()?rr(bt):bt}}(Le,{action:qe=>ge&&!Pr(qe),state:()=>rt}):Le}function Pr(ge){return ge.type.startsWith("@ngrx")}function Wt({strictActionWithinNgZone:ge}){return rt=>ge?function Ar(ge,rt){return function(Le,qe){if(rt.action(qe)&&!p.R0b.isInAngularZone())throw new Error(`Action '${qe.type}' running outside NgZone. ${Hn}#strictactionwithinngzone`);return ge(Le,qe)}}(rt,{action:Le=>ge&&!Pr(Le)}):rt}function Sr(ge){return[{provide:Bt,useValue:ge},{provide:gn,useFactory:lt,deps:[Bt]},{provide:yn,deps:[gn],useFactory:Mi},{provide:Ot,multi:!0,deps:[yn],useFactory:Wr},{provide:Ot,multi:!0,deps:[yn],useFactory:ui},{provide:Ot,multi:!0,deps:[yn],useFactory:Wt}]}function On(){return[{provide:$t,multi:!0,deps:[yn],useFactory:an}]}function lt(ge){return ge}function an(ge){if(!ge.strictActionTypeUniqueness)return;const rt=Object.entries(re).filter(([,Le])=>Le>1).map(([Le])=>Le);if(rt.length)throw new Error(`Action types are registered more than once, ${rt.map(Le=>`"${Le}"`).join(", ")}. ${Hn}#strictactiontypeuniqueness`)}let Bn=(()=>{class ge{constructor(Le,qe,vt,bt,Ut,dr){}}return ge.\u0275fac=function(Le){return new(Le||ge)(p.LFG(oe),p.LFG(Ln),p.LFG(fn),p.LFG(Rr),p.LFG(Ue,8),p.LFG($t,8))},ge.\u0275mod=p.oAB({type:ge}),ge.\u0275inj=p.cJS({}),ge})(),Tr=(()=>{class ge{constructor(Le,qe,vt,bt,Ut){this.features=Le,this.featureReducers=qe,this.reducerManager=vt;const dr=Le.map((ce,de)=>{const Be=qe.shift()[de];return Object.assign(Object.assign({},ce),{reducers:Be,initialState:Jr(ce.initialState)})});vt.addFeatures(dr)}ngOnDestroy(){this.reducerManager.removeFeatures(this.features)}}return ge.\u0275fac=function(Le){return new(Le||ge)(p.LFG(Qe),p.LFG(Lt),p.LFG(Nn),p.LFG(Bn),p.LFG($t,8))},ge.\u0275mod=p.oAB({type:ge}),ge.\u0275inj=p.cJS({}),ge})(),zr=(()=>{class ge{static forRoot(Le,qe={}){return{ngModule:Bn,providers:[{provide:Ue,useFactory:En,deps:[[Rr,new p.FiY,new p.tp0]]},{provide:Ce,useValue:qe.initialState},{provide:Ve,useFactory:Jr,deps:[Ce]},{provide:xe,useValue:Le},{provide:ze,useExisting:Le instanceof p.OlP?Le:xe},{provide:we,deps:[p.zs3,xe,[new p.tBr(ze)]],useFactory:qn},{provide:In,useValue:qe.metaReducers?qe.metaReducers:[]},{provide:St,deps:[Ot,In],useFactory:Yn},{provide:ve,useValue:qe.reducerFactory?qe.reducerFactory:bn},{provide:yt,deps:[ve,St],useFactory:er},nt,tr,Rt,Yr,rn,Sr(qe.runtimeChecks),On()]}}static forFeature(Le,qe,vt={}){return{ngModule:Tr,providers:[{provide:ht,multi:!0,useValue:Le instanceof Object?{}:vt},{provide:Ae,multi:!0,useValue:{key:Le instanceof Object?Le.name:Le,reducerFactory:vt instanceof p.OlP||!vt.reducerFactory?bn:vt.reducerFactory,metaReducers:vt instanceof p.OlP||!vt.metaReducers?[]:vt.metaReducers,initialState:vt instanceof p.OlP||!vt.initialState?void 0:vt.initialState}},{provide:Qe,deps:[p.zs3,ht,Ae],useFactory:Qr},{provide:ke,multi:!0,useValue:Le instanceof Object?Le.reducer:qe},{provide:xt,multi:!0,useExisting:qe instanceof p.OlP?qe:ke},{provide:Lt,multi:!0,deps:[p.zs3,ke,[new p.tBr(xt)]],useFactory:hn},On()]}}}return ge.\u0275fac=function(Le){return new(Le||ge)},ge.\u0275mod=p.oAB({type:ge}),ge.\u0275inj=p.cJS({}),ge})();function qn(ge,rt){return rt instanceof p.OlP?ge.get(rt):rt}function Qr(ge,rt,Le){return Le.map((qe,vt)=>{if(rt[vt]instanceof p.OlP){const bt=ge.get(rt[vt]);return{key:qe.key,reducerFactory:bt.reducerFactory?bt.reducerFactory:bn,metaReducers:bt.metaReducers?bt.metaReducers:[],initialState:bt.initialState}}return qe})}function hn(ge,rt){return rt.map(qe=>qe instanceof p.OlP?ge.get(qe):qe)}function Jr(ge){return"function"==typeof ge?ge():ge}function Yn(ge,rt){return ge.concat(rt)}function En(ge){if(ge)throw new TypeError("StoreModule.forRoot() called twice. Feature modules should use StoreModule.forFeature() instead.");return"guarded"}function ni(...ge){return{reducer:ge.pop(),types:ge.map(qe=>qe.type)}}function yi(ge,...rt){const Le=new Map;for(const qe of rt)for(const vt of qe.types){const bt=Le.get(vt);Le.set(vt,bt?(dr,ce)=>qe.reducer(bt(dr,ce),ce):qe.reducer)}return function(qe=ge,vt){const bt=Le.get(vt.type);return bt?bt(qe,vt):qe}}},5861:(Me,te,T)=>{"use strict";function p(V,ue,ee,le,ye,ae,ne){try{var J=V[ae](ne),X=J.value}catch(re){return void ee(re)}J.done?ue(X):Promise.resolve(X).then(le,ye)}function L(V){return function(){var ue=this,ee=arguments;return new Promise(function(le,ye){var ae=V.apply(ue,ee);function ne(X){p(ae,le,ye,ne,J,"next",X)}function J(X){p(ae,le,ye,ne,J,"throw",X)}ne(void 0)})}}T.d(te,{Z:()=>L})}},Me=>{Me(Me.s=4468)}]);